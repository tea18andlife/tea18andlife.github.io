window.__require=function e(t,i,o){function n(a,c){if(!i[a]){if(!t[a]){var l=a.split("/");if(l=l[l.length-1],!t[l]){var r="function"==typeof __require&&__require;if(!c&&r)return r(l,!0);if(s)return s(l,!0);throw new Error("Cannot find module '"+a+"'")}}var u=i[a]={exports:{}};t[a][0].call(u.exports,function(e){return n(t[a][1][e]||e)},u,u.exports,e,t,i,o)}return i[a].exports}for(var s="function"==typeof __require&&__require,a=0;a<o.length;a++)n(o[a]);return n}({Achievement:[function(e,t,i){"use strict";cc._RF.push(t,"6033decpyFJIopbLwqaFHw5","Achievement");var o=e("Utils"),n=e("EnumDefine"),s=n.LevelResult,a=e("LocalStorage"),c=e("EnumDefine").ActorType,l=e("BaseUI"),r=o.ProduceType,u=n.EnterKind;cc.Class({extends:l,properties:{role1:cc.Node,role2:cc.Node,role3:cc.Node,role4:cc.Node,role5:cc.Node,Win:cc.Node,Lose:cc.Node,uiBase:cc.Node,star1:cc.Node,star2:cc.Node,star3:cc.Node,continue:cc.Node,midbk:cc.Node,freeSpin:cc.Node,freeSpinlabel:{default:null,type:cc.Label},scorelabel:{default:null,type:cc.Label},coinlabel:{default:null,type:cc.Label},diamondlabel:{default:null,type:cc.Label},word:{default:null,type:cc.Label},audioWin:{type:cc.AudioSource,default:null},audioLose:{type:cc.AudioSource,default:null}},onLoad:function(){this.Win.active=!1,this.Lose.active=!1,this.coinlabel.string="0",this.diamondlabel.string="0",this.star1.active=!1,this.star2.active=!1,this.star3.active=!1,this.continue.scale=0},start:function(){var e=o.levelID,t=o.levelResultData,i=t.levelResult,n=t.coinNum,c=t.diamondNum,l=t.score;this.showScore(l);var r=o.FreeSpinVal;i===s.Win?(this.Win.active=!0,this.word.string="\u5f88\u597d!",0===a.instance.getLevelPassed(e)&&(r+=3,a.instance.setLevelPassed(e,1))):(this.Lose.active=!0,this.word.string="\u7ee7\u7eed\u52a0\u6cb9!");var u=a.instance.getFreeSpinVal();u+=r,a.instance.setFreeSpinVal(u),this.coinlabel.string=n+"",this.diamondlabel.string=c+"";var h=function(){switch(this.produceCoin(n),this.produceDiamond(c),this.showActors(i),i){case s.Win:this.winAudio(),this.Lose.active=!1,this.Win.active=!0,this.Win.getComponent("Win").showWin();var t=function(e){var t=1;o.passLevelStars=3;var i=parseInt(e.OneStarsIntegral),n=parseInt(e.TwoStarsIntegral),s=parseInt(e.ThreeStarsIntegral);l>=i&&l<n?t=1:l>n&&l<s?t=2:l>=s&&(t=3),o.passLevelStars=t,o.levelResultData.star=t,this.showStars(t),this.showContinue(),this.showFreeSpinVal(r)}.bind(this);this.loadStarScoreData(e,t);break;case s.Lose:this.loseAudio(),this.Win.active=!1,this.Lose.active=!0}}.bind(this);this.scaleShow(this.midbk,h)},showScore:function(e){this.scorelabel.string=e+""},showFreeSpinVal:function(e){var t=this;if(e>0){var i=new cc.Node(""),o=i.addComponent("cc.Sprite");i.parent=this.freeSpin.parent,i.position=cc.v2(-186,0);cc.loader.loadRes("texture/UI",cc.SpriteAtlas,function(e,t){var i=t.getSpriteFrame("keyup");o.spriteFrame=i});var n=cc.moveTo(.5,this.freeSpin.position),s=cc.callFunc(function(){t.freeSpinlabel.string=e+"",i.destroy()},this);i.runAction(cc.sequence(n,s))}},showContinue:function(){var e=cc.scaleTo(.5,1).easing(cc.easeOut(3));this.continue.runAction(e)},showStars:function(e){var t=[];1===e?(this.star1.active=!0,this.star2.active=!1,this.star3.active=!1,t.push(this.star1)):2===e?(this.star1.active=!0,this.star2.active=!0,this.star3.active=!1,t.push(this.star1),t.push(this.star2)):3===e&&(this.star1.active=!0,this.star2.active=!0,this.star3.active=!0,t.push(this.star1),t.push(this.star2),t.push(this.star3));for(var i=[],o=0;o<t.length;o++){var n=t[o],s=cc.callFunc(this.showStar.bind(this,n));i.push(s),i.push(cc.delayTime(.1))}i.length>0&&this.node.runAction(cc.sequence(i))},showStar:function(e){var t=e.scale;e.scale=0;var i=cc.scaleTo(.5,t).easing(cc.easeBounceInOut());e.runAction(i)},showActors:function(e){for(var t=[c.Actor1,c.Actor2,c.Actor3,c.Actor4,c.Actor5],i=[this.role1,this.role2,this.role3,this.role4,this.role5],n=0;n<t.length;n++){var l=t[n],r=i[n],u=r.getChildByName("skeleton"),h=r.getChildByName("box");u.active=!1,h.active=!1;var p=a.instance.getRoleData(l);p?function(){u.active=!0;var t=p.roletype,i=p.level,n="spine/actor/"+o.getActorSpineName(t,i),a=u.getComponent("sp.Skeleton");cc.loader.loadRes(n,sp.SkeletonData,function(t,i){t&&cc.error(t),a.skeletonData=i,e===s.Win?a.setAnimation(0,"idle",!0):a.setAnimation(0,"idle2",!0)})}():h.active=!0}},produceDiamond:function(e){if(!(e<=0)&&this.uiBase){var t=this.uiBase.getComponent("UIBase"),i=(t.coinlabel,t.diamondlabel),n=this.diamondlabel,s=n.node.parent.convertToWorldSpaceAR(n.node.position);s=this.node.convertToNodeSpaceAR(s);var a=this.node,c=i.node.parent.convertToWorldSpaceAR(i.node.position);c=this.node.convertToNodeSpaceAR(c);var l=e/1,u=function(){t.updateDiamond(l),t.playCoin()}.bind(this);o.produceRandomNodeLineMove(r.Diamond,1,s,c,a,u)}},produceCoin:function(e){if(!(e<=0)&&this.uiBase){var t=this.uiBase.getComponent("UIBase"),i=t.coinlabel,n=(t.diamondlabel,this.coinlabel),s=n.node.parent.convertToWorldSpaceAR(n.node.position);s=this.node.convertToNodeSpaceAR(s);var a=this.node,c=i.node.parent.convertToWorldSpaceAR(i.node.position);c=this.node.convertToNodeSpaceAR(c);var l=parseInt(e/10)+parseInt(e%10),u=function(){t.updateCoin(e),t.playCoin()}.bind(this);o.produceRandomNodeLineMove(r.ButtonCoin,l,s,c,a,u)}},onBtnContinueClicked:function(){cc.director.loadScene("SpinChest",function(){var e=cc.director.getScene()._children[0].getComponent("CanvasInit");e&&e.setEnterCode(u.Map)}.bind(this))},winAudio:function(){this.audioWin.play()},loseAudio:function(){this.audioLose.play()},loadStarScoreData:function(e,t){cc.loader.loadRes("json/StarScore",function(i,o){for(var n=o.json,s=0;s<n.length;s++){var a=n[s];parseInt(a.levelID)===e&&t&&t(a)}})}}),cc._RF.pop()},{BaseUI:"BaseUI",EnumDefine:"EnumDefine",LocalStorage:"LocalStorage",Utils:"Utils"}],ActorUIPage:[function(e,t,i){"use strict";cc._RF.push(t,"6fc3cXofbhDOLHyVjw7rA7B","ActorUIPage");var o=e("JsonData"),n=e("LocalStorage"),s=e("EnumDefine").ActorType,a=e("Utils");cc.Class({extends:cc.Component,properties:{roleName:cc.Label,level:cc.Label,skillDescription:cc.Label,role:sp.Skeleton,skillSp:cc.Sprite,levelBk:cc.Node,glare:cc.Node,extractionStar:cc.Node,showRoleBtn:cc.Button,unlockNode:cc.Node,UIBaseNode:cc.Node},onLoad:function(){this.lock=!0;var e=20,t=cc.rotateBy(e,360),i=cc.repeatForever(t);this.glare.runAction(i),e=30,t=cc.rotateBy(e,360),i=cc.repeatForever(t),this.extractionStar.runAction(i),this.uibase=this.UIBaseNode.getComponent("UIBase")},start:function(){},unlockRole:function(e,t){this.lock=!1,this.role.node.color=cc.Color.WHITE,this.levelBk.active=!0,this.extractionStar.active=!0,this.initRole(e,t),this.initSkillDescription(e),this.initSkillSp(e),this.unlockNode.active=!1,this.showRoleBtn.interactable=!0},init:function(e){var t=n.instance.getRoleData(e);if(t)this.unlockRole(e,t.level);else{this.lock=!0;this.role.node.color=cc.Color.BLACK,this.extractionStar.active=!1,this.levelBk.active=!1,this.initRole(e,1),this.initSkillDescription(e),this.initSkillSp(e),this.unlockNode.active=!0,this.showRoleBtn.interactable=!1;var i=this.unlockNode.getChildByName("num").getComponent("cc.Label");o.instance.getBuyRoleData(e+1,function(e){e&&(i.string=e.BuyPrice+"")})}switch(this.roleName.string=a.getRoleName(e),e){case s.Actor1:var c=this.glare.getComponent(cc.Sprite);a.SetUISpriteFrame(c,"redglare"),this.levelBk.color=cc.color(213,60,31,255);break;case s.Actor2:var l=this.glare.getComponent(cc.Sprite);a.SetUISpriteFrame(l,"blueglare"),this.levelBk.color=cc.color(83,101,195,255);break;case s.Actor3:var r=this.glare.getComponent(cc.Sprite);a.SetUISpriteFrame(r,"yellowglare"),this.levelBk.color=cc.color(224,155,66,255);break;case s.Actor4:var u=this.glare.getComponent(cc.Sprite);a.SetUISpriteFrame(u,"greenglare"),this.levelBk.color=cc.color(72,224,66,255);break;case s.Actor5:var h=this.glare.getComponent(cc.Sprite);a.SetUISpriteFrame(h,"whiteglare"),this.levelBk.color=cc.color(230,205,233,255)}},initSkillSp:function(e){switch(e){case s.Actor1:this.loadSkill("horialProp");break;case s.Actor2:this.loadSkill("circleProp");break;case s.Actor3:this.loadSkill("crossProp");break;case s.Actor4:this.loadSkill("xProp");break;case s.Actor5:this.loadSkill("colorBrush")}},loadSkill:function(e){var t=this.skillSp;cc.loader.loadRes("texture/UI",cc.SpriteAtlas,function(i,o){var n=o.getSpriteFrame(e);t.spriteFrame=n})},initSkillDescription:function(e){var t=this;o.instance.getBuyRoleData(e+1,function(e){if(e){var i=e.skill_chinese;t.skillDescription.string=i}})},initRole:function(e,t){var i=this.role,n=this;o.instance.loadRoleUpgradeData(e+1,t,function(t){if(t){n.level.string=t.level+"";var o="spine/actor/"+a.getActorSpineName(e,t.level),s=i.getComponent("sp.Skeleton");cc.loader.loadRes(o,sp.SkeletonData,function(e,t){e&&cc.error(e),s.skeletonData=t,n.lock||s.setAnimation(0,"idle",!0)})}})},onBtnUnlockRole:function(e,t){var i=e.target,s=parseInt(t),a=this;o.instance.getBuyRoleData(s+1,function(e){if(e){var t=parseInt(e.BuyPrice);if(a.buyRoleDiamond(t)){o.instance.loadRoleUpgradeData(s+1,1,function(e){var t={};t.roletype=s,t.level=e.level,t.attack=e.attack,n.instance.setRoleData(t),a.unlockRole(s,e.level)}),i.destroy()}}})},buyRoleDiamond:function(e){var t=!1;this.uibase&&(this.uibase.getDiamondNum()>=e&&(t=!0,this.uibase.updateDiamond(-e)));return t}}),cc._RF.pop()},{EnumDefine:"EnumDefine",JsonData:"JsonData",LocalStorage:"LocalStorage",Utils:"Utils"}],ActorUIX:[function(e,t,i){"use strict";cc._RF.push(t,"19d2fpg9hZGoJ9nYWHBNDpk","ActorUIX");var o=e("BaseUI");cc.Class({extends:o,properties:{midbk:cc.Node},onLoad:function(){},start:function(){}}),cc._RF.pop()},{BaseUI:"BaseUI"}],ActorUI:[function(e,t,i){"use strict";cc._RF.push(t,"f471bZSbipJGJ3L3zIwKauG","ActorUI");var o=e("EnumDefine").EnterKind,n=e("BaseUI");cc.Class({extends:n,properties:{PageView:cc.PageView,baseNode:cc.Node,midbk:cc.Node},onLoad:function(){this.uibase=this.baseNode.getComponent("UIBase")},start:function(){},onBtnCloseActorUI:function(){var e=function(){var e=o.Main,t=cc.find("Canvas").getComponent("CanvasInit");switch(t&&(e=t.enterCode),e){case o.Main:cc.director.loadScene("Main");break;case o.Map:cc.director.loadScene("Map")}}.bind(this);this.scaleClose(this.midbk,e)},onBtnCloseSubActorUI:function(){this.UpGradeNode.active=!1,this.PageView.node.active=!0},onBtnShowRole:function(e,t){var i=cc.director.getScene()._children[0],o=this;cc.loader.loadRes("prefab/UpGradeActorUI",function(e,n){var s=cc.instantiate(n);s.parent=i,s.position=cc.v2(0,0),s.active=!0;var a=s.getComponent("UpGradeActorUI"),c=parseInt(t);o.baseNode&&a.init(c,o.uibase)})}}),cc._RF.pop()},{BaseUI:"BaseUI",EnumDefine:"EnumDefine"}],Actor:[function(e,t,i){"use strict";cc._RF.push(t,"d7905Le0oVD250k6gtCpB0J","Actor");var o=e("EnumDefine").ActorType,n=e("EnumDefine").CellType,s=e("EnumDefine").HurtFont,a=e("PoolMng"),c=e("RPGManager"),l=e("CameraManager"),r=e("PlayFightAudio"),u=e("JsonData"),h=e("Board"),p=e("ProcessBoardCell"),d=e("Game"),f=cc.v2(),m=0;cc.Class({extends:cc.Component,properties:{},ctor:function(){this.petData={},this.roleData={},this.roletype=o.UnKnown,this.celltypelist=[],this._fireDelay=.15,this._startFire=!1,this.roleSkeleton=null,this._hurtfont=s.Red},setData:function(e,t,i){this.roleData=t,this.petData=e,this.roletype=t.roletype,this.roleSkeleton=i;var o=this.roleData.roletype,n=this.roleData.level,s=this;u.instance.loadRoleUpgradeData(o+1,n,function(e){s.roleData.attack=e.attack})},onLoad:function(){},onDisable:function(){},setAntiAliasTexParameters:function(){this.roleSkeleton&&this.roleSkeleton.skeletonData.textures[0].setFilters(cc.Texture2D.Filter.LINEAR,cc.Texture2D.Filter.LINEAR)},getAttack:function(e){var t=c.instance.getMonster();if(!t)return 0;var i=t.getComponent("Monster"),o=this.roleData.attack,n=0;return e===i.getDefenceCellType()?0:(e===i.getAttackAddtionCellType()&&(n=parseInt(1*o)),o+n)},tripSkill:function(e){var t=function(){this.spawnProp(e)}.bind(this);return this.skillAction(t)},skillAction:function(e){var t=this.node.scale,i=cc.scaleTo(.2,1.5).easing(cc.easeBounceInOut()),o=cc.scaleTo(.2,t).easing(cc.easeBounceInOut()),n=cc.sequence(i,o),s=cc.jumpBy(.1,cc.v2(0,0),40,1).easing(cc.easeOut(3)),a=cc.jumpBy(.1,cc.v2(0,0),-40,1).easing(cc.easeOut(3)),c=cc.skewTo(.1,0,2),l=cc.skewTo(.1,0,0),r=cc.sequence(c,l),u=cc.sequence(s,a),h=cc.spawn(n,u,r),p=cc.callFunc(function(){e&&e()},this),d=cc.sequence(cc.delayTime(.2),h,p);return this.node.runAction(d),.2+.4},spawnProp:function(e){var t="prefab/cell/",i="",s=n.UnKnown,a=n.UnKnown,l=cc.color(255,255,255,255);switch(this.roletype){case o.Actor1:i="HorinalProp",s=n.HorinalProp,a=n.Cell1;break;case o.Actor2:i="VerticalProp",s=n.VerticalProp,a=n.Cell2,l=cc.color(14,25,194,255);break;case o.Actor3:i="CrossProp",s=n.CrossProp,a=n.Cell3;break;case o.Actor4:i="XCrossProp",s=n.XCrossProp,a=n.Cell4;break;case o.Actor5:i="XXCrossProp",s=n.XXCrossProp,a=n.Cell5}var r=this;t+=i,cc.loader.loadRes(t,function(t,i){var o=cc.instantiate(i);o.addComponent("Cell"),o.getComponent("Cell").celltype=s;var n=c.instance.boardNode;o.parent=n,o.scale=.8,o.anchorX=0,o.anchorY=0;var u=r.getWorldPos();u=o.parent.convertToNodeSpaceAR(u),o.x=u.x,o.y=u.y,o.group="UI",r.shootProp(o,l,s,a,e)})},shootProp:function(e,t,i,o,n){var s=this,a=p.instance.randomGetCellFromTopToBottom(1);if(a.length>0){var c=a[0],l=c.position,r=Math.abs(c.width-e.width),u=Math.abs(c.height-e.height);l.x+=r,l.y+=u;var d=cc.v2();l.sub(e.position,d);var f=cc.moveTo(n,l),m=cc.callFunc(function(){var t=c.getComponent("Cell"),n=function(n){p.instance.setCell(t.column,t.row,n),h.instance.deSpawnCell(c),(t=n.getComponent("Cell")).init(i,1),t.setCellPropNormalType(o),e.destroy()}.bind(s);h.instance.spawnCell(i,t.column,t.row,1,n)},this),v=cc.sequence(f,m);e.runAction(v)}else e.destroy()},IsAttack:function(){return this._startFire},getWorldPos:function(){var e=this.node.parent.convertToWorldSpaceAR(this.node.getPosition());return l.instance.battleCameraNode.getComponent("cc.Camera").getWorldToCameraPoint(e,f),f},findBone:function(e){var t=this.node.getComponent("sp.Skeleton"),i=t.findBone(e);return i?(t.updateWorldTransform(),[i.data.length*i.a+i.worldX,i.data.length*i.c+i.worldY,i.getWorldRotationX()]):[]},start:function(){},pushCell:function(e){this.celltypelist.push(e)},fire:function(){if(!this._startFire){if(c.instance.getMonster()&&0!=this.celltypelist.length){this.node.getComponent("sp.Skeleton").timeScale=2;var e=this.celltypelist.length;return e<=3?this._hurtfont=s.Red:e<=5?this._hurtfont=s.Purble:e<=10?this._hurtfont=s.Orange:(this._hurtfont=s.ScoreRed,d.instance.showCombo("",!0),m=.2),this.shootBulletlist(this.celltypelist),this.celltypelist.length=0,void(this._startFire=!0)}this.fireOver()}},idle:function(){var e=this.node.getComponent("sp.Skeleton");e.setAnimation(0,"idle",!0),e.timeScale=1},getBoneName:function(){switch(this.roletype){case o.Actor1:case o.Actor2:return"pipe";case o.Actor3:case o.Actor4:return"head";case o.Actor5:return"gun04"}},shootBulletlist:function(e){for(var t=this,i=[],o=function(o){var n=e[o],s=cc.callFunc(function(){var e=t,i=function(t){c.instance.getMonster()||e.fireOver()}.bind(e);t.shootBullet(n,i)},t);i.push(s),i.push(cc.delayTime(t._fireDelay))},n=0;n<e.length;n++)o(n);var s=cc.callFunc(function(){t.fireOver()},this);if(i.push(s),i.length>0){this.node.stopActionByTag(10);var a=cc.sequence(i);a.setTag(10),this.node.runAction(a)}},fireOver:function(){this.idle(),this.node.stopActionByTag(10),this._startFire=!1,c.instance.fireOver()},shootBullet:function(e,t){var i=this,o=c.instance.getMonster();if(o){var n=o.getComponent("Monster"),s=this.roleData.attack,l=0;e===n.getAttackAddtionCellType()&&(l=parseInt(1*s)),r.instance.playShootbullet(),this.node.getComponent("sp.Skeleton").setAnimation(0,"attack",!1);var u=cc.callFunc(function(){var n,c=i.getBoneName(),r=cc.v2(),u=i.findBone(c);r.x=u[0],r.y=u[1],n=u[2],r.x+=i.node.x,r.y+=i.node.y;var h=a.instance.getBullet(e);h.zIndex=10,h.parent=i.node.parent,h.x=r.x,h.y=r.y,h.rotation=n;var p=cc.misc.degreesToRadians(n),d=Math.sin(p)*h.width*.5,f=Math.cos(p)*h.height*.5;h.x+=d,h.y+=f;var v=o.getPosition().sub(h.getPosition()),g=h.getComponent("Bullet");g.init(i._hurtfont,o,v,e,t);var C=s+l;C+=C*m,g.damage=C},this);this.node.runAction(cc.sequence(cc.delayTime(.1),u))}else t&&t(!0)}}),cc._RF.pop()},{Board:"Board",CameraManager:"CameraManager",EnumDefine:"EnumDefine",Game:"Game",JsonData:"JsonData",PlayFightAudio:"PlayFightAudio",PoolMng:"PoolMng",ProcessBoardCell:"ProcessBoardCell",RPGManager:"RPGManager"}],AddTime:[function(e,t,i){"use strict";cc._RF.push(t,"3ac26QOzNpK0KrWZ2PDtHXN","AddTime");var o=e("RPGManager"),n=(e("Game"),e("Utils")),s=e("LocalStorage"),a=e("BaseUI");cc.Class({extends:a,properties:{},onLoad:function(){this.scaleShow(this.node),this.uibaseData=s.instance.getUIBase()},start:function(){},onBtnCloseClicked:function(e){var t=function(){o.instance.lose(),this.node.removeFromParent()}.bind(this);this.close(t)},onBtnAddTimeClicked:function(e){if(this.uibaseData.diamond>=10){this.uibaseData.diamond-=10;var t=function(){o.instance.addBossTime(.3),this.node.removeFromParent()}.bind(this);this.close(t)}else;},onBtnLookAdsClicked:function(e){},close:function(e){var t=this.node.scale,i=cc.scaleTo(.06,1.1*t,1.1*t).easing(cc.easeBounceInOut()),o=cc.scaleTo(.06,0).easing(cc.easeBounceInOut()),n=cc.callFunc(function(){e&&e()},this),s=cc.sequence(i,o,n);this.node.runAction(s)},onDisable:function(){n.writeUIBaseData(this.uibaseData)}}),cc._RF.pop()},{BaseUI:"BaseUI",Game:"Game",LocalStorage:"LocalStorage",RPGManager:"RPGManager",Utils:"Utils"}],AudioEngineControl:[function(e,t,i){"use strict";cc._RF.push(t,"2bb054pDyBLErZjuQZx5d9W","AudioEngineControl");var o=e("Utils");cc.Class({extends:cc.Component,properties:{audio:{type:cc.AudioClip,default:null}},_updateLabel:function(){},onLoad:function(){this.maxNum=cc.audioEngine.getMaxAudioInstance(),this.audioPool=[],this._updateLabel(),["playMusic","playEffect"].forEach(function(e){cc.audioEngine[e]||cc.warn("."+e+" is not found!")}),this.play()},removeAudio:function(e){var t=this.audioPool.indexOf(e);t>-1&&this.audioPool.splice(t,1),this._updateLabel()},play:function(){if(this.audio){var e=o.mainSceneAudioID;-1!==e?this.resume(e):o.mainSceneAudioID=cc.audioEngine.play(this.audio,!0,1)}},resume:function(e){cc.audioEngine.resume(e)},stopAll:function(){cc.audioEngine.stopAll()},pauseAll:function(){cc.audioEngine.pauseAll()},resumeAll:function(){cc.audioEngine.resumeAll()},onDisable:function(){cc.audioEngine.resumeAll()}}),cc._RF.pop()},{Utils:"Utils"}],AudioSourceControl:[function(e,t,i){"use strict";cc._RF.push(t,"bf9167xLLBBI6Al16DO7Wt/","AudioSourceControl"),cc.Class({extends:cc.Component,properties:{audioSource:{type:cc.AudioSource,default:null},label:{type:cc.Label,default:null}},onLoad:function(){},update:function(){if(this.label){var e=this.audioSource;this.label.string=e.getCurrentTime().toFixed(1)+" s / "+e.getDuration().toFixed(1)+" s"}},play:function(){this.audioSource.play()},pause:function(){this.audioSource.pause()},stop:function(){this.audioSource.stop()},resume:function(){this.audioSource.resume()}}),cc._RF.pop()},{}],BaseUI:[function(e,t,i){"use strict";cc._RF.push(t,"def68NpuulJUp+oXqi8EQIx","BaseUI"),cc.Class({extends:cc.Component,properties:{},start:function(){},scaleShow:function(e,t){var i=this.node.scale,o=cc.scaleTo(.08,1.08*i,1.08*i).easing(cc.easeBounceInOut()),n=cc.scaleTo(.08,1*i,1*i).easing(cc.easeBounceInOut()),s=cc.scaleTo(.08,1.05*i,1.05*i).easing(cc.easeBounceInOut()),a=cc.scaleTo(.08,1*i,1*i).easing(cc.easeBounceInOut()),c=cc.callFunc(function(){t&&t()},this),l=cc.sequence(o,n,s,a,c,null);e.runAction(l)},scaleClose:function(e,t){var i=this.node.scale,o=cc.scaleTo(.1,1.1*i,1.1*i).easing(cc.easeBounceInOut()),n=cc.scaleTo(.1,0).easing(cc.easeBounceInOut()),s=cc.callFunc(function(){t&&t()},this),a=cc.sequence(o,n,s);e.runAction(a)}}),cc._RF.pop()},{}],BattleGuide:[function(e,t,i){"use strict";cc._RF.push(t,"7913bjGh3xJao7cTOSSkV8V","BattleGuide");var o=e("Utils");cc.Class({extends:cc.Component,properties:{},onLoad:function(){var e=o.levelID;switch(e=parseInt(e)){case 1:this.showRolePet()}},start:function(){},onBtnOkClicked:function(e){this.node.removeFromParent()},showBossFight:function(){var e=cc.director.getScene()._children[0];cc.loader.loadRes("prefab/guide/BossFightGuide",function(t,i){t&&cc.error(t);var o=cc.instantiate(i);o.zIndex=10,o.parent=e})},showRolePet:function(){var e=cc.director.getScene()._children[0];cc.loader.loadRes("prefab/guide/RolePetGuide",function(t,i){t&&cc.error(t);var o=cc.instantiate(i);o.zIndex=10,o.parent=e})},showOpenBox:function(){var e=cc.director.getScene()._children[0];cc.loader.loadRes("prefab/guide/OpenBoxGuide",function(t,i){t&&cc.error(t);var o=cc.instantiate(i);o.zIndex=10,o.parent=e})}}),cc._RF.pop()},{Utils:"Utils"}],BattlePets:[function(e,t,i){"use strict";cc._RF.push(t,"f34eaBxzT9Ov7oONUlQr6e9","BattlePets");e("JsonData");var o=e("LocalStorage"),n=(e("EnumDefine").ActorType,e("Utils"));cc.Class({extends:cc.Component,properties:{itemTemplate:{default:null,type:cc.Node},scrollView:{default:null,type:cc.ScrollView},spawnCount:0,totalCount:0,spacing:0},ctor:function(){this.petDatas={}},onLoad:function(){this.content=this.scrollView.content,this.items=[],this.updateTimer=0,this.updateInterval=.2,this.lastContentPosY=0,this.spawnBattlelist()},initialize:function(){for(var e=0;e<5;++e){var t=cc.instantiate(this.itemTemplate);this.content.addChild(t),t.setPosition(50+t.width*e+this.spacing*(e+1),0),this.items.push(t)}},spawnBattlelist:function(){var e=o.instance.getBattlePetData();if(e)for(var t in e){var i=e[t];i&&this.createOnePet(i)}},createOnePet:function(e){var t="spine/pet/";t+=n.getPetFileName(e.ID-1);var i=this;cc.loader.loadRes(t,sp.SkeletonData,function(t,o){t&&cc.error(t);var n=new cc.Node;n.scale=1.5;var s=n.addComponent("sp.Skeleton");s.skeletonData=o,n.parent=i.content,n.name=e.ID+"",i.items.push(n),i.petDatas[e.ID]=e,i.writePetData(),i.arrageContent();var a=cc.callFunc(function(){s.setAnimation(0,"idle",!0)});n.runAction(cc.sequence(cc.delayTime(.01),a))})},addOnePet:function(e){if(e){for(var t in this.petDatas)if(t===e.ID)return;this.createOnePet(e)}},removeOnePet:function(e){delete this.petDatas[e.ID];var t=e.ID+"",i=this.items,o=this.content,n=o.getChildByName(t);if(n){var s=i.indexOf(n);i.splice(s,1),o.removeChild(n),this.arrageContent()}this.writePetData()},arrageContent:function(){var e=0,t=null;if(!(this.items.length<=0)){for(var i=0;i<this.items.length;i++){var o=this.items[i];e+=o.width*o.scale+this.spacing}(t=this.items[0]).setPosition(50,-50);for(var n=1;n<this.items.length;n++){var s=this.items[n];s.setPosition(t.x+t.width*t.scale/2+s.width*s.scale/2+this.spacing,t.y),t=s}this.content.width=e+500}},writePetData:function(){o.instance.setBattlePetData(this.petDatas)}}),cc._RF.pop()},{EnumDefine:"EnumDefine",JsonData:"JsonData",LocalStorage:"LocalStorage",Utils:"Utils"}],BlockCover:[function(e,t,i){"use strict";cc._RF.push(t,"a9a14u+CAFPhq0DKnA31AJ/","BlockCover");var o=e("Board");cc.Class({extends:cc.Component,properties:{salives:{default:[],type:cc.Node}},onLoad:function(){for(var e=0;e<this.salives.length;e++){this.salives[e].active=!1}},start:function(){},init:function(e){if(this._lv=e,e>0)for(var t=0;t<e;t++){this.salives[t].active=!0}},spawnSaliveDust:function(e,t){var i="prefab/particle/";i+="saliveDustParticle",cc.loader.loadRes(i,function(i,o){i&&cc.error(i);var n=cc.instantiate(o);n.parent=e,n.position=t,n.zIndex=10,n.runAction(cc.sequence(cc.delayTime(.5),cc.removeSelf()))})},hurt:function(){this.hurtSalive()},IsAllRemoved:function(){return this._lv<=0},hurtSalive:function(){if(this._lv>0){var e=this._lv-1,t=this.salives[e],i=t.parent,n=t.position;t.active=!1,i=o.instance.node,n=this.node.parent.convertToWorldSpaceAR(this.node.position),n=i.convertToNodeSpaceAR(n),this.spawnSaliveDust(i,n),this._lv-=1}}}),cc._RF.pop()},{Board:"Board"}],BlockSide:[function(e,t,i){"use strict";cc._RF.push(t,"bfa0bogDUNOgbn2h8Sg+1Iz","BlockSide");var o=e("EnumDefine"),n=o.CellsRelativeDir,s=(o.GameStages,e("Board")),a=e("Utils"),c=e("ProcessStory");cc.Class({extends:cc.Component,properties:{sideLNodes:{default:[],type:cc.Node},sideRNodes:{default:[],type:cc.Node},sideTNodes:{default:[],type:cc.Node},sideBNodes:{default:[],type:cc.Node}},onLoad:function(){var e=a.levelData.StageID;this.initStage(e);for(var t=0;t<this.sideLNodes.length;t++){this.sideLNodes[t].active=!1}for(var i=0;i<this.sideRNodes.length;i++){this.sideRNodes[i].active=!1}for(var o=0;o<this.sideTNodes.length;o++){this.sideTNodes[o].active=!1}for(var n=0;n<this.sideBNodes.length;n++){this.sideBNodes[n].active=!1}this._data=null},start:function(){},init:function(e){this._data=e;JSON.stringify(e);if(e.sideLNum>0)for(var t=0;t<e.sideLNum;t++){this.sideLNodes[t].active=!0}if(e.sideRNum>0)for(var i=0;i<e.sideRNum;i++){this.sideRNodes[i].active=!0}if(e.sideTNum>0)for(var o=0;o<e.sideTNum;o++){this.sideTNodes[o].active=!0}if(e.sideBNum>0)for(var n=0;n<e.sideBNum;n++){this.sideBNodes[n].active=!0}},spawnBufferDust:function(e,t){var i="prefab/particle/";i+="killBlockBuffer",cc.loader.loadRes(i,function(i,o){i&&cc.error(i);var n=cc.instantiate(o);n.zIndex=10,n.parent=e,n.position=t})},IsSideAllRemoved:function(){var e=!1;return(this._data.sideLNum>0||this._data.sideRNum>0||this._data.sideTNum>0||this._data.sideBNum>0)&&(e=!1),e},hurt:function(e){switch(e){case n.Left:this.hurtLeft();break;case n.Right:this.hurtRight();break;case n.Top:this.hurtTop();break;case n.Bottom:this.hurtBottom();break;case n.AllDir:this.skillHurt()}},skillHurt:function(){this.hurtLeft(),this.hurtRight(),this.hurtTop(),this.hurtBottom()},hurtLeft:function(){if(this._data.sideLNum>0){var e=this._data.sideLNum-1,t=this.sideLNodes[e],i=t.parent,o=t.position;t.active=!1,i=s.instance.node,o=this.node.parent.convertToWorldSpaceAR(this.node.position),o=i.convertToNodeSpaceAR(o),this.spawnBufferDust(i,o),this._data.sideLNum-=1}},hurtRight:function(){if(this._data.sideRNum>0){var e=this._data.sideRNum-1,t=this.sideRNodes[e],i=t.parent,o=t.position;t.active=!1,i=s.instance.node,o=this.node.parent.convertToWorldSpaceAR(this.node.position),o=i.convertToNodeSpaceAR(o),this.spawnBufferDust(i,o),this._data.sideRNum-=1}},hurtTop:function(){if(this._data.sideTNum>0){var e=this._data.sideTNum-1,t=this.sideTNodes[e],i=t.parent,o=t.position;t.active=!1,i=s.instance.node,o=this.node.parent.convertToWorldSpaceAR(this.node.position),o=i.convertToNodeSpaceAR(o),this.spawnBufferDust(i,o),this._data.sideTNum-=1}},hurtBottom:function(){if(this._data.sideBNum>0){var e=this._data.sideBNum-1,t=this.sideBNodes[e];t.active=!1;var i=t.parent,o=t.position;i=s.instance.node,o=this.node.parent.convertToWorldSpaceAR(this.node.position),o=i.convertToNodeSpaceAR(o),this.spawnBufferDust(i,o),this._data.sideBNum-=1}},initStage:function(e){for(var t=c.instance.stageFileNamesData,i=(t.path,a.StageSpriteAtlas.getSpriteFrame(t.topin)),o=0;o<this.sideLNodes.length;o++){this.sideLNodes[o].getComponent("cc.Sprite").spriteFrame=i}for(var n=0;n<this.sideRNodes.length;n++){this.sideRNodes[n].getComponent("cc.Sprite").spriteFrame=i}for(var s=0;s<this.sideTNodes.length;s++){this.sideTNodes[s].getComponent("cc.Sprite").spriteFrame=i}for(var l=0;l<this.sideBNodes.length;l++){this.sideBNodes[l].getComponent("cc.Sprite").spriteFrame=i}}}),cc._RF.pop()},{Board:"Board",EnumDefine:"EnumDefine",ProcessStory:"ProcessStory",Utils:"Utils"}],Board:[function(e,t,i){"use strict";cc._RF.push(t,"674aeUIoG1B7ZSSZD734Nj9","Board");var o=e("Utils").NUMROWS,n=e("Utils").NUMCOLUMNS,s=e("PoolMng"),a=e("Utils"),c=(e("Utils").TITLE_WIDTH,e("Utils").TITLE_HEIGHT,e("EnumDefine").CellType),l=e("EnumDefine").CellAnimationType,r=e("EnumDefine").DrawlineKind,u=e("EnumDefine").CellsRelativeDir,h=(e("EnumDefine").Direction,e("RPGManager")),p=e("PlayFightAudio"),d=e("ShowFloatWord"),f=e("Game"),m=(e("JsonData"),cc.Class({extends:cc.Component,properties:{RPGNode:cc.Node,UI:cc.Node,UIMask:cc.Node,CloseTouch:cc.Node,DrawlineMask:cc.Node,circle:cc.Prefab},onLoad:function(){m.instance=this,this.touchlist=[],this.sideProplist=[],this.lastTouchCell=null,this.DropCell=this.node.getComponent("DropCell"),this.Portal=this.node.getComponent("Portal"),this.SpawnCells=this.node.getComponent("SpawnCells"),this.RemoveCells=this.node.getComponent("RemoveCells"),this.CellAttack=this.node.getComponent("CellAttack"),this.skillUI=this.UI.getComponent("PetSkillUI"),this.ProcessBoardCell=this.node.getComponent("ProcessBoardCell"),this.PropCellAttackArea=this.node.getComponent("PropCellAttackArea"),this.CellsAnimation=this.node.getComponent("CellsAnimation"),this.Drawline=this.node.getComponent("DrawLine"),this.userInteract=!1,this.UIMask.active=!1,this.DrawlineMask.zIndex=1,this.DrawlineMask.active=!1,this._cellsAttackDone=!1,this._cellAttackDoneCallback=null,this._potralDone=!1,this._circleNode=null,this.registerTouch()},start:function(){},init:function(e){this.game=e},statics:{instance:null},drawGuideline:function(){this.Drawline.drawGuideline()},getlineKind:function(e){return r.Normal},spawnCells:function(e){var t=function(){this.setUserInteract(!0)}.bind(this);this.SpawnCells.createBoardCell(e,t)},registerTouch:function(){var e=this;e.node.on(cc.Node.EventType.TOUCH_START,function(t){e.touchBegin(t,e)},e),e.node.on(cc.Node.EventType.TOUCH_MOVE,function(t){e.touchMove(t,e)},e),e.node.on(cc.Node.EventType.TOUCH_END,function(t){e.touchEnd(t,e)},e),e.node.on(cc.Node.EventType.TOUCH_CANCEL,function(t){e.touchEnd(t,e)},e)},touchBegin:function(e,t){this.Drawline.clearlines();var i=e.getTouches()[0].getLocation(),o=t.touchOneCell(i);if(null!=o){var n=o.getComponent("Cell");if(n.normalCell()||n.propNormalCell()){var s=this.getlineKind(n);return t.touchlist.push(o),t.lastTouchCell=o,o.zIndex=3,n.touch(),this.skillUI.addSkill(n.celltype),this.Drawline.drawline(o,s),this.Drawline.removeGuideline(),this.DrawlineMask.active=!0,this.changeCellsZIndex(n.celltype,3),this.showPropsArea(this.touchlist),void this.drawlineHurtMonster(this.touchlist)}}},touchMove:function(e,t){var i=e.getTouches()[0].getLocation(),o=t.touchOneCell(i);if(o&&o!==this.lastTouchCell){var n=this.touchlist.length;if(n>=2){var s=n-2,a=this.touchlist[s].getComponent("Cell"),c=o.getComponent("Cell");if(a.row===c.row&&a.column===c.column){this.Drawline.deleteline(this.lastTouchCell);var l=this.touchlist.pop(),r=l.getComponent("Cell");return r.unTouch(),this.lastTouchCell=this.touchlist[this.touchlist.length-1],this.skillUI.decSkill(r.celltype),this.collectSidePropCells(this.touchlist),this.PropCellAttackArea.moveBacklink(l,this.lastTouchCell),this.showPropsArea(this.touchlist),this.drawlineHurtMonster(this.touchlist),void this.showCircle(this.touchlist)}}var u=t.lastTouchCell;if(t.canConnect(o,u)){if(this.touchlist.indexOf(o)<0){this.PropCellAttackArea.moveForWardlink(this.lastTouchCell,o);var h=o.getComponent("Cell"),d=this.getlineKind(h);o.zIndex=3,h.touch(),this.touchlist.push(o),this.lastTouchCell=o,this.skillUI.addSkill(h.celltype),this.Drawline.drawline(o,d);var f=this.touchlist.length;p.instance.playCellConnect(f),this.collectSidePropCells(this.touchlist),this.showPropsArea(this.touchlist),this.drawlineHurtMonster(this.touchlist),this.showCircle(this.touchlist)}}else;}},touchEnd:function(e,t){if(this.lastTouchCell){var i=this.lastTouchCell.getComponent("Cell");this.changeCellsZIndex(i.celltype,0)}this.touchlist.length>=3?this.Drawline.guideDone():this.Drawline.drawGuideline();for(var o=0;o<this.touchlist.length;o++){var n=this.touchlist[o];n.zIndex=0,n.getComponent("Cell").unTouch()}if(this.touchlist.length<3){for(var s=0;s<t.touchlist.length;s++){var a=t.touchlist[s].getComponent("Cell");this.skillUI.decSkill(a.celltype),a.unTouch()}this.PropCellAttackArea.reSetPropCells(this.touchlist),this.touchlist.length=0,this.lastTouchCell=null,this.skillUI.hideAllSkill(),this.setUserInteract(!0),this.drawlineHurtMonsterOver()}else this.setUserInteract(!1),this.removeCells(t.touchlist),this.touchlist.length=0,this.lastTouchCell=null;this.removeSidePropCells(),t.Drawline.clearlines(),this.DrawlineMask.active=!1,this.ProcessBoardCell.showAllCircles(!1),this.PropCellAttackArea.clear(),this.showCircle(this.touchlist)},touchOneCell:function(e,t){for(var i=0;i<o;i++)for(var s=0;s<n;s++){var a=this.ProcessBoardCell.getCell(s,i);if(a){var c=a.getComponent("Cell"),l=a.parent.convertToNodeSpaceAR(e);if(c.IsCellNodeSprite()||(l.x-=a.width*c.cellscale/2),a.getBoundingBox().contains(l))return a}}return null},removeCells:function(e){var t=this;h.instance.RPGAttack=!0,f.instance.updateStep(-1),this.openUIMask(!0);for(var i=[],o=e.length,n=cc.callFunc(function(){t.removeCellsDone(),d.instance.showlines(o)},this),s=[],a=0;a<this.sideProplist.length;a++){var c=this.sideProplist[a];s.push(c)}this.RemoveCells.pushProplist(s),this.RemoveCells.removeCells(e,i,n),i.length>=2?this.node.runAction(cc.sequence(i)):(i.push(null),this.node.runAction(cc.sequence(i)))},cellsAttackDone:function(e){(this._cellsAttackDone=!0,this._cellAttackDoneCallback=e,this._potralDone)&&(h.instance.RPGAttack||(this.openUIMask(!1),this.DropCell.animateFalling(e)))},portalDone:function(){this._potralDone=!0,this._cellsAttackDone&&(this.openUIMask(!1),this.DropCell.animateFalling(this._cellAttackDoneCallback))},removeCellsDone:function(){this.RemoveCells.reset(),this._potralDone=!1,this._cellsAttackDone=!1,this._cellAttackDoneCallback=null;var e=function(){this.portalDone()}.bind(this);this.Portal.openPortal(e),this.CellAttack.cellsAttack()},setUserInteract:function(e){this.CloseTouch.active=!e},getUserInteract:function(){return this.userInteract},openUIMask:function(e){},canConnect:function(e,t){if(!e||!t)return!1;var i=e.getComponent("Cell"),o=t.getComponent("Cell");i.row,i.column;if(!this.ProcessBoardCell.checkCellConnect(o,i))return!1;if(!i.propPairNormal(o.celltype,o.cellPropNormalType))return!1;var n=a.cellDirWithCell(e,t),s=this.ProcessBoardCell.getSideCell(i.column,i.row),c=this.ProcessBoardCell.getSideCell(o.column,o.row),l=null,r=null;switch(s&&(l=s.getComponent("SideCell")),c&&(r=c.getComponent("SideCell")),n){case u.Left:if(l&&l.sideRNum()>0||r&&r.sideLNum()>0)return!1;break;case u.Right:if(l&&l.sideLNum()>0||r&&r.sideRNum()>0)return!1;break;case u.Top:if(l&&l.sideBNum()>0||r&&r.sideTNum()>0)return!1;break;case u.Bottom:if(l&&l.sideTNum()>0||r&&r.sideBNum()>0)return!1}return!0},removeCell:function(e){this.ProcessBoardCell.setCellNull(e),this.deSpawnCell(e)},deSpawnCell:function(e){if(e){var t=e.getComponent("Cell").celltype;s.instance.isHaveCellPool(t)?s.instance.returnCell(e,t):e.removeFromParent()}},spawnMonsterCell:function(e,t){var i=e.getComponent("Cell"),o=this.SpawnCells.Salive,n=this.SpawnCells.createPrefabCell(i.column,i.row,t,o);if(n){this.ProcessBoardCell.setCell(i.column,i.row,n);(i=n.getComponent("Cell")).init(t,1),this.deSpawnCell(e)}},changeCellsZIndex:function(e,t){for(var i=0;i<o;i++)for(var s=0;s<n;s++){var a=this.ProcessBoardCell.getCell(s,i);if(a){var c=a.getComponent("Cell");c.IsBlock()?a.zIndex=t:c.propPairNormal(e)&&(a.zIndex=t)}}},cellsIdle:function(e,t){this.CellsAnimation.showAnimation(l.Idle,e,t)},cellsBonustime:function(e,t){this.CellsAnimation.showAnimation(l.Bonustime,e,t)},cellsReady:function(e,t){this.CellsAnimation.showAnimation(l.Ready,e,t)},cellsCrazy:function(e,t){this.CellsAnimation.showAnimation(l.Crazy,e,t)},timeUp:function(e){this.CellsAnimation.showAnimation(l.TimeUp,e,1.2)},removeSidePropCells:function(){this.sideProplist.length=0},collectSidePropCells:function(e){if(this.sideProplist.length=0,e.length>=3)for(var t=[],i=0;i<e.length;i++){var o=e[i].getComponent("Cell"),n=o.row,s=o.column;this.ProcessBoardCell.getFourConorCells(s,n,t);for(var a=0;a<t.length;a++){var c=t[a],l=c.getComponent("Cell"),r=l.IsSideProp(),u=l.IsBlockCoverRemoved();if(r&&u)this.sideProplist.indexOf(c)<0&&this.sideProplist.push(c)}}},showPropsArea:function(e){this.PropCellAttackArea.clearCircles(),this.ProcessBoardCell.showAllCircles(!1),this.PropCellAttackArea.showPropsArea(e),this.PropCellAttackArea.showSidePropAreas(this.sideProplist)},spawnCell:function(e,t,i,o,n){this.SpawnCells.createOneCell(e,t,i,o,n)},drawlineHurtMonster:function(e){var t=0;if(0===e.length)return t;for(var i=0;i<e.length;i++){var o=e[i].getComponent("Cell");if(o.normalCell()||o.propNormalCell()){var n=o.celltype;o.propNormalCell()&&(n=o.cellPropNormalType),t+=h.instance.getDamage(n)}}var s=h.instance.getMonster();s&&s.getComponent("Monster").drawlineHurt(t)},drawlineHurtMonsterOver:function(){var e=h.instance.getMonster();e&&e.getComponent("Monster").drawlineHurtOver()},showCircle:function(e){if(e.length<3)this._circleNode&&(this._circleNode.active=!1);else{var t=h.instance.getMonster();if(t){var i="",o=e[0].getComponent("Cell"),n=c.UnKnown;if(o.normalCell()||o.propNormalCell())switch(n=o.celltype,o.propNormalCell()&&(n=o.cellPropNormalType),n){case c.Cell1:i="redcircle";break;case c.Cell2:i="ziseCircle";break;case c.Cell3:i="yellowCircle";break;case c.Cell4:i="greenCircle";break;case c.Cell5:i="whiteCircle"}var s=t.getComponent("Monster");if(n===s.getAttackAddtionCellType()||n===s.getDefenceCellType()){if(!this._circleNode){var a=cc.instantiate(this.circle);a.zIndex=10,a.parent=this.node,this._circleNode=a;var l=cc.scaleTo(.4,1.15,1.15).easing(cc.easeOut(3)),r=cc.scaleTo(.4,1,1).easing(cc.easeOut(3)),u=cc.sequence(l,r);a.runAction(cc.repeatForever(u))}this._circleNode.active=!0;var p=e[e.length-1];this._circleNode.x=p.x+p.width/2,this._circleNode.y=p.y+p.height/2;var d=this._circleNode.getComponent(cc.Sprite);if(cc.loader.loadRes("texture/UI",cc.SpriteAtlas,function(e,t){var o=t.getSpriteFrame(i);d.spriteFrame=o}),n===s.getAttackAddtionCellType()){var f=this._circleNode.getChildByName("attack"),m=this._circleNode.getChildByName("defence");f&&(f.active=!0),m&&(m.active=!1)}else if(n===s.getDefenceCellType()){var v=this._circleNode.getChildByName("attack"),g=this._circleNode.getChildByName("defence");v&&(v.active=!1),g&&(g.active=!0)}}}}}}));cc._RF.pop()},{EnumDefine:"EnumDefine",Game:"Game",JsonData:"JsonData",PlayFightAudio:"PlayFightAudio",PoolMng:"PoolMng",RPGManager:"RPGManager",ShowFloatWord:"ShowFloatWord",Utils:"Utils"}],BombEffectPool:[function(e,t,i){"use strict";cc._RF.push(t,"b07b8zS7CVLabT5JykOJIec","BombEffectPool");var o=cc.Class({name:"BombEffectPool",properties:{prefab:cc.Prefab,size:0},ctor:function(){},init:function(){this._pool=new cc.NodePool(""),this._count=0},get:function(){var e=this._pool.get();return e||(e=cc.instantiate(this.prefab),this._count++),e},put:function(e){this._pool.put(e)}});t.exports=o,cc._RF.pop()},{}],BossFightGuide:[function(e,t,i){"use strict";cc._RF.push(t,"3d4b0DtLJ5LoYCcq70jwhyM","BossFightGuide");e("Utils");var o=e("RPGManager");cc.Class({extends:cc.Component,properties:{},onLoad:function(){var e=this;this.guideDone=!1,this.registerTouch();var t=cc.callFunc(function(){e.guideDone=!0},this);this.node.runAction(cc.sequence(cc.delayTime(1),t))},start:function(){},registerTouch:function(){var e=this;e.node.on(cc.Node.EventType.TOUCH_START,function(t){e.touchBegin(t)},e),e.node.on(cc.Node.EventType.TOUCH_END,function(t){e.touchEnd(t)},e)},touchBegin:function(e){},touchEnd:function(e){this.guideDone&&(o.instance.bossFightStart(),this.node.removeFromParent())}}),cc._RF.pop()},{RPGManager:"RPGManager",Utils:"Utils"}],BossRoad:[function(e,t,i){"use strict";cc._RF.push(t,"739e9RCOMZGeI4F1bWSXRRy","BossRoad");var o=e("EnumDefine"),n=e("Utils"),s=o.FightKind,a=e("JsonData");cc.Class({extends:cc.Component,properties:{skeleton:{default:null,type:sp.Skeleton},roadBar:cc.ProgressBar},onLoad:function(){switch(n.levelData.StageType){case s.NormalFight:case s.BossFight:default:this.node.active=!1}this.init()},start:function(){},init:function(){var e=this,t=n.levelID;a.instance.loadLevelData(t,function(t){t.StageType;var i=t.WaveEnemyID.split(";");if(i.length>0){var o=i[0].split(":");if(o.length>0){var n=o[0],s=parseInt(n);a.instance.loadMonsterData(s,function(t){e.loadSkeletonData(t)})}}})},loadSkeletonData:function(e){var t=this,i="spine/monster/"+e.AnimeRes;cc.loader.loadRes(i,sp.SkeletonData,function(e,i){t.skeleton.skeletonData=i,t.skeleton.setAnimation(0,"idle",!0)})},updateRoadBar:function(e){this.roadBar.progress>=1||(this.roadBar.progress+=e)},IsTimeOver:function(){return this.roadBar.progress>=1}}),cc._RF.pop()},{EnumDefine:"EnumDefine",JsonData:"JsonData",Utils:"Utils"}],Boxes:[function(e,t,i){"use strict";cc._RF.push(t,"799c7HxV4VEjK65lR/1jK6i","Boxes");var o=e("Utils").NUMROWS,n=e("Utils").NUMCOLUMNS,s=(e("EnumDefine").CellType,e("JsonData"),e("PoolMng"),e("Utils")),a=(e("Utils").TITLE_WIDTH,e("Utils").TITLE_HEIGHT,e("EnumDefine").FightKind,e("EnumDefine").GameStages,e("ProcessStory"));cc.Class({extends:cc.Component,properties:{boxFarm1_1:{default:null,type:cc.SpriteFrame},boxFarm1_2:{default:null,type:cc.SpriteFrame}},onLoad:function(){},start:function(){},spawnBoxes:function(){s.levelData;var e=a.instance.stageFileNamesData,t=e.box1,i=e.box2,o=s.StageSpriteAtlas,n=o.getSpriteFrame(t),c=o.getSpriteFrame(i);this.createBoxes(n,c)},createBoxes:function(e,t){for(var i=!1,s=!1,a=-1;a<=o;a++){s=0!=i,i=!i;for(var c=-5;c<n+5;c++){var l=new cc.Node(""),r=l.addComponent(cc.Sprite);r.spriteFrame=s?e:t,s=!s,r.sizeMode=cc.Sprite.SizeMode.CUSTOM,r.type=cc.Sprite.Type.SLICED,l.parent=this.node;var u=this.node.width/8,h=this.node.height/8;l.setContentSize(u+1,h+1);var p=u/2+c*u-this.node.width/2,d=-this.node.height/2+h/2+a*h;l.setPosition(p,d),l.zIndex=-2,(c<0||c>=n||a<0)&&this.createOutSideBox(c,a)}}},createOutSideBox:function(e,t){var i=this;cc.loader.loadRes("prefab/cell/WeedBox",function(o,n){o&&cc.error(o);var s=cc.instantiate(n);s.parent=i.node;var a=i.node.width/8,c=i.node.height/8;s.setContentSize(a,c);var l=a/2+e*a-i.node.width/2,r=-i.node.height/2+c/2+t*c;s.setPosition(l,r),s.zIndex=-2})}}),cc._RF.pop()},{EnumDefine:"EnumDefine",JsonData:"JsonData",PoolMng:"PoolMng",ProcessStory:"ProcessStory",Utils:"Utils"}],BulletPool:[function(e,t,i){"use strict";cc._RF.push(t,"452c4ocJ8tKzbUajB1JuwDb","BulletPool");var o=cc.Class({name:"BulletPool",properties:{prefab:cc.Prefab,size:0},ctor:function(){},init:function(){this._pool=new cc.NodePool("Bullet"),this._count=0},get:function(){var e=this._pool.get();return e||(e=cc.instantiate(this.prefab),this._count++),e},put:function(e){this._pool.put(e)}});t.exports=o,cc._RF.pop()},{}],Bullet:[function(e,t,i){"use strict";cc._RF.push(t,"e66dd4Ip0xNQqSdFr4mK+Ck","Bullet");e("EnumDefine").HurtFont;var o=e("PoolMng"),n=cc.v2();cc.Class({extends:cc.Component,properties:{bullettype:-1,moveSpeed:1e3},ctor:function(){this.damage=0,this._callback=null,this._movedt=0,this._moveDelay=1,this._hurtfont=0},init:function(e,t,i,o,n){var s=Math.atan2(i.y,i.x),a=-cc.misc.radiansToDegrees(s),c=90-a;this.node.rotation=c,this.deg=a,this.direction=i.normalize(),this.isMoving=!0,this.bullettype=o,this._callback=n,this._hurtfont=e,this.shootMonster(t)},onLoad:function(){},shootDone:function(e){o.instance.putBullet(this.node,this.bullettype),this._callback&&this._callback(e)},shootMonster:function(e){var t=this;if(e){var i=e.getComponent("Monster"),s=e.position;s.y+=e.height/2;var a=this.node.position;s.sub(a,n);var c=n.mag()/200*.1,l=cc.moveTo(c,s).easing(cc.easeOut(3)),r=cc.callFunc(function(){if(t.bullettype===i.getDefenceCellType()){var e=cc.moveBy(.2,cc.v2(0,-50)),n=cc.callFunc(function(){o.instance.putBullet(t.node,t.bullettype)},t);t.node.runAction(cc.sequence(e,n))}else i.hurt(t.damage,t._callback,t._hurtfont),t.bulletEffect(t.node.position,t.node.parent),o.instance.putBullet(t.node,t.bullettype)},this),u=cc.sequence(l,r);this.node.runAction(u)}else this.shootDone(!0)},bulletEffect:function(e,t){cc.loader.loadRes("sprite/bulletHit",cc.SpriteFrame,function(i,o){var n=new cc.Node("");n.addComponent(cc.Sprite).spriteFrame=o,n.scale=1,n.parent=t,n.position=e;var s=cc.scaleTo(.4,0).easing(cc.easeOut(2)),a=cc.sequence(s,cc.removeSelf());n.runAction(a)})},start:function(){}}),cc._RF.pop()},{EnumDefine:"EnumDefine",PoolMng:"PoolMng"}],CameraControl:[function(e,t,i){"use strict";cc._RF.push(t,"d1e93YcLzhOiohXX6bHj9ay","CameraControl");var o=e("RPGManager"),n=cc.v2(),s=cc.v2();cc.Class({extends:cc.Component,properties:{RPGNode:{default:null,type:cc.Node},cameraNode:cc.Node,jumpZoom:!1,centerAtStart:!1,smoothFollow:!1,followX:{default:0,visible:function(){return this.smoothFollow}},followY:{default:0,visible:function(){return this.smoothFollow}},minFollowDist:{default:0,visible:function(){return this.smoothFollow}},followRatio:{default:0,visible:function(){return this.smoothFollow}},overview:!0,overviewTargets:{default:[],type:[cc.Node],visible:function(){return this.overview}},overviewMargin:{default:0,visible:function(){return this.overview}},speedZoom:!1,zoomInSpeed:{default:0,visible:function(){return this.speedZoom}},zoomOutSpeed:{default:0,visible:function(){return this.speedZoom}},canShake:!1,shakeDuration:{default:0,visible:function(){return this.canShake}},pointerPan:!1,pointerXMult:{default:0,visible:function(){return this.pointerPan}},pointerYMult:{default:0,visible:function(){return this.pointerPan}},useBoundaries:!1,topBound:{default:0,visible:function(){return this.useBoundaries}},bottomBound:{default:0,visible:function(){return this.useBoundaries}},leftBound:{default:0,visible:function(){return this.useBoundaries}},rightBound:{default:0,visible:function(){return this.useBoundaries}}},ctor:function(){this._zoomIn=!1,this._zoomOut=!1,this._zoomCallback=null,this._zoomStep=.2,this._work=!1},onLoad:function(){var e=this;this.overview=!0,this.startFollow=!1,this.anim=this.node.getComponent("cc.Animation"),this.visibleSize=cc.view.getVisibleSize(),this.cameraNode&&(this.camera=this.cameraNode.getComponent("cc.Camera"),this.initZoomRatio=this.camera.zoomRatio,this.ratioZoomIn=this.camera.zoomRatio,this.ratioZoomOut=this.ratioZoomIn-.1),this.centerAtStart,this.previousPos=this.cameraNode.position,this.pointerPan&&(this.overview=!1,this.speedZoom=!1,this.pointerPos=null),this.overview&&(this.jumpZoom=!1,this.speedZoom=!1),this.speedZoom&&(this.jumpZoom=!1);var t=cc.callFunc(function(){e._work=!0},this);this.node.runAction(cc.sequence(cc.delayTime(.5),t))},start:function(){s.x=this.cameraNode.x,s.y=this.cameraNode.y},onEnable:function(){},onDisable:function(){},lateUpdate:function(e){if(this.RPGNode&&this._work){var t=void 0;if(t=this.overview?this.RPGNode.convertToWorldSpaceAR(this.getOverviewTargetsMidpoint()):this.RPGNode.convertToWorldSpaceAR(this.RPGNode.position),this.pointerPan&&this.pointerPos){var i=this.pointerPos.x/(this.visibleSize.width/2)-1,o=this.pointerPos.y/(this.visibleSize.height/2)-1;i*=this.pointerXMult,o*=this.pointerYMult,t=cc.pAdd(t,cc.v2(i,o))}if(s=this.cameraNode.parent.convertToNodeSpaceAR(t),this.smoothFollow?((Math.abs(t.x-s.x)>=this.followX||Math.abs(t.y-s.y)>=this.followY)&&(this.startFollow=!0),this.startFollow&&(s=s.lerp(t,this.followRatio),t.sub(s,n),n.mag<=this.minFollowDist&&(this.startFollow=!1))):s=this.cameraNode.parent.convertToNodeSpaceAR(t),this.useBoundaries){var a=this.visibleSize.width/2/this.camera.zoomRatio,c=this.visibleSize.height/2/this.camera.zoomRatio,l=(s.x,s.x,s.y-c),r=s.y+c;l<this.bottomBound&&(s.y=this.bottomBound+c),r>this.topBound&&(s.y=this.topBound-c),s.y=0}this.cameraNode.position=this.cameraNode.position.lerp(s,.1),this.zoomUpdate(e)}},getOverviewTargetsMidpoint:function(){return o.instance.getTargetMidPoint()},shakeCamera:function(){this.canShake&&(this.anim.play("shake"),this.scheduleOnce(this.stopShake.bind(this),this.shakeDuration))},stopShake:function(){this.anim.stop()},onMouseMove:function(e){this.pointerPos=e.getLocation()},onTouchMove:function(e){this.pointerPos=e.getLocation()},zoomUpdate:function(e){if(this._zoomIn){if(Math.abs(this.camera.zoomRatio-this.ratioZoomIn)<=1e-5)return this.camera.zoomRatio=this.ratioZoomIn,this._zoomIn=!1,void(this._zoomCallback&&(this._zoomCallback(),this._zoomCallback=null));this.camera.zoomRatio=cc.misc.lerp(this.camera.zoomRatio,this.ratioZoomIn,this._zoomStep)}if(this._zoomOut){if(Math.abs(this.camera.zoomRatio-this.ratioZoomOut)<=1e-5)return this.camera.zoomRatio=this.ratioZoomOut,this._zoomOut=!1,void(this._zoomCallback&&(this._zoomCallback(),this._zoomCallback=null));this.camera.zoomRatio=cc.misc.lerp(this.camera.zoomRatio,this.ratioZoomOut,this._zoomStep)}},isZoom:function(){return this._zoomIn||this._zoomOut},isZoomOut:function(){return Math.abs(this.camera.zoomRatio-this.ratioZoomOut)<=1e-5},isZoomIn:function(){return Math.abs(this.camera.zoomRatio-this.ratioZoomIn)<=1e-5},resetZoom:function(){this._zoomIn=!1,this._zoomOut=!1},zoomIn:function(e){if(this.resetZoom(),Math.abs(this.camera.zoomRatio-this.ratioZoomIn)<=1e-5)return this.camera.zoomRatio=this.ratioZoomOut,void(e&&e());this._zoomCallback=e,this._zoomIn=!0},zoomOut:function(e){if(this.resetZoom(),Math.abs(this.camera.zoomRatio-this.ratioZoomOut)<=1e-5)return this.camera.zoomRatio=this.ratioZoomOut,void(e&&e());this._zoomCallback=e,this._zoomOut=!0}}),cc._RF.pop()},{RPGManager:"RPGManager"}],CameraManager:[function(e,t,i){"use strict";cc._RF.push(t,"67bb7Vj4G1KJI7OmZqcSsG4","CameraManager");var o=cc.Class({extends:cc.Component,properties:{skyCameraNode:cc.Node,midOneCameraNode:cc.Node,battleCameraNode:cc.Node,uiCameraNode:cc.Node},onLoad:function(){o.instance=this},statics:{instance:null},start:function(){}});cc._RF.pop()},{}],CanvasInit:[function(e,t,i){"use strict";cc._RF.push(t,"207a7XD14lAgqW7MavNl3Bk","CanvasInit");var o=e("EnumDefine").EnterKind;cc.Class({extends:cc.Component,properties:{},ctor:function(){this.enterCode=o.Main},setEnterCode:function(e){this.enterCode=e},onLoad:function(){},start:function(){}}),cc._RF.pop()},{EnumDefine:"EnumDefine"}],CellAttack:[function(e,t,i){"use strict";cc._RF.push(t,"2c5e2o9ZWlK5bu/4z1IpREx","CellAttack");e("Utils").NUMROWS,e("Utils").NUMCOLUMNS,e("Utils").TITLE_WIDTH,e("Utils").TITLE_HEIGHT,e("Utils");var o=e("EnumDefine").RemoveCellEffect,n=e("RPGManager"),s=e("PoolMng"),a=(e("Game"),10),c=cc.v2();cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.board=this.node.getComponent("Board"),this.ProcessBoardCell=this.node.getComponent("ProcessBoardCell"),this.celltypelist=[],this.longestDurationFire=0,this.longestDurationShootMonster=0},start:function(){},hurt:function(e){if(e&&e.parent&&e.parent.parent){var t=e.getComponent("Cell");if(this.ProcessBoardCell.getCell(t.column,t.row)){var i=function(e,t){e&&(t.getComponent("Cell").normalCell()?this.removeCell(t):this.board.removeCell(t))}.bind(this);t.hurt(i)}}},removeCell:function(e){var t=e.getComponent("Cell"),i=t.celltype,o=t.row,s=t.column,a=e.getPosition();if(a.x+=e.width/2,a.y+=e.height/2,this.ProcessBoardCell.setCell(s,o,null),this.createCellBlood(a,t),n.instance.getActor(i)){var c=this.shootToActor(e);this.longestDurationShootMonster=this.longestDurationShootMonster<c?c:this.longestDurationShootMonster}else{var l=this.shootToMonster(e);this.longestDurationFire=this.longestDurationFire<l?l:this.longestDurationFire}},cellsAttack:function(){var e=this,t=cc.callFunc(function(){n.instance.fire(e.celltypelist),e.celltypelist.length=0},this);this.node.runAction(cc.sequence(cc.delayTime(this.longestDurationFire),t));var i=cc.callFunc(function(){n.instance.fireOver()},this);this.node.runAction(cc.sequence(cc.delayTime(this.longestDurationShootMonster),i))},shootToActor:function(e){var t=this;if(e&&e.parent&&e.parent.parent){var i=e.getComponent("Cell").celltype;e.group="UI";var o=n.instance.getActor(i);this.celltypelist.push(i);var s=o.getComponent("Actor").getWorldPos();s.x-=e.width/2;var a=e.parent.parent;s=a.convertToNodeSpaceAR(s);var l=e.parent.convertToWorldSpaceAR(e.getPosition());l=a.convertToNodeSpaceAR(l),e.removeFromParent(!1),e.setPosition(l),e.parent=a,s.sub(l,c);var r=c.mag()/100*.1,u=cc.moveTo(r,s).easing(cc.easeOut(3)),h=cc.callFunc(function(){t.deSpawnCell(e)},this),p=cc.sequence(u,h);return e.runAction(p),r}},shootToMonster:function(e){var t=this;e.group="UI";var i=n.instance.getMonster(),o=e.getComponent("Cell").celltype;if(n.instance.RPGAttack=!0,!i)return this.deSpawnCell(e),0;var s=i.getComponent("Monster"),l=s.getWorldPos();l.x-=e.width/2;var r=e.parent.parent;l=r.convertToNodeSpaceAR(l);var u=e.parent.convertToWorldSpaceAR(e.getPosition());u=r.convertToNodeSpaceAR(u),e.removeFromParent(!1),e.setPosition(u),e.parent=r,l.sub(u,c);var h=c.mag()/100*.1,p=cc.moveTo(h,l).easing(cc.easeOut(3)),d=cc.callFunc(function(){if(o===s.getDefenceCellType()){var i=cc.moveBy(.2,cc.v2(0,-50)),n=cc.callFunc(function(){t.deSpawnCell(e)},t);e.runAction(cc.sequence(i,n))}else o===s.getAttackAddtionCellType()&&(a=parseInt(2*a)),t.deSpawnCell(e),s.hurt(a)},this),f=cc.sequence(p,d);return e.runAction(f),h},deSpawnCell:function(e){this.board.deSpawnCell(e)},createCellBlood:function(e,t){var i=t.getRemoveCellEffect(),n=t.celltype;switch(i){case o.FruitJuice:var a=s.instance.getCellBlood(n);if(a){var c=a.getComponent("CellBlood");a.parent=this.node,a.setPosition(e);c.celltype=n,c.play(function(){s.instance.putCellBlood(a,n)})}break;case o.BombEffect1:var l=s.instance.getBombEffect();if(l){l.parent=this.node,l.position=e;var r=l.getComponent("PlayAnimation");if(r){r.play(function(){s.instance.putBombEffect(l)})}}}}}),cc._RF.pop()},{EnumDefine:"EnumDefine",Game:"Game",PoolMng:"PoolMng",RPGManager:"RPGManager",Utils:"Utils"}],CellBloodPool:[function(e,t,i){"use strict";cc._RF.push(t,"2d4ecdB5k1BCbH++9j0rK7v","CellBloodPool");var o=cc.Class({name:"CellBloodPool",properties:{prefab:cc.Prefab,size:0},ctor:function(){},init:function(){this._pool=new cc.NodePool("CellBlood"),this._count=0},get:function(){var e=this._pool.get();return e||(e=cc.instantiate(this.prefab),this._count++),e},put:function(e){this._pool.put(e)}});t.exports=o,cc._RF.pop()},{}],CellBlood:[function(e,t,i){"use strict";cc._RF.push(t,"d0dbaO+Ax1CWrAvGpFW2pKD","CellBlood"),cc.Class({extends:cc.Component,properties:{bloodName:""},onLoad:function(){this.finished=null},start:function(){},onFinished:function(){this.finished&&this.finished()},play:function(e){this.finished=e;var t=this.node.getComponent(cc.Animation);t.on("finished",this.onFinished,this),t.play(this.bloodName)},onAnimCompleted:function(){},unuse:function(){this.node.getComponent(cc.Animation).stop()},reuse:function(){}}),cc._RF.pop()},{}],CellPool:[function(e,t,i){"use strict";cc._RF.push(t,"f7b70HRp5VG34ifNiaMDZHo","CellPool");var o=cc.Class({name:"CellPool",properties:{prefab:cc.Prefab,size:0},ctor:function(){},init:function(){this._pool=new cc.NodePool("Cell"),this._count=0},get:function(){var e=this._pool.get();return e||(e=cc.instantiate(this.prefab),this._count++),e},put:function(e){this._pool.put(e)}});t.exports=o,cc._RF.pop()},{}],CellsAnimation:[function(e,t,i){"use strict";cc._RF.push(t,"e31211RBMxK8ZJ9geV5r+0N","CellsAnimation");var o=e("Utils").NUMROWS,n=e("Utils").NUMCOLUMNS,s=e("EnumDefine").CellAnimationType;cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.ProcessBoardCell=this.node.getComponent("ProcessBoardCell")},start:function(){},showAnimation:function(e,t,i,a){for(var c=0;c<o;c++)for(var l=0;l<n;l++){var r=this.ProcessBoardCell.getCell(l,c);if(r){var u=r.getComponent("Cell");if(u&&u.normalCell())switch(e){case s.Idle:u.idle();break;case s.Ready:u.ready(!1);break;case s.Bonustime:u.bonustime(!1);break;case s.Crazy:u.crazy(!1);break;case s.TimeUp:u.timeUp()}}}var h=cc.callFunc(function(){t&&t()},this);this.node.runAction(cc.sequence(cc.delayTime(i),h))}}),cc._RF.pop()},{EnumDefine:"EnumDefine",Utils:"Utils"}],Cell:[function(e,t,i){"use strict";cc._RF.push(t,"b82dfwP+GpJCo2SX2ZwVlnj","Cell");var o=e("JsonData"),n=e("EnumDefine").CellType,s=e("EnumDefine").RemoveCellEffect,a=e("EnumDefine").CellBlockType,c=e("EnumDefine").CellsRelativeDir,l=e("ProcessBoardCell"),r=e("Board"),u=e("Utils"),h=e("Game"),p=e("Utils").NUMROWS,d=e("Utils").NUMCOLUMNS,f=cc.Class({extends:cc.Component,properties:{cellNode:cc.Node},ctor:function(){this.row=0,this.column=0,this.fillHoled=!1,this.celltype=n.UnKnow,this.cellPropNormalType=n.UnKnow,this.blockData=null,this.cellscale=1,this._circleParticle=null,this._lv=0,this.blockCover=null,this.datacell=null,this._RemoveCellEffect=s.FruitJuice,this.idle(!1)},onLoad:function(){},moveDown:function(e){if(this.normalCell()){var t=this.node.position,i=cc.v2(t.x,t.y);i.y+=2*this.node.height,this.node.position=i;this.moveTo(.5,e,.1,t)}},setColor:function(e){var t=this.cellNode.getChildByName("sprite");t&&(t.color=e)},switchType:function(e){var t=void 0;t=e.celltype,e.celltype=this.celltype,this.celltype=t,t=e.cellPropNormalType,e.cellPropNormalType=this.cellPropNormalType,this.cellPropNormalType=t},setCellPropNormalType:function(e){this.cellPropNormalType=e},setRemoveCellEffect:function(e){this._RemoveCellEffect=e},getRemoveCellEffect:function(){return this._RemoveCellEffect},IsCellNodeSprite:function(){return!!this.cellNode.getComponent("cc.Sprite")},setDataCell:function(e){this.datacell=e},getDataCell:function(){return this.datacell},init:function(e,t){this.initlv(t);var i=this;o.instance.loadBlockData(e,function(e){if(e){var t={};t.BlockId=e.BlockId,t.BlockName=e.BlockName,t.Fall=e.Fall,t.BlockType=e.BlockType,i.blockData=t}})},addBlockCover:function(e){var t=this;cc.loader.loadRes("prefab/cell/blockCover",function(i,o){i&&cc.error(i);var n=cc.instantiate(o);n.active=!0,n.parent=t.node,n.position=cc.v2(t.node.width/2,t.node.height/2);var s=t.cellNode.getComponent("cc.Sprite");n.position=s?cc.v2(0,0):cc.v2(t.node.width/2,t.node.height/2),t.blockCover=n.getComponent("BlockCover"),t.blockCover.init(e.lv)})},initlv:function(e){this._lv+=e},canRemove:function(){var e=!0;return this._lv<=0&&(e=!1),this.blockData&&this.blockData.BlockType===a.NotRemoved&&(e=!1),e},hurt:function(e){if(!(this._lv<=0))if(this.blockCover){this.blockCover.hurt(),this.blockCover.IsAllRemoved()&&(this.blockCover.node.runAction(cc.sequence(cc.delayTime(1),cc.removeSelf())),this.blockCover=null)}else{this.blockData?this.blockData.BlockType===a.NormalRemove&&(this._lv-=1,this.processBlock(this._lv)):this._lv-=1;var t=0===this._lv;t&&(this.DieHurt(),h.instance.updateCell(this.celltype,1)),e&&e(t,this.node)}},processBlock:function(e){var t=this.node.parent,i=this.node.position;i.x+=this.node.width/2,i.y+=this.node.height/2,this.spawnBlockDust(t,i);var o="";switch(this.celltype){case n.Fence:2===e?o="fence2":1===e&&(o="fence3");var s=this.cellNode;cc.loader.loadRes("texture/UI",cc.SpriteAtlas,function(e,t){var i=t.getSpriteFrame(o);s.getComponent("cc.Sprite").spriteFrame=i});break;case n.Weeds:2===e?o="weed2":1===e&&(o="weed3");var a=this.cellNode;cc.loader.loadRes("texture/UI",cc.SpriteAtlas,function(e,t){var i=t.getSpriteFrame(o);a.getComponent("cc.Sprite").spriteFrame=i});break;case n.Stakes:2===e?o="wood2":1===e&&(o="wood3");var c=this.cellNode;cc.loader.loadRes("texture/UI",cc.SpriteAtlas,function(e,t){var i=t.getSpriteFrame(o);c.getComponent("cc.Sprite").spriteFrame=i})}},IsBlockCoverRemoved:function(){return!this.blockCover},collectDiamond:function(){u.showDiamond(this.node.parent,this.node.position,10,null),h.instance.updateDiamond(10),r.instance.removeCell(this.node)},collectSpinKey:function(){},spawnBlockDust:function(e,t){var i="prefab/particle/";switch(i+="killDustParticle",this.celltype){case n.Salive:i="prefab/particle/saliveDustParticle";break;default:i="prefab/particle/killDustParticle"}cc.loader.loadRes(i,function(i,o){i&&cc.error(i);var n=cc.instantiate(o);n.parent=e,n.position=t,n.runAction(cc.sequence(cc.delayTime(.5),cc.removeSelf()))})},ChangeCell:function(e,t){switch(this.celltype=e,e){case n.Cell1:case n.Cell2:case n.Cell3:case n.Cell4:case n.Cell5:if(this.cellNode){var i=this.cellNode.getComponent(sp.Skeleton);i&&(i.skeletonData=t)}}},IsSideProp:function(){switch(this.celltype){case n.DiamondBombProp:case n.DoubleHorinalProp:case n.DoubleVerticalProp:return!0}return!1},IsProp:function(){switch(this.celltype){case n.HorinalProp:case n.VerticalProp:case n.CrossProp:case n.XCrossProp:case n.XXCrossProp:case n.DiamondBombProp:case n.DoubleHorinalProp:case n.DoubleVerticalProp:case n.InFectsProp:case n.FlashProp:case n.SameColorProp:case n.CoverOneColorProp:case n.CircleBombProp:case n.ClearBombProp:return!0}return!1},normalCell:function(){return this.celltype==n.Cell1||this.celltype==n.Cell2||this.celltype==n.Cell3||this.celltype==n.Cell4||this.celltype==n.Cell5},propNormalCell:function(){return this.cellPropNormalType===n.Cell1||this.cellPropNormalType===n.Cell2||this.cellPropNormalType===n.Cell3||this.cellPropNormalType===n.Cell4||this.cellPropNormalType===n.Cell5},propPairNormal:function(e,t){return void 0===t&&(t=n.UnKnow),this.celltype===e||(this.celltype===t||this.cellPropNormalType===e)},scaleAction:function(){var e=this.node.getComponent(cc.Animation);e&&e.play()},touchScaleAction:function(){var e=this.node.getComponent(cc.Animation);e&&e.play()},openChest:function(e){this.callback=e;var t=this.cellNode.getComponent(cc.Animation);t&&(t.on("finished",this.shitcallback,this),t.play())},shitcallback:function(){this.callback&&this.callback()},moveTo:function(e,t,i,o){var n=this;this.fillHoled=!1;var s=cc.moveTo(t,o).easing(cc.easeIn(1.5)),a=cc.callFunc(function(){n.scaleAction()},this);this.node.stopActionByTag(10);var c=cc.sequence(cc.delayTime(e),s,a);c.setTag(10),this.node.runAction(c)},NotRemoved:function(){return!(!this.blockData||-1!==this.blockData.BlockType)},IsKey:function(){return this.celltype===n.KeyUp||this.celltype===n.KeyDown||this.celltype===n.KeyLeft||this.celltype===n.KeyRight},IsBlockCell:function(){return!(!this.blockData||0!==this.blockData.Fall)},IsBlock:function(){return!(!this.blockCover||this.blockCover.IsAllRemoved())||!(!this.blockData||0!==this.blockData.Fall)},ready:function(e){if(this.cellNode){var t=this.cellNode.getComponent("sp.Skeleton");t&&(t.timeScale=1,t.setAnimation(0,"ready",e))}},crazy:function(e){if(this.cellNode){var t=this.cellNode.getComponent("sp.Skeleton");t&&(t.timeScale=1,t.setAnimation(0,"crazy",e))}},bonustime:function(e){if(this.cellNode){var t=this.cellNode.getComponent("sp.Skeleton");t&&(t.timeScale=1,t.setAnimation(0,"bonustime",e))}},idle:function(e){if(this.cellNode){var t=this.cellNode.getComponent("sp.Skeleton");t&&(t.timeScale=1,t.setAnimation(0,"idle",e))}},timeUp:function(){if(this.cellNode){var e=this.cellNode.getComponent("sp.Skeleton");e&&(e.timeScale=2,e.setAnimation(0,"time up",!1))}},setAntiAliasTexParameters:function(){if(this.cellNode){var e=this.cellNode.getComponent("sp.Skeleton");if(e)e.skeletonData.textures[0].setFilters(cc.Texture2D.Filter.LINEAR,cc.Texture2D.Filter.LINEAR)}},touch:function(){if(!this.IsBlockCell()&&(this.touchScaleAction(),this.cellNode)){var e=this.cellNode.getComponent("sp.Skeleton");e&&(e.setAnimation(0,"idle02",!1),e.timeScale=2.5)}},unTouch:function(){if(!this.IsBlockCell()&&(this.touchScaleAction(),this.cellNode)){var e=this.cellNode.getComponent("sp.Skeleton");e&&(e.setAnimation(0,"idle",!1),e.timeScale=1)}},unuse:function(){this.row=-1,this.column=-1,this._lv=0,this.fillHoled=!1,this._RemoveCellEffect=s.FruitJuice,this.node.group="board"},reuse:function(){this.idle()},haveBlockOrCover:function(){return!!this.blockCover||!(this.normalCell()||!this.blockData||this.blockData.BlockType!==a.NormalRemove)},DieHurt:function(){var e=function(e,t){e&&r.instance.removeCell(t)}.bind(this),t=this.node.getComponent("Cell");if(t.normalCell()){var i=t.row,o=t.column,n=l.instance.getSideCell(o,i);if(n){var s=n.getComponent("SideCell");if(s)s.sideLNum()>0&&s.hurt(c.Left),s.sideRNum()>0&&s.hurt(c.Right),s.sideTNum()>0&&s.hurt(c.Top),s.sideBNum()>0&&s.hurt(c.Bottom)}if(o-1>=0){var a=l.instance.getSideCell(o-1,i);if(a){var u=a.getComponent("SideCell");if(u)u.sideRNum()>0&&u.hurt(c.Right)}var h=l.instance.getCell(o-1,i);if(h){var f=h.getComponent("Cell");f.haveBlockOrCover()&&f.hurt(e)}}if(o+1<d){var m=l.instance.getSideCell(o+1,i);if(m){var v=m.getComponent("SideCell");if(v)v.sideLNum()>0&&v.hurt(c.Left)}var g=l.instance.getCell(o+1,i);if(g){var C=g.getComponent("Cell");C.haveBlockOrCover()&&C.hurt(e)}}if(i+1<p){var _=l.instance.getSideCell(o,i+1);if(_){var b=_.getComponent("SideCell");if(b)b.sideBNum()>0&&b.hurt(c.Bottom)}var S=l.instance.getCell(o,i+1);if(S){var y=S.getComponent("Cell");y.haveBlockOrCover()&&y.hurt(e)}}if(i-1>=0){var k=l.instance.getSideCell(o,i-1);if(k){var B=k.getComponent("SideCell");if(B)B.sideTNum()>0&&B.hurt(c.Top)}var w=l.instance.getCell(o,i-1);if(w){var D=w.getComponent("Cell");D.haveBlockOrCover()&&D.hurt(e)}}}}});t.exports=f,cc._RF.pop()},{Board:"Board",EnumDefine:"EnumDefine",Game:"Game",JsonData:"JsonData",ProcessBoardCell:"ProcessBoardCell",Utils:"Utils"}],ChestReWard:[function(e,t,i){"use strict";cc._RF.push(t,"f2287ycVshAToVFxBeyUV6P","ChestReWard");e("EnumDefine").EnterKind;var o=e("Utils"),n=o.ProduceType,s=e("LocalStorage");cc.Class({extends:cc.Component,properties:{chest:cc.Node,glare:cc.Node,role:cc.Node,bk:cc.Node,audioReWard:{type:cc.AudioSource,default:null}},onLoad:function(){this.glare.active=!1,this.role.active=!1,this.uibase=null},showChest:function(e,t,i){var o=this;this.uibase=t,this.chest.active=!0;var n=this.chest.getComponent(cc.Animation);if(n){n.play("chestShake");var s=cc.callFunc(function(){n.stop(),n.on("finished",o.shitcallback,o),n.play("openChest");var t=function(){this.playReWardAudio(),this.showReWard(e,i),this.showflashEffect(this.chest,cc.v2(0,0)),n.stop()}.bind(o);o.openchestAnimationFinishedCallback=t},this);this.chest.runAction(cc.sequence(cc.delayTime(.5),s,cc.delayTime(1),cc.removeSelf()))}},shitcallback:function(){this.openchestAnimationFinishedCallback&&this.openchestAnimationFinishedCallback()},showflashEffect:function(e,t){cc.loader.loadRes("prefab/particle/killDustParticle",function(i,o){var n=cc.instantiate(o);n&&(n.scale=1,n.parent=e,n.position=t,n.runAction(cc.sequence(cc.delayTime(2),cc.removeSelf())))});cc.loader.loadRes("prefab/flashEffect",function(i,o){var n=cc.instantiate(o);if(n){n.scale=.5,n.parent=e,n.position=t;var s=n.getComponent(cc.Animation);s&&s.play(),n.runAction(cc.sequence(cc.delayTime(1),cc.removeSelf()))}})},showReWard:function(e,t){var i=function(e){var i=e.role;if(""===i||void 0===i)this.rewardCoinAndDiamond(e,t);else{var o=parseInt(i),n=s.instance.getRoleData(o);n?this.rewardCoinAndDiamond(e,t):((n={}).roletype=o,n.lock=!1,n.level=1,s.instance.setRoleData(n),this.reWardOneRole(t))}}.bind(this);this.loadScoreReWardData(e,i)},reWardOneRole:function(e){var t=this;this.glare.active=!0,this.role.active=!0,this.bk.active=!0;var i=this.glare;i.active=!0;var n=cc.repeatForever(cc.rotateBy(3,360));i.runAction(n);var s=[cc.v2(-o.randomRange(20,30),o.randomRange(100,200)/8),cc.v2(-o.randomRange(20,30),o.randomRange(100,200)/8),cc.v2(0,0)],a=cc.bezierBy(.2,s),c=cc.callFunc(function(){var e=cc.jumpBy(.5,cc.v2(0,0),10,1).easing(cc.easeOut(2)),i=cc.jumpBy(.5,cc.v2(0,0),-10,1).easing(cc.easeOut(2));t.role.runAction(cc.sequence(e,i))}),l=cc.callFunc(function(){e&&e()},this);this.role.runAction(cc.sequence(a,c,cc.delayTime(2.4),l))},rewardCoinAndDiamond:function(e,t){(function(){}).bind(this);var i=parseInt(e.coin),o=parseInt(e.diamond),n=this.rewardCoin(i),s=this.rewardDiamond(o),a=n>s?n:s,c=cc.callFunc(function(){t&&t()},this),l=cc.sequence(cc.delayTime(a),c);this.node.runAction(l),this.bk.active=!1},showCoinDiamondPicture:function(e,t,i){cc.loader.loadRes("prefab/chest/ChestCoinDiamonds",function(o,n){var s=cc.instantiate(n);s&&(s.scale=1,s.parent=e,s.position=t,s.scale=0,i&&i(s))})},rewardCoin:function(e){var t=this.uibase.coinlabel,i=this.chest.parent.convertToWorldSpaceAR(this.chest.position);i=this.node.convertToNodeSpaceAR(i);var s=this.node,a=t.node.parent.convertToWorldSpaceAR(t.node.position);a=this.node.convertToNodeSpaceAR(a);var c=e/10,l=function(){this.uibase.updateCoin(c),this.uibase.playCoin()}.bind(this);return o.produceRandomNodeLineMove(n.ButtonCoin,10,i,a,s,l)},rewardDiamond:function(e){var t=this.chest.parent.convertToWorldSpaceAR(this.chest.position);t=this.node.convertToNodeSpaceAR(t);var i=this.node,s=this.uibase.diamondlabel,a=s.node.parent.convertToWorldSpaceAR(s.node.position);a=this.node.convertToNodeSpaceAR(a);var c=e,l=e/c,r=function(){this.uibase.updateDiamond(l),this.uibase.playCoin()}.bind(this);return o.produceRandomNodeLineMove(n.Diamond,c,t,a,i,r)},start:function(){},playReWardAudio:function(){this.audioReWard&&this.audioReWard.play()},loadScoreReWardData:function(e,t){cc.loader.loadRes("json/StarReward",function(i,o){for(var n=o.json,s=0;s<n.length;s++){var a=n[s],c=parseInt(a.star);if(e>=c){t&&t(a);break}}})}}),cc._RF.pop()},{EnumDefine:"EnumDefine",LocalStorage:"LocalStorage",Utils:"Utils"}],CloudMove:[function(e,t,i){"use strict";cc._RF.push(t,"cdc91HgZ7pHT7trhpeYegEa","CloudMove"),cc.Class({extends:cc.Component,properties:{clouds:{default:[],type:cc.Node},offsets:{default:[],type:cc.Float},s1:cc.Node,s2:cc.Node,s3:cc.Node,sun:cc.Node},start:function(){this.sun.position=this.s1.position;var e=[this.s1.position,this.s2.position,this.s3.position],t=cc.cardinalSplineTo(400,e,0);this.sun.runAction(t)},update:function(e){cc.view.getVisibleOrigin();for(var t=cc.view.getVisibleSize(),i=0;i<this.clouds.length;i++){var o=this.clouds[i],n=o.x+this.offsets[i];n>t.width+o.width&&(n=-o.width/2-t.width/2),o.x=n}}}),cc._RF.pop()},{}],CoinPool:[function(e,t,i){"use strict";cc._RF.push(t,"2266bC4iapDcKV28fhTERMV","CoinPool");var o=cc.Class({name:"CoinPool",properties:{prefab:cc.Prefab,size:0,linePrefab:cc.Prefab,linesize:2,slantLine:cc.Prefab,slantsize:2,scorelabelPrefab:cc.Prefab,scorelabelSize:5,redlabelPrefab:cc.Prefab,redlabelSize:5,purblelabelPrefab:cc.Prefab,purblelabelSize:5,orangelabelPrefab:cc.Prefab,orangelabelSize:5},ctor:function(){},init:function(){this._pool=new cc.NodePool("Coin"),this._count=0,this._linepool=new cc.NodePool("linenode"),this._linecount=0,this._slantLinePool=new cc.NodePool("slantlinenode"),this._slantcount=0,this._scorelabelPool=new cc.NodePool(""),this._scorelabelCount=0,this._redlabelPool=new cc.NodePool(""),this._redlabelCount=0,this._purblelabelPool=new cc.NodePool(""),this._purblelabelCount=0,this._orangelabelPool=new cc.NodePool(""),this._orangelabelCount=0},get:function(){var e=this._pool.get();return e||(e=cc.instantiate(this.prefab),this._count++),e},put:function(e){this._pool.put(e)},getScoreLabel:function(){var e=this._scorelabelPool.get();return e||(e=cc.instantiate(this.scorelabelPrefab),this._scorelabelCount++),e},putScoreLabel:function(e){this._scorelabelPool.put(e),this._scorelabelCount--},getRedLabel:function(){var e=this._redlabelPool.get();return e||(e=cc.instantiate(this.redlabelPrefab),this._redlabelCount++),e},putRedLabel:function(e){this._redlabelPool.put(e),this._redlabelCount--},getPurbleLabel:function(){var e=this._purblelabelPool.get();return e||(e=cc.instantiate(this.purblelabelPrefab),this._purblelabelCount++),e},putPurbleLabel:function(e){this._purblelabelPool.put(e),this._purblelabelCount--},getOrangeLabel:function(){var e=this._orangelabelPool.get();return e||(e=cc.instantiate(this.orangelabelPrefab),this._orangelabelCount++),e},putOrangeLabel:function(e){this._orangelabelPool.put(e),this._orangelabelCount--},getline:function(){var e=this._linepool.get();return e||(e=cc.instantiate(this.linePrefab),this._linecount++),e},putline:function(e){this._linepool.put(e)},getslantline:function(){var e=this._slantLinePool.get();return e||(e=cc.instantiate(this.slantLine),this._slantcount++),e},putslantline:function(e){this._slantLinePool.put(e),this._slantcount--}});t.exports=o,cc._RF.pop()},{}],CoinUI:[function(e,t,i){"use strict";cc._RF.push(t,"4a3ddjecaRLypdAwkHyeV14","CoinUI");var o=e("Utils"),n=o.ProduceType,s=(e("LocalStorage"),e("BaseUI"));cc.Class({extends:s,properties:{coinNum1:{default:null,type:cc.Label},diamondNum1:{default:null,type:cc.Label},coinNum2:{default:null,type:cc.Label},diamondNum2:{default:null,type:cc.Label},coinNum3:{default:null,type:cc.Label},diamondNum3:{default:null,type:cc.Label},coinNum4:{default:null,type:cc.Label},diamondNum4:{default:null,type:cc.Label}},onLoad:function(){this.scaleShow(this.node),this.coinNums=[1e3,1e4,1e5,21e4],this.diamondNums=[10,80,750,1200],this.numlabels=[this.coinNum1,this.coinNum2,this.coinNum3,this.coinNum4],this.diamondlabels=[this.diamondNum1,this.diamondNum2,this.diamondNum3,this.diamondNum4];for(var e=this.coinNums,t=this.diamondNums,i=0;i<this.numlabels.length;i++)this.numlabels[i].string=e[i]+"",this.diamondlabels[i].string=t[i]+""},start:function(){},setUIBase:function(e){this.uibase=e},onBtnBuy:function(e,t){if(this.uibase){var i=parseInt(t),s=this.numlabels[i],a=this.coinNums[i],c=this.diamondNums[i];if(!(this.uibase.getDiamondNum()<c)){this.uibase.updateDiamond(-c);var l=this.uibase.coinlabel,r=s,u=r.node.parent.convertToWorldSpaceAR(r.node.position);u=this.node.convertToNodeSpaceAR(u);var h=this.node,p=l.node.parent.convertToWorldSpaceAR(l.node.position);p=this.node.convertToNodeSpaceAR(p);var d=a/20,f=function(){this.uibase.updateCoin(d),this.uibase.playCoin()}.bind(this),m=parseInt(20);o.produceRandomNodeLineMove(n.ButtonCoin,m,u,p,h,f)}}},onBtnCloseClicked:function(e){var t=function(){this.node.removeFromParent()}.bind(this);this.scaleClose(this.node,t)}}),cc._RF.pop()},{BaseUI:"BaseUI",LocalStorage:"LocalStorage",Utils:"Utils"}],DayReWard:[function(e,t,i){"use strict";cc._RF.push(t,"0f9e75K5+5FeaU8Q4apADb8","DayReWard");e("EnumDefine");var o=e("Utils"),n=o.ProduceType,s=e("LocalStorage"),a=e("BaseUI");cc.Class({extends:a,properties:{receiveNodes:{default:[],type:cc.Node},bk:cc.Node,glare:cc.Node,role:cc.Node,audioReWard:{type:cc.AudioSource,default:null}},onLoad:function(){this.roleBuy=!0;var e=o.DayReWardRoleID,t=s.instance.getRoleData(e);t&&!t.lock||(this.roleBuy=!1),this.rewards=[],this.uibase=null,this.role.active=!1,this.glare.active=!1,this.scaleShow(this.node,null);for(var i=0;i<this.receiveNodes.length;i++){var n=this.receiveNodes[i];this.processA(n)}},setUIBase:function(e){this.uibase=e},start:function(){},onBtnCloseClicked:function(e){var t=function(){this.node.removeFromParent()}.bind(this);this.scaleClose(this.node,t)},onBtnReceiveClicked:function(e,t){for(var i=null,o=0;o<this.rewards.length;o++){var n=this.rewards[o];if(parseInt(n.index)===parseInt(t)){i=n;break}}if(i){var a=i.roleID,c=this.receiveNodes[t].getChildByName("GetBtn"),l=c.getChildByName("Label"),r=c.getComponent(cc.Button);if(r.interactable=!1,r.node.color=cc.Color.GRAY,l.getComponent(cc.Label).string="\u5df2\u9886\u53d6",-1===a)this.rewardCoinAndDiamond(i);else{var u=s.instance.getRoleData(a);u?this.rewardCoinAndDiamond(i,null):((u={}).roletype=a,u.lock=!1,u.level=1,s.instance.setRoleData(u),this.reWardOneRole(null))}var h=t+1;h>7&&(h=1),s.instance.setDayReWard(h);var p=new Date,d=p.getMonth(),f=p.getDay(),m={};m.month=parseInt(d),m.day=parseInt(f),s.instance.setDayReWardDateTime(m)}},processA:function(e){var t=0,i=0,n=e.getChildByName("coinlabel"),a=e.getChildByName("diamondlabel"),c=e.getChildByName("buttonDiamond"),l=e.getChildByName("role"),r=e.name,u=s.instance.getDayReWard();u=parseInt(u);var h=e.getChildByName("GetBtn"),p=h.getChildByName("Label"),d=h.getComponent(cc.Button),f=this.checkTime(),m=0;"A1"===r?(t=1e3,i=10,m=1):"A2"===r?(t=1500,i=15,m=2):"A3"===r?(i=20,m=3):"A4"===r?(t=3e3,i=30,m=4):"A5"===r?(t=5e3,i=40,m=5):"A6"===r?(t=8e3,i=50,m=6):(t=1e4,i=80,m=7);var v=n.getComponent(cc.Label);if(v.string=t+"",(v=a.getComponent(cc.Label)).string=i+"",l&&(this.roleBuy?(l.active=!1,l=null):(c.active=!1,a.active=!1)),u===m)f?d.interactable=!0:(d.interactable=!1,d.node.color=cc.Color.GRAY,p.getComponent(cc.Label).string="\u5df2\u9886\u53d6");else if(u>m){d.interactable=!1,d.node.color=cc.Color.GRAY,p.getComponent(cc.Label).string="\u5df2\u9886\u53d6"}else if(u<m){d.interactable=!1,d.node.color=cc.Color.GRAY,p.getComponent(cc.Label).string="\u9886\u53d6"}var g={};g.coin=t,g.diamond=i,g.roleID=l?o.DayReWardRoleID:-1,g.coinlabel=n,g.diamondlabel=a,g.button=d,g.index=m-1,this.rewards.push(g)},checkTime:function(){var e=!1,t=new Date,i=t.getMonth(),o=t.getDay();i=parseInt(i),o=parseInt(o);var n=s.instance.getDayReWardDateTime();return n.month=parseInt(n.month),n.day=parseInt(n.day),i!==n.month?e=!0:i===n.month&&o!==n.day&&(e=!0),e},rewardCoinAndDiamond:function(e,t){var i=parseInt(e.coin),o=parseInt(e.diamond),n=this.rewardCoin(i,e.coinlabel),s=this.rewardDiamond(o,e.diamondlabel),a=n>s?n:s,c=cc.callFunc(function(){t&&t()},this),l=cc.sequence(cc.delayTime(a),c);this.node.runAction(l),this.bk.active=!1},rewardCoin:function(e,t){var i=t.parent.convertToWorldSpaceAR(t.position);i=this.node.convertToNodeSpaceAR(i);var s=this.node,a=(t=this.uibase.coinlabel).node.parent.convertToWorldSpaceAR(t.node.position);a=this.node.convertToNodeSpaceAR(a);var c=e/10,l=function(){this.uibase.updateCoin(c),this.uibase.playCoin()}.bind(this);return o.produceRandomNodeLineMove(n.ButtonCoin,10,i,a,s,l)},rewardDiamond:function(e,t){var i=t.parent.convertToWorldSpaceAR(t.position);i=this.node.convertToNodeSpaceAR(i);var s=this.node,a=this.uibase.diamondlabel,c=a.node.parent.convertToWorldSpaceAR(a.node.position);c=this.node.convertToNodeSpaceAR(c);var l=e,r=e/l,u=function(){this.uibase.updateDiamond(r),this.uibase.playCoin()}.bind(this);return o.produceRandomNodeLineMove(n.Diamond,l,i,c,s,u)},reWardOneRole:function(e){var t=this;this.glare.active=!0,this.role.active=!0,this.bk.active=!0;var i=this.glare;i.active=!0;var n=cc.repeatForever(cc.rotateBy(3,360));i.runAction(n);var s=[cc.v2(-o.randomRange(20,30),o.randomRange(100,200)/8),cc.v2(-o.randomRange(20,30),o.randomRange(100,200)/8),cc.v2(0,0)],a=cc.bezierBy(.2,s),c=cc.callFunc(function(){var e=cc.jumpBy(.5,cc.v2(0,0),10,1).easing(cc.easeOut(2)),i=cc.jumpBy(.5,cc.v2(0,0),-10,1).easing(cc.easeOut(2));t.role.runAction(cc.sequence(e,i))}),l=cc.callFunc(function(){t.glare.active=!1,t.role.active=!1,e&&e()},this);this.role.runAction(cc.sequence(a,c,cc.delayTime(2.4),l))},playReWardAudio:function(){this.audioReWard&&this.audioReWard.play()}}),cc._RF.pop()},{BaseUI:"BaseUI",EnumDefine:"EnumDefine",LocalStorage:"LocalStorage",Utils:"Utils"}],DiamondUI:[function(e,t,i){"use strict";cc._RF.push(t,"71ff6IGRuVOFokfJ6td7q3n","DiamondUI");var o=e("Utils"),n=o.ProduceType,s=e("BaseUI");cc.Class({extends:s,properties:{rmb1:{default:null,type:cc.Label},num1:{default:null,type:cc.Label},rmb2:{default:null,type:cc.Label},num2:{default:null,type:cc.Label},rmb3:{default:null,type:cc.Label},num3:{default:null,type:cc.Label},rmb4:{default:null,type:cc.Label},num4:{default:null,type:cc.Label},rmb5:{default:null,type:cc.Label},num5:{default:null,type:cc.Label}},ctor:function(){this.uibase=null},onLoad:function(){this.scaleShow(this.node),this.nums=[60,190,640,1980,3450],this.rmbs=[6,18,60,180,300],this.numlabels=[this.num1,this.num2,this.num3,this.num4,this.num5],this.rmblabels=[this.rmb1,this.rmb2,this.rmb3,this.rmb4,this.rmb5];for(var e=this.nums,t=this.rmbs,i=0;i<this.numlabels.length;i++)this.numlabels[i].string=e[i]+"",this.rmblabels[i].string=t[i]+""},start:function(){},setUIBase:function(e){this.uibase=e},onBtnBuy:function(e,t){if(this.uibase){var i=parseInt(t),s=this.numlabels[i],a=this.nums[i],c=(this.uibase.coinlabel,this.uibase.diamondlabel),l=s,r=l.node.parent.convertToWorldSpaceAR(l.node.position);r=this.node.convertToNodeSpaceAR(r);var u=this.node,h=c.node.parent.convertToWorldSpaceAR(c.node.position);h=this.node.convertToNodeSpaceAR(h);var p=a/20,d=function(){this.uibase.updateDiamond(p),this.uibase.playCoin()}.bind(this);o.produceRandomNodeLineMove(n.Diamond,20,r,h,u,d)}},onBtnCloseClicked:function(e){var t=function(){this.node.removeFromParent()}.bind(this);this.scaleClose(this.node,t)}}),cc._RF.pop()},{BaseUI:"BaseUI",Utils:"Utils"}],DrawLine:[function(e,t,i){"use strict";cc._RF.push(t,"33409TPtkZM9Z4iMRGMbjXc","DrawLine");var o=e("Utils"),n=e("PoolMng"),s=e("EnumDefine").DrawlineKind;cc.Enum({normalToNormal:0,normalToProp:1,propToNormal:2,propToProp:3});cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.board=this.node.getComponent("Board"),this.spawnCells=this.node.getComponent("SpawnCells"),this.processBoardCell=this.node.getComponent("ProcessBoardCell");var e=o.levelID;1===parseInt(e)?this.needDrawline=!0:this.needDrawline=!1},ctor:function(){this.lineNodelist=[],this.templisthv=[],this.templistslant=[],this.guideNode=null,this.needDrawline=!1,this._guideDone=!1},start:function(){},clearlines:function(){for(var e=0;e<this.templisthv.length;e++){var t=this.templisthv[e];n.instance.putline(t)}for(var i=0;i<this.templistslant.length;i++){var o=this.templistslant[i];n.instance.putslantline(o)}this.templisthv.length=0,this.templistslant.length=0,this.lineNodelist.length=0},deleteline:function(e){var t=this.lineNodelist.indexOf(e);if(t>=0&&this.lineNodelist.splice(t,1),this.templisthv.length>0){var i=this.templisthv[this.templisthv.length-1];n.instance.putline(i);var o=this.templisthv.length-1;this.templisthv.splice(o,1)}},drawline:function(e,t){if(0!==this.lineNodelist.length){var i=this.lineNodelist[this.lineNodelist.length-1].position,o=e.position,n=this.node;this.spawnlineNode(i,o,n,t),this.lineNodelist.push(e)}else this.lineNodelist.push(e)},spawnlineNode:function(e,t,i,o){var n=this.createOneline(e,t,i,o);if(n){switch(o){case s.Normal:this.templisthv.push(n);break;case s.AttackAddtion:this.templistslant.push(n);break;case s.Defence:this.templisthv.push(n)}var a=n.position,c=cc.callFunc(function(){n.position=a},this),l=e.sub(t).normalize(),r=-l.x*Math.abs(e.x-t.x)*.5,u=-l.y*Math.abs(e.y-t.y)*.5,h=cc.moveBy(.5,cc.v2(r,u)),p=cc.sequence(cc.show(),h,c),d=cc.repeatForever(p);n.stopAllActions(),n.runAction(d)}},createOneline:function(e,t,i,o){var a=t.sub(e),c=Math.atan2(a.y,a.x),l=-cc.misc.radiansToDegrees(c),r=null;switch(o){case s.Normal:(r=n.instance.getline()).getChildByName("attack").active=!1,r.getChildByName("defence").active=!1;break;case s.AttackAddtion:(r=n.instance.getline()).getChildByName("attack").active=!0,r.getChildByName("defence").active=!1;break;case s.Defence:(r=n.instance.getline()).getChildByName("attack").active=!1,r.getChildByName("defence").active=!0}if(r){r.parent=i,r.rotation=l,r.zIndex=2;var u=cc.v2();return u.x=(e.x+t.x)/2,u.y=(e.y+t.y)/2,r.x=u.x-r.width/2+37.5,r.y=u.y-r.height/2+37.5,r}},getGuideIsDone:function(){return this._guideDone},guideDone:function(){this._guideDone=!0},removeGuideline:function(){this.guideNode&&(this.guideNode.removeFromParent(),this.guideNode=null)},drawGuideline:function(){if(this.needDrawline&&!0!==this._guideDone){this.guideNode&&this.removeGuideline();var e=this.processBoardCell.getCell(1,1),t=this.processBoardCell.getCell(2,2),i=this.processBoardCell.getCell(3,2),o=this.processBoardCell.getCell(4,2),n=this.processBoardCell.getCell(5,2),s=this.processBoardCell.getCell(6,2),a=[];a.push(e),a.push(t),a.push(i),a.push(o),a.push(n),a.push(s);for(var c=[],l=0;l<a.length;l++){var r=a[l],u=r.position;u.x+=r.width,c.push(u)}var h=c[0],p=this;cc.loader.loadRes("prefab/guideHand",function(e,t){e&&cc.error(e);var i=cc.instantiate(t);i.parent=p.node,i.position=h;var o=.5*c.length,n=cc.catmullRomTo(o,c).easing(cc.easeSineInOut(3)),s=cc.callFunc(function(){i.position=c[0]},p),a=cc.sequence(cc.show(),n,cc.delayTime(.5),s,cc.delayTime(1)),l=cc.repeatForever(a);i.runAction(l),i.group="UI",p.guideNode=i})}}}),cc._RF.pop()},{EnumDefine:"EnumDefine",PoolMng:"PoolMng",Utils:"Utils"}],DropCell:[function(e,t,i){"use strict";cc._RF.push(t,"dc389MgnitNNITbrDvFbrs3","DropCell");var o=e("Utils").NUMROWS,n=e("Utils").NUMCOLUMNS,s=(e("Utils").TITLE_WIDTH,e("Utils").TITLE_HEIGHT),a=e("Utils"),c=e("EnumDefine").CellType,l=e("Game");cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.board=this.node.getComponent("Board"),this.ProcessBoardCell=this.node.getComponent("ProcessBoardCell"),this.spawnCells=this.node.getComponent("SpawnCells"),this.DropFromSide=this.node.getComponent("DropFromSide")},ctor:function(){this._falldoneFunc=null},start:function(){},checkSideTop:function(e,t){var i=this.ProcessBoardCell.getSideCell(e,t);return i?i.getComponent("SideCell").sideTNum():0},checkSideBottom:function(e,t){var i=this.ProcessBoardCell.getSideCell(e,t);return i?i.getComponent("SideCell").sideBNum():0},dropPosition:function(e,t,i){return a.DropCellPosition(e,t,i,this.node.width,this.node.height)},animateFalling:function(e){var t=this;null!=e&&(this._falldoneFunc=e);var i=[];this.fillHoles(i,!0);for(var o=0,n=0;n<i.length;n++)for(var a=0,c=i[n],l=0;l<c.length;l++){var r=c[l],u=r.getComponent("Cell"),h=r.getPosition(),p=u.celltype,d=this.dropPosition(p,u.column,u.row),f=.15*a;a+=1;var m=(h.y-d.y)/s*.07;o=Math.max(o,m+f),u.moveTo(f,m,.1,d)}var v=cc.callFunc(function(){t.openBottomBox();var e=t.DropFromSide.fillSideHoles(),i=cc.callFunc(function(){var e=[];if(t.fillHoles(e,!1),e.length>0)t.animateFalling(null);else{var i=[];t.topUpCell(i),t.animateNewCellFalling(i)}},t),o=cc.sequence(cc.delayTime(e),i);t.node.runAction(o)},this),g=cc.sequence(cc.delayTime(o),v);this.node.runAction(g)},animateNewCellFalling:function(e){for(var t=this,i=0,o=0;o<e.length;o++)for(var n=e[o],s=n[0],a=s.getComponent("Cell").row+1,c=0,l=0;l<n.length;l++){var r=(s=n[l]).getComponent("Cell"),u=this.dropPosition(r.celltype,r.column,a);s.position=u;var h=.15*(n.length-c-1),p=.07*(a-r.row);c+=1,i=Math.max(i,p+h);var d=r.celltype,f=this.dropPosition(d,r.column,r.row);r.moveTo(h,p,.06,f)}var m=cc.callFunc(function(){var e=t.DropFromSide.fillSideHoles(),i=cc.callFunc(function(){e>0?t.animateFalling():t.DropCellDone()},t),o=cc.sequence(cc.delayTime(e),i);t.node.runAction(o)},this);this.node.runAction(cc.sequence(cc.delayTime(i),m))},DropCellDone:function(){var e=this,t=cc.callFunc(function(){e._falldoneFunc&&(e._falldoneFunc(),e._falldoneFunc=null)},this);this.node.runAction(cc.sequence(cc.delayTime(.1),t))},dropPropCell:function(e,t){var i=null;if(a.PropFlashCnt>0){a.PropFlashCnt=0;var o=c.PropFlash;i=this.spawnCells.spawnPropCell(e,t,o)}return i},dropKey:function(){},fillHoles:function(e,t){for(var i=0;i<n;i++){for(var s=[],a=0;a<o;a++){if(!(this.checkSideTop(i,a)>0))if(!this.ProcessBoardCell.getCell(i,a))for(var c=a+1;c<o;c++){var l=!1,r=this.ProcessBoardCell.getCell(i,c);if(r){var u=r.getComponent("Cell");if(u.IsBlock())break;if(this.checkSideBottom(i,c)>0)break;u.IsBlock()||this.checkSideBottom(i,c)<=0&&(l=!0)}if(r&&l){if(t)this.ProcessBoardCell.setCell(i,c,null),this.ProcessBoardCell.setCell(i,a,r),r.getComponent("Cell").row=a;s.push(r);break}if(this.checkSideTop(i,c)>0)break}}s.length>0&&e.push(s)}},topUpCell:function(e){for(var t=0;t<n;t++){for(var i=[],s=o-1;s>=0&&!this.ProcessBoardCell.getCell(t,s)&&!(this.checkSideTop(t,s)>0);--s){var a=null;(a=this.dropPropCell(t,s))||(a=this.spawnCells.randomSpawnCell(t,s)),a&&i.push(a)}i.length>0&&e.push(i)}},openBottomBox:function(){for(var e=[],t=0;t<n;t++){var i=this.ProcessBoardCell.getCell(t,0);if(i){var o=i.getComponent("Cell");o.celltype===c.DropBottomBox&&o.IsBlockCoverRemoved()&&e.push(i)}}if(e.length>0)for(var s=0;s<e.length;s++){var r=e[s],u=r.getComponent("Cell").celltype;a.showBaby(r.parent,r.position),this.board.removeCell(r),l.instance.updateCell(u,1)}}}),cc._RF.pop()},{EnumDefine:"EnumDefine",Game:"Game",Utils:"Utils"}],DropFromSide:[function(e,t,i){"use strict";cc._RF.push(t,"d17e3uG/wRLwYHlepg405lF","DropFromSide");var o=e("Utils").NUMROWS,n=e("Utils").NUMCOLUMNS,s=(e("Utils").TITLE_WIDTH,e("Utils").TITLE_HEIGHT,e("Utils")),a=(e("EnumDefine").CellType,e("Game"),cc.v2());cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.ProcessBoardCell=this.node.getComponent("ProcessBoardCell")},start:function(){},checkColumnBlocks:function(e,t){for(var i=t;i<o;i++){var n=this.ProcessBoardCell.getCell(e,i);if(n)if(n.getComponent("Cell").IsBlock())return!0;var s=this.ProcessBoardCell.getSideCell(e,i);if(s){var a=s.getComponent("SideCell");if(a&&a.sideTNum()>0)return!0;if(a&&a.sideBNum()>0)return!0}}return!1},GetFillCell:function(e,t){var i=this.ProcessBoardCell.getCell(e,t);if(i){var o=!0,n=i.getComponent("Cell"),s=n.IsBlock();if(!n.fillHoled&&!s&&!n.IsKey()){var a=this.ProcessBoardCell.getSideCell(e,t);if(a)a.getComponent("SideCell").sideBNum()>0&&(o=!1);if(o)return i}}return null},searchRightBottom:function(e,t){for(var i=t,o=e;o<n&&i>=0;o+=1,i-=1){if(this.ProcessBoardCell.getCell(o,i))break}return[o-1,i+1]},searchLeftBottom:function(e,t){for(var i=t,o=e;o>=0&&i>=0;o-=1,i-=1){if(this.ProcessBoardCell.getCell(o,i))break}return[o+1,i+1]},fillSideHoles:function(){var e=0,t=0,i=this.getHoleslist();if(i.length>0)for(var o=0;o<i.length;o++){for(var n=i[o],c=0,l=0;l<n.length;l++){var r=n[l],u=r.position,h=r.getComponent("Cell"),p=h.celltype,d=s.DropCellPosition(p,h.column,h.row,this.node.width,this.node.height),f=.15*c;c+=1,d.sub(u,a);var m=a.mag()/100*.1;e=Math.max(e,m+f),h.moveTo(f+t,m,.1,d)}t+=.05}return e+t},getHoleslist:function(){for(var e=[],t=n-1;t>=0;t--){for(var i=[],s=0;s<o-1;s++){this.ProcessBoardCell.getCell(t,s)||this.checkColumnBlocks(t,s)&&this.fillBlockHole(i,t,s)}i.length>0&&e.push(i)}return e},fillBlockHole:function(e,t,i){for(var s=!1,a=t+1,c=i+1;a<n&&c<o;){var l=this.ProcessBoardCell.getCell(a,c);if(l){var r=l.getComponent("Cell");if(r.IsBlock()||r.IsKey())break}if(l=this.GetFillCell(a,c)){var u=this.searchLeftBottom(a-1,c-1),h=u[0],p=u[1];this.ProcessBoardCell.setCell(a,c,null),this.ProcessBoardCell.setCell(h,p,l);var d=l.getComponent("Cell");d.row=p,d.column=h,d.fillHoled=!0,e.push(l),s=!0}a+=1,c+=1}if(s)return!0;for(a=t-1,c=i+1;a>=0&&c<o;){var f=this.ProcessBoardCell.getCell(a,c);if(f){var m=f.getComponent("Cell");if(m.IsBlock()||m.IsKey())break}if(f=this.GetFillCell(a,c)){var v=this.searchRightBottom(a+1,c-1),g=v[0],C=v[1];this.ProcessBoardCell.setCell(a,c,null),this.ProcessBoardCell.setCell(g,C,f);var _=f.getComponent("Cell");_.row=C,_.column=g,_.fillHoled=!0,e.push(f)}a-=1,c+=1}}}),cc._RF.pop()},{EnumDefine:"EnumDefine",Game:"Game",Utils:"Utils"}],EnumDefine:[function(e,t,i){"use strict";cc._RF.push(t,"7650b51u9ZMDKSLy0dY8S+o","EnumDefine");var o=cc.Enum({Red:0,Purble:1,Orange:2,ScoreRed:3}),n=cc.Enum({Idle:0,Ready:1,Bonustime:2,Crazy:3,TimeUp:4}),s=cc.Enum({Prop:0,Coin:1,Diamond:2,Skill:3,UnKnown:-1}),a=cc.Enum({FruitJuice:0,BombEffect1:1}),c=cc.Enum({Normal:0,AttackAddtion:1,Defence:2}),l=cc.Enum({NormalFight:0,BossFight:1,UnKnown:-1}),r=cc.Enum({NormalRemove:1,DropBottomRemove:2,SkillRemove:3,NotRemove:4}),u=cc.Enum({Cell1:0,Cell2:1,Cell3:2,Cell4:3,Cell5:4,ClearBomb:5,DropBox:6,Chest:7,Step:8,Block:9}),h=cc.Enum({Left:0,Right:1,Top:2,Bottom:3,LeftUpper:5,RightUpper:6,LeftLower:7,RightLower:8,UnKnown:-1}),p=cc.Enum({Cell1:0,Cell2:1,Cell3:2,Cell4:3,Cell5:4,RXCellType:7,HorinalProp:10,VerticalProp:11,CrossProp:12,XCrossProp:13,ClearBombProp:14,DiamondBombProp:15,DoubleHorinalProp:16,DoubleVerticalProp:17,InFectsProp:18,FlashProp:19,SameColorProp:20,CoverOneColorProp:21,CircleBombProp:22,XXCrossProp:23,Salive:30,Weeds:40,Fence:50,Stakes:60,KeyUp:70,KeyDown:71,KeyLeft:72,KeyRight:73,Chest:74,BlockDiamond:80,DropBottomBox:90,BlockSide:100,BlockCover:105,SpinKey:110,NoneCell:120,SolidCell:121,UnKnown:-1}),d=cc.Enum({Actor1:0,Actor2:1,Actor3:2,Actor4:3,Actor5:4,UnKnown:-1}),f=cc.Enum({BattleCamera:0,SkyCamera:1,MidOneCamera:2}),m=cc.Enum({kHorinal:0,kVertical:1}),v=cc.Enum({Win:0,Lose:1,TimeUp:2,Fighting:3,UnKnown:4}),g=cc.Enum({Main:0,Map:1,Story:2}),C=cc.Enum({Coin:0,Diamond:1,UnKnown:10}),_=cc.Enum({Farm1:10001,Farm2:10002,Farm3:10003,Forest1:20001,Forest2:20002,Forest3:20003,Snow1:30001,Snow2:30002,Snow3:30003,Volcano1:40001,Volcano2:40002,Volcano3:40003});var b=cc.Enum({Salive:0,UnKnown:-1});t.exports={CellType:p,CellBlockType:r,ActorType:d,CameraType:f,ChestType:s,Direction:m,SpinType:C,PetInfo:function(){this.petid=-1,this.attack=10},LevelResult:v,EnterKind:g,GameStages:_,FightKind:l,CellsRelativeDir:h,DrawlineKind:c,RemoveCellEffect:a,CellAnimationType:n,LevelEditorID:u,HurtFont:o,MonsterSkillType:b},cc._RF.pop()},{}],EveryDayLogin:[function(e,t,i){"use strict";cc._RF.push(t,"d9a1f6yJjhAeZOFC5TJ3PGT","EveryDayLogin"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],FightUI:[function(e,t,i){"use strict";cc._RF.push(t,"530910GpJdFIqaHhaC9A3/3","FightUI");e("JsonData"),e("LocalStorage"),e("EnumDefine").ActorType;var o=e("Utils"),n=e("EnumDefine").CellType,s=e("EnumDefine").LevelEditorID,a=e("EnumDefine").LevelResult;e("RPGManager"),e("EnumDefine").FightKind;cc.Class({extends:cc.Component,properties:{coin:{default:null,type:cc.SpriteFrame},coinlabel:{default:null,type:cc.Label},diamondlabel:{default:null,type:cc.Label},scorelabel:{default:null,type:cc.Label},steplabel:{default:null,type:cc.Label},wavelabel:{default:null,type:cc.Label},bossTargetLabel:{default:null,type:cc.Label},stepbk:cc.Node,leftbk:cc.Node,timeBar:cc.ProgressBar,gole:cc.Node,goleMonster:cc.Node,goleCell:cc.Node,goleDropBox:cc.Node,goleSp:cc.Node,combo:cc.Node},ctor:function(){this.StageType=0,this.bossTime=200,this.timeDt=0,this.timeDelay=1,this.bossTimeOver=!1,this.startTimeUpdate=!1},onLoad:function(){this.coinlabel.string="0",this.diamondlabel.string="0",this.scorelabel.string="0",this.coinVal=0,this.diamondVal=0,this.scoreVal=0,this.playSteps=0,this.monsterTarget={},this.cellTargets={},this.goleMonster.active=!1,this.goleCell.active=!1,this.goleDropBox.active=!1,this.goleSp.active=!1,this.stepbk.active=!0,this.timeBar.node.active=!1,this.bossTargetLabel.node.active=!1;o.levelID,o.levelData.StageType},showCombo:function(e,t){if(this.combo&&(this.combo&&(this.combo.active=t),e)){var i=combo.getChildByName("num");if(i)i.getComponent("cc.Label").string=e+""}},showGole:function(){if(null!==o.LevelEditorLevelGoles){var e=o.LevelEditorLevelGoles;this.showGoleData(e)}else this.showGoleFromXls(o.levelData)},showGoleFromXls:function(e){var t={};t[n.Cell1]=e.TomatoNum,t[n.Cell2]=e.EggplantNum,t[n.Cell3]=e.OrangeNum,t[n.Cell4]=e.AppleNum,t[n.Cell5]=e.PeachNum,t[n.Chest]=e.DemandTreasure;var i=e.WaveEnemyID,o=i.length;";"===i[o-1]&&(i=i.substring(0,o-1));var s=i.split(";").length,a={};a.StepNum=e.playSteps,a.WaveNum=s,a.GoleCells=t,this.showGoleData(a)},showGoleData:function(e){var t=e.WaveNum,i=e.GoleCells,o=i[s.Step];this.playSteps=o,this.steplabel.string=this.playSteps+"";var n=0;if(t>0){var a=cc.instantiate(this.goleMonster);a.active=!0,a.parent=this.leftbk,a.addComponent(cc.Widget);var c=a.getComponent(cc.Widget);c.left=-33,c.top=33,c.isAlignTop=!0,c.isAlignLeft=!0,c.alignMode=cc.Widget.AlignMode.ON_WINDOW_RESIZE,n+=1;var l=a.getChildByName("num").getComponent("cc.Label");l.string=t+"",this.monsterTarget.num=t,this.monsterTarget.label=l}for(var r in i){var u=i[r];if(u>0){var h=parseInt(r);switch(h){case s.Cell1:case s.Cell2:case s.Cell3:case s.Cell4:case s.Cell5:this.spawncell(h,u,-33,33,n,50),n+=1;break;case s.DropBox:this.spawnChest(h,u,-33,33,n,50),n+=1;break;case s.ClearBomb:this.spawnSp(h,"bomb",u,-33,33,n,50),n+=1;break;case s.Block:this.spawnSp(h,"wood1",u,-33,33,n,50),n+=1;break;case s.Chest:this.spawnSp(h,"chest1",u,-33,33,n,50),n+=1}}}},spawncell:function(e,t,i,n,s,a){var c=cc.instantiate(this.goleCell);c.active=!0,c.parent=this.leftbk,c.position=cc.v2(i,n-s*a),c.addComponent(cc.Widget);var l=c.getComponent(cc.Widget);l.left=i,l.top=n+s*a,l.isAlignTop=!0,l.isAlignLeft=!0,l.alignMode=cc.Widget.AlignMode.ON_WINDOW_RESIZE;var r=o.getCellName(e),u=c.getChildByName("target");u.scale=.4;var h="spine/fruite/"+r;cc.loader.loadRes(h,sp.SkeletonData,function(e,t){e&&cc.error(e),u.getComponent("sp.Skeleton").skeletonData=t});var p=c.getChildByName("num").getComponent("cc.Label");p.string=t+"";var d={};d.num=t,d.label=p,this.cellTargets[e]=d},spawnDropBox:function(e,t,i,o,n,s){var a=cc.instantiate(this.goleDropBox);a.active=!0,a.parent=this.leftbk,a.position=cc.v2(i,o-n*s),a.addComponent(cc.Widget);var c=a.getComponent(cc.Widget);c.left=i,c.top=o+n*s,c.isAlignTop=!0,c.isAlignLeft=!0,c.alignMode=cc.Widget.AlignMode.ON_WINDOW_RESIZE;var l=a.getChildByName("target");l.scale=.35;cc.loader.loadRes("spine/baby/lockbaby",sp.SkeletonData,function(e,t){e&&cc.error(e),l.getComponent("sp.Skeleton").skeletonData=t});var r=a.getChildByName("num").getComponent("cc.Label");r.string=t+"";var u={};u.num=t,u.label=r,this.cellTargets[e]=u},spawnSp:function(e,t,i,o,n,s,a){var c=cc.instantiate(this.goleSp);c.active=!0,c.parent=this.leftbk,c.position=cc.v2(o,n-s*a),c.addComponent(cc.Widget);var l=c.getComponent(cc.Widget);l.left=o,l.top=n+s*a,l.isAlignTop=!0,l.isAlignLeft=!0,l.alignMode=cc.Widget.AlignMode.ON_WINDOW_RESIZE;var r=c.getChildByName("target");r.scale=.5;var u=r.getComponent("cc.Sprite");cc.loader.loadRes("texture/UI",cc.SpriteAtlas,function(e,i){var o=i.getSpriteFrame(t);u.spriteFrame=o});var h=c.getChildByName("num").getComponent("cc.Label");h.string=i+"";var p={};p.num=i,p.label=h,this.cellTargets[e]=p},start:function(){},getSteps:function(){return this.playSteps},checkResult:function(){return this.checkTarget()?this.playSteps>=0?a.Win:a.Lose:this.playSteps<=0?a.Lose:a.Fighting},checkTarget:function(){var e=!0,t=!0;for(var i in this.cellTargets){if(this.cellTargets[i].num>0){e=!1;break}}return this.monsterTarget.num>0&&(t=!1),e&&t},updateStep:function(e){this.playSteps+=e,this.playSteps<0&&(this.playSteps=0),this.steplabel.string=this.playSteps+""},updateWave:function(e){this.monsterTarget.num-=e,this.monsterTarget.num<0&&(this.monsterTarget.num=0);var t=this.monsterTarget.num;this.monsterTarget.label.string=t+""},updateCell:function(e,t){var i=e=parseInt(e);switch(e){case n.Cell1:case n.Cell2:case n.Cell3:case n.Cell4:case n.Cell5:i=e;break;case n.ClearBombProp:i=s.ClearBomb;break;case n.Chest:i=s.Chest;break;case n.DropBottomBox:i=s.DropBox;break;case n.Weeds:case n.Fence:case n.Stakes:i=s.Block}for(var o in this.cellTargets)if(i===(o=parseInt(o))){var a=this.cellTargets[o];a.num-=t,a.num<0&&(a.num=0),a.label.string=a.num+"",this.cellTargets[o]=a}},updateRemoveCells:function(e){var t=function(e){var t=o.levelResultData,i=e.Coin,n=e.Integral;this.scoreVal+=n,this.scorelabel.string=this.scoreVal+"",t.score=this.scoreVal,this.coinVal+=i,this.coinlabel.string=this.coinVal+"",t.coinNum=this.coinVal}.bind(this);this.loadLineHarvestData(e,t)},updateCoin:function(e){this.coinVal+=e,this.coinlabel.string=this.coinVal+"",o.levelResultData.coinNum=this.coinVal},updateDiamond:function(e){this.diamondVal+=e,this.diamondlabel.string=this.diamondVal+"",o.levelResultData.diamondNum=this.diamondVal},updateScore:function(e){this.scoreVal+=e,this.scorelabel.string=this.scoreVal+"",o.levelResultData.score=this.scoreVal},addBossTime:function(e){this.timeBar.progress+=.3,this.bossTimeOver=!1,this.startTimeUpdate=!0},getBossTimeOver:function(){return this.bossTimeOver},resumeTimeUpdate:function(){this.startTimeUpdate=!0},onBtnPauseClicked:function(e){var t=cc.director.getScene()._children[0];cc.loader.loadRes("prefab/PauseUI",function(e,i){var o=cc.instantiate(i);o&&(o.parent=t,o.active=!0)})},loadLineHarvestData:function(e,t){cc.loader.loadRes("json/LineHarvest",function(i,o){for(var n=o.json,s=0;s<n.length;s++){var a=n[s];if(e===parseInt(a.Line)){t&&t(a);break}}})}}),cc._RF.pop()},{EnumDefine:"EnumDefine",JsonData:"JsonData",LocalStorage:"LocalStorage",RPGManager:"RPGManager",Utils:"Utils"}],Game:[function(e,t,i){"use strict";cc._RF.push(t,"57ffdIDOCJLb55qK4pUkjBB","Game");e("JsonData");var o=e("LocalStorage"),n=e("Utils"),s=e("RPGManager"),a=e("EnumDefine").LevelResult,c=e("EnumDefine").FightKind,l=cc.Class({extends:cc.Component,properties:{Board:cc.Node,BoxesNode:cc.Node,RPG:cc.Node,UINode:cc.Node,FightUI:cc.Node,Root:cc.Node,bossRoadNode:cc.Node},statics:{instance:null},ctor:function(){this.ActorFiring=!1,this.roleDatas=[],this.battlePetDatas=[],this.levelID=-1,this.fightUI=null},onLoad:function(){l.instance=this,this.levelID=n.levelID;var e=n.levelResultData;e.coinNum=0,e.diamondNum=0,e.levelResult=a.Fighting,this.loadStorageData(),this.playBkAudio=this.Root.getComponent("PlayBkAudios"),this.BossRoad=this.bossRoadNode.getComponent("BossRoad"),this._stageType=n.levelData.StageType,this.poolMng=this.node.getComponent("PoolMng"),this.poolMng.init(),this.Boxes=this.BoxesNode.getComponent("Boxes"),this.Boxes.spawnBoxes(),this.board=this.Board.getComponent("Board"),this.board.init(this),this.fightUI=this.FightUI.getComponent("FightUI")},start:function(){this.createGame(this.levelID),this.fightUI.showGole()},loadFightUI:function(){},loadStorageData:function(){for(var e=[0,1,2,3,4],t=0;t<e.length;t++){var i=e[t],n=o.instance.getRoleData(i);n&&this.roleDatas.push(n)}var s=o.instance.getBattlePetData();for(var a in s){var c=s[a];this.battlePetDatas.push(c)}},createGame:function(e){this.board.spawnCells(e),s.instance.createRPG(e)},showCombo:function(e,t){this.fightUI.showCombo(e,t)},addBossTime:function(e){this.fightUI.addBossTime(e)},getBossTimeOver:function(){return this.fightUI.getBossTimeOver()},resumeTimeUpdate:function(){this.fightUI.resumeTimeUpdate()},updateCoin:function(e){this.fightUI.updateCoin(e)},updateRemoveCells:function(e){this.fightUI.updateRemoveCells(e)},updateDiamond:function(e){this.fightUI.updateDiamond(e)},updateStep:function(e){this.fightUI.updateStep(e)},updateScore:function(e){this.fightUI.updateScore(e)},updateCell:function(e,t){this.fightUI.updateCell(e,t)},updateWave:function(e){this.fightUI.updateWave(e)},checkResult:function(){switch(this._stageType){case c.NormalFight:case c.BossFight:return this.fightUI.checkResult()}},fireOver:function(){this.ActorFiring=!1},removeCell:function(e){this.board.removeCell(e)},getFightUI:function(){return this.fightUI},getSteps:function(){return this.fightUI.getSteps()},stopAudio:function(){this.playBkAudio.stop()},pauseAudio:function(){this.playBkAudio.pause()},playAudio:function(){this.playBkAudio.play()},resumeAudio:function(){this.playBkAudio.resume()},updateBossRoad:function(e){this.BossRoad.updateRoadBar(e)}});cc._RF.pop()},{EnumDefine:"EnumDefine",JsonData:"JsonData",LocalStorage:"LocalStorage",RPGManager:"RPGManager",Utils:"Utils"}],HurtCell:[function(e,t,i){"use strict";cc._RF.push(t,"f82edCac5xFm5G/V6C8y7kr","HurtCell");e("JsonData"),e("EnumDefine").CellType,e("EnumDefine").CellBlockType;var o=e("EnumDefine").CellsRelativeDir,n=e("ProcessBoardCell"),s=(e("Board"),e("Utils"),e("Game"),e("Utils").NUMROWS),a=e("Utils").NUMCOLUMNS;cc.Class({extends:cc.Component,properties:{},start:function(){},DieHurt:function(){var e=this.node.getComponent("Cell");if(e.normalCell()){var t=e.row,i=e.column;n.instance.printCells();var c=n.instance.getSideCell(i,t);if(c){var l=c.getComponent("SideCell");if(l){if(l.sideLNum()>0)return void l.hurt(o.Left);if(l.sideRNum()>0)return void l.hurt(o.Right);if(l.sideTNum()>0)return void l.hurt(o.Top);if(l.sideBNum()>0)return void l.hurt(o.Bottom)}}if(i-1>=0){var r=n.instance.getSideCell(i-1,t);if(r){var u=r.getComponent("SideCell");if(u)if(u.sideRNum()>0)return void u.hurt(o.Right)}var h=n.instance.getCell(i-1,t);if(h){var p=h.getComponent("Cell");if(p.IsblockCover())return void p.hurt()}}if(i+1<a){var d=n.instance.getSideCell(i+1,t);if(d){var f=d.getComponent("SideCell");if(f)if(f.sideLNum()>0)return void f.hurt(o.Left)}var m=n.instance.getCell(i+1,t);if(m){var v=m.getComponent("Cell");if(v.IsblockCover())return void v.hurt()}}if(t+1<s){var g=n.instance.getSideCell(i,t+1);if(g){var C=g.getComponent("SideCell");if(C)if(C.sideBNum()>0)return void C.hurt(o.Bottom)}var _=n.instance.getCell(i,t+1);if(_){var b=_.getComponent("Cell");if(b.IsblockCover())return void b.hurt()}}if(t-1>=0){var S=n.instance.getSideCell(i,t-1);if(S){var y=S.getComponent("SideCell");if(y)if(y.sideTNum()>0)return void y.hurt(o.Top)}var k=n.instance.getCell(i,t-1);if(k){var B=k.getComponent("Cell");if(B.IsblockCover())return void B.hurt()}}}}}),cc._RF.pop()},{Board:"Board",EnumDefine:"EnumDefine",Game:"Game",JsonData:"JsonData",ProcessBoardCell:"ProcessBoardCell",Utils:"Utils"}],JsonDataType:[function(e,t,i){"use strict";function o(e){e?this.set(e):(this.BlockId=0,this.BlockName="",this.BlockType=0,this.BlockLv=0)}function n(e){e?this.set(e):(this.ID=0,this.MonsterName="",this.AnimeRes="",this.Life=0,this.Skill=0,this.DeathCoin=0,this.DeathIntegral=0,this.DeathDiamondOdds=0,this.DeathDiamondNumber,this.Atk=0,this.AttriBute=0)}function s(e){e?this.set(e):(this.LevelId=0,this.StageID=0,this.StageType=0,this.WaveEnemyID="",this.MonsterNum=0,this.PlaySteps=0,this.GoldAward=0,this.DiamondAward=10,this.ItemAward="",this.AppleDropWeight=0,this.OrangeDropWeight=0,this.PeachDropWeight=0,this.TomatoDropWeight=0,this.EggplantDropWeight=0,this.AppleNum=0,this.OrangeNum=0,this.PeachNum=0,this.TomatoNum=0,this.EggplantNum=0,this.DemandTreasure=0,this.GameBgm=0)}function a(e){e?this.set(e):(this.LevelID=0,this.Row1="",this.Row2="",this.Row3="",this.Row4="",this.Row5="",this.Row6="",this.Row7="",this.Row8="")}function c(e){e?this.set(e):(this.roletype=-1,this.level=-1,this.attack=-1,this.upgradecoin=0)}function l(e){e&&this.set(e)}function r(e){e?this.set(e):(this.ID=-1,this.Level=-1,this.Attack=-1,this.UpgradeNumber=0,this.Levelupexp=0)}function u(e){e&&this.set(e)}cc._RF.push(t,"b466fvZQNRB+JWJO6mC9w3U","JsonDataType"),o.prototype.set=function(e){this.BlockId=e.BlockId,this.BlockName=e.BlockName,this.Fall=e.Fall,this.BlockType=e.BlockType,this.BlockLv=e.BlockLv},n.prototype.set=function(e){this.ID=e.ID,this.MonsterName=e.MonsterName,this.AnimeRes=e.AnimeRes,this.Life=e.Life,this.Skill=e.Skill,this.DeathCoin=e.DeathCoin,this.DeathIntegral=e.DeathIntegral,this.DeathDiamondOdds=e.DeathDiamondOdds,this.DeathDiamondNumber=e.DeathDiamondNumber,this.Atk=e.Atk,this.AttriBute=e.AttriBute},s.prototype.set=function(e){this.LevelId=e.LevelId,this.StageID=e.StageID,this.StageType=e.StageType,this.WaveEnemyID=e.WaveEnemyID,this.MonsterNum=e.MonsterNum,this.PlaySteps=e.PlaySteps,this.GoldAward=e.GoldAward,this.DiamondAward=e.DiamondAward,this.ItemAward=e.ItemAward,this.AppleDropWeight=e.AppleDropWeight,this.OrangeDropWeight=e.OrangeDropWeight,this.PeachDropWeight=e.PeachDropWeight,this.TomatoDropWeight=e.TomatoDropWeight,this.EggplantDropWeight=e.EggplantDropWeight,this.AppleNum=e.AppleNum,this.OrangeNum=e.OrangeNum,this.PeachNum=e.PeachNum,this.TomatoNum=e.TomatoNum,this.EggplantNum=e.EggplantNum,this.DemandTreasure=e.DemandTreasure,this.GameBgm=e.GameBgm},a.prototype.set=function(e){this.LevelID=e.LevelID,this.Row1=e.Row1,this.Row2=e.Row2,this.Row3=e.Row3,this.Row4=e.Row4,this.Row5=e.Row5,this.Row6=e.Row6,this.Row7=e.Row7,this.Row8=e.Row8},c.prototype.set=function(e){this.roletype=e.roletype,this.level=e.level,this.attack=e.attack,this.upgradecoin=e.upgradecoin},l.prototype.set=function(e){this.ID=e.ID,this.BuyType=e.BuyType,this.BuyPrice=e.BuyPrice,this.skill_chinese=e.skill_chinese},r.prototype.set=function(e){this.ID=e.ID,this.Level=e.Level,this.Attack=e.Attack,this.UpgradeNumber=e.UpgradeNumber,this.Levelupexp=e.Levelupexp},u.prototype.set=function(e){this.ID=e.ID,this.Pic=e.Pic,this.Star=e.Star,this.PetSkill=e.PetSkill,this.china=e.china,this.usa=e.usa},t.exports={LevelTitleData:a,LevelData:s,BlockData:o,MonsterData:n,RoleUpGradeJsonData:c,PetData:r,PetDetailData:u,BuyRoleData:l},cc._RF.pop()},{}],JsonData:[function(e,t,i){"use strict";cc._RF.push(t,"f089fKz3x1AZKuQqtZAUol2","JsonData");var o=e("JsonDataType"),n=o.LevelTitleData,s=(o.BlockData,o.MonsterData),a=o.LevelData,c=o.RoleUpGradeJsonData,l=o.PetData,r=o.BuyRoleData,u=o.PetDetailData,h=cc.Class({extends:cc.Component,properties:{},statics:{instance:null},ctor:function(){this.levelTitleDatas={},this.levelDatas={},this.blockDatas={},this.monsterDatas={},this.buyRoleDatas={},this.roleUpgradeDatas=[],this.petDatas=[],this.petDetails={}},onLoad:function(){h.instance=this},start:function(){},loadPetDetailDatas:function(e){var t=this;if("{}"===JSON.stringify(this.petDetails)){cc.loader.loadRes("json/PetDetail",function(i,o){for(var n=o.json,s=0;s<n.length;s++){var a=n[s],c=new u(a);t.petDetails[a.ID]=c}e(t.petDetails)})}else e(t.petDetails)},loadPetDetailData:function(e,t){var i=this;if("{}"===JSON.stringify(this.petDetails)){cc.loader.loadRes("json/PetDetail",function(o,n){for(var s=n.json,a=0;a<s.length;a++){var c=s[a],l=new u(c);i.petDetails[c.ID]=l}var r=i.petDetails[e];t(r)})}else{var o=i.petDetails[e];t(o)}},loadPetDatas:function(e){var t=this;if(0===this.petDatas.length){cc.loader.loadRes("json/Pet",function(i,o){for(var n=o.json,s=0;s<n.length;s++){var a=n[s],c=new l(a);t.petDatas.push(c)}e(t.petDatas)})}else e(t.petDatas)},loadPetData:function(e,t,i){var o=this;if(0===this.petDatas.length){cc.loader.loadRes("json/Pet",function(n,s){for(var a=s.json,c=0;c<a.length;c++){var r=a[c],u=new l(r);o.petDatas.push(u)}var h=this.findPetData(e,t);i(h)})}else{var n=this.findPetData(e,t);i(n)}},findPetData:function(e,t){for(var i=0;i<this.petDatas.length;i++){var o=this.petDatas[i];if(o.ID===e&&o.level===t)return o}},getBuyRoleData:function(e,t){var i=this;if("{}"===JSON.stringify(this.buyRoleDatas)){cc.loader.loadRes("json/BuyRole",function(o,n){for(var s=n.json,a=0;a<s.length;a++){var c=s[a],l=new r(c);i.buyRoleDatas[c.ID]=l}var u=i.buyRoleDatas[e];t(u)})}else{var o=this.buyRoleDatas[e];t(o)}},loadRoleUpgradeData:function(e,t,i){var o=this;if(0==this.roleUpgradeDatas.length){cc.loader.loadRes("json/RoleUpgrade",function(n,s){for(var a=s.json,l=0;l<a.length;l++){var r=a[l],u=new c(r);o.roleUpgradeDatas.push(u)}var h=o.findRoleUpgradeData(e,t);i(h)})}else{var n=this.findRoleUpgradeData(e,t);i(n)}},findRoleUpgradeData:function(e,t){for(var i=0;i<this.roleUpgradeDatas.length;i++){var o=this.roleUpgradeDatas[i];if(o.roletype===e&&o.level===t)return o}},loadLevelTitleData:function(e,t){var i=this;if("{}"===JSON.stringify(i.levelTitleDatas)){cc.loader.loadRes("json/levelTilesData",function(o,s){for(var a=s.json,c=0;c<a.length;c++){var l=a[c],r=new n(l);i.levelTitleDatas[l.LevelID]=r}var u=i.levelTitleDatas[e];t(u)})}else{var o=i.levelTitleDatas[e];t(o)}},loadLevelData:function(e,t){var i=this;if("{}"===JSON.stringify(this.levelDatas)){cc.loader.loadRes("json/level",function(o,n){for(var s=n.json,c=0;c<s.length;c++){var l=s[c],r=new a(l);i.levelDatas[l.LevelId]=r}var u=i.levelDatas[e];t(u)})}else{var o=i.levelDatas[e];t(o)}},loadMonsterData:function(e,t){var i=this;if("{}"===JSON.stringify(this.monsterDatas)){cc.loader.loadRes("json/Monster",function(o,n){for(var a=n.json,c=0;c<a.length;c++){var l=a[c],r=new s(l);i.monsterDatas[l.ID]=r}var u=i.monsterDatas[e];t(u)})}else{var o=i.monsterDatas[e];t(o)}},loadBlockData:function(e,t){var i=this;if("{}"===JSON.stringify(this.blockDatas)){cc.loader.loadRes("json/Block",function(o,n){for(var s=n.json,a=0;a<s.length;a++){var c=s[a];i.blockDatas[c.BlockId]=c}var l=i.blockDatas[e];t(l)})}else{var o=i.blockDatas[e];t(o)}}});cc._RF.pop()},{JsonDataType:"JsonDataType"}],LabelLocalized:[function(e,t,i){"use strict";cc._RF.push(t,"e4f88adp3hERoJ48DZ2PSAl","LabelLocalized");var o=e("i18n");cc.Class({extends:cc.Label,properties:{textKey:{default:"TEXT_KEY",multiline:!0,tooltip:"Enter i18n key here",notify:function(){this.string=this.localizedString}},localizedString:{override:!0,tooltip:"Here shows the localized string of Text Key",get:function(){return o.t(this.textKey)},set:function(e){this.textKey=e}}},onLoad:function(){this.localizedString&&(this.string=this.localizedString)}}),cc._RF.pop()},{i18n:"i18n"}],LevelBtn:[function(e,t,i){"use strict";cc._RF.push(t,"4674c9rc2JNEIg1ywfS5LvG","LevelBtn");var o=e("JsonData"),n=e("Utils"),s=e("LocalStorage"),a=(e("EnumDefine"),e("LoadlevelEditor")),c=e("EnumDefine").LevelResult;cc.Class({extends:cc.Component,properties:{blueBtn:{default:null,type:cc.SpriteFrame},grayBtn:{default:null,type:cc.SpriteFrame},redBtn:{default:null,type:cc.SpriteFrame},greenBtn:{default:null,type:cc.SpriteFrame},scrollView:{default:null,type:cc.ScrollView},contentNode:cc.Node,allMapNode:{default:[],type:cc.Node},UI:cc.Node},onLoad:function(){this.maxlevel=80,this.levelsUnit=10,this.oneMapSize=cc.size(640,1609),this.content=this.scrollView.content,this.lastUnlockID=-1,this.initLevels();var e=n.levelResultData;this.nextlevel(e)},start:function(){},initLevels:function(){var e=1,t=0;for(t=1;t<=this.maxlevel;t++){var i=s.instance.getStoryLevelData(t);if(i&&i.lock||!i){e=t-1;break}}for(t=1;t<=this.maxlevel;t++){var o=this.getlevelNode(t);if(o){var n=s.instance.getStoryLevelData(t);if(n&&n.lock||!n){var a=o.getChildByName("lock");o.getChildByName("levelID").active=!1,a.active=!0;var c=o.getComponent("cc.Button");c&&(c.interactable=!1)}else this.unlockNode(o,t,!1),t<e?this.ChangeBtn(o,this.greenBtn):this.ChangeBtn(o,this.redBtn);this.addBoss(o,t);var l=s.instance.getLevelStars(t);this.showStars(o,l)}}this.setMapContentSize(e),this.lastUnlockID=e;var r=this.getlevelNode(e);if(r){var u=r.position;this.contentNode.position=cc.v2(0,50-u.y)}},setMapContentSize:function(e){var t=0,i=parseInt(e/this.levelsUnit);t=0===parseInt(e%this.levelsUnit)?i-1:i,t+=1;var o=(t=(t+=1)>=8?8:t)*this.oneMapSize.height;this.content.height=o;for(var n=2*t+1;n<this.allMapNode.length;n++){this.allMapNode[n].active=!1}},nextlevel:function(e){var t=parseInt(n.levelID),i=e.levelResult,o=this.getlevelNode(t);if(o)switch(i){case c.Win:var a=s.instance.getLevelStars(t);if(n.passLevelStars>a&&(a=n.passLevelStars,this.showWinStars(o,t)),t>=this.maxlevel)return;if(this.lastUnlockID>t)return void this.jumpScrollView(this.lastUnlockID);if(o){this.ChangeBtn(o,this.greenBtn),t+=1;var l={};l.levelID=t,l.lock=!1,s.instance.setStoryLevelData(l),(o=this.getlevelNode(t))&&(this.unlockNode(o,t,!0),this.ChangeBtn(o,this.redBtn))}break;case c.Lose:this.ChangeBtn(o,this.grayBtn)}},jumpScrollView:function(e){},getlevelNode:function(e){var t=this.node.children;if(e<=t.length)return t[e-1]},ChangeBtn:function(e,t){e.getComponent("cc.Sprite").spriteFrame=t},unlockNode:function(e,t,i){var o=e.getChildByName("lock"),n=e.getChildByName("levelID"),s=e.getComponent("cc.Button");if(s&&(s.interactable=!0),n){n.active=!0;var a=n.getComponent("cc.Label");a&&(a.string=t+"")}o&&(o.active=!1)},showWinStars:function(e,t){var i=e.getChildByName("star1"),o=e.getChildByName("star2"),a=e.getChildByName("star3"),c=[];i&&c.push(i),o&&c.push(o),a&&c.push(a);var l=s.instance.getLevelStars(t),r=n.passLevelStars;if(r>l){var u=r-l;this.UI.getComponent("MapUI").collectStars(t,c,u);for(var h=0;h<u;h++){var p=c[h];p&&(p.active=!0)}}},showStars:function(e,t){var i=e.getChildByName("star1"),o=e.getChildByName("star2"),n=e.getChildByName("star3"),s=[];i&&s.push(i),o&&s.push(o),n&&s.push(n);var a=0;for(t>=s.length&&(t=s.length);a<t;a++){var c=s[a];c&&(c.active=!0)}for(;a<s.length;a++){var l=s[a];l&&(l.active=!1)}},addBoss:function(e,t){var i=this;o.instance.loadLevelData(t,function(t){var n=t.StageType,s=t.WaveEnemyID;if(1===n){var a=s.split(";");if(a.length>0){var c=a[0].split(":");if(c.length>0){var l=c[0],r=parseInt(l);o.instance.loadMonsterData(r,function(t){i.spawnMonster(t,e)})}}}})},spawnMonster:function(e,t){var i="prefab/monster/"+e.AnimeRes;cc.loader.loadRes(i,function(i,o){i&&(cc.error(i),cc.log("monster name:",e.AnimeRes));var n=cc.instantiate(o);n.setAnchorPoint(.5,0),n.addComponent("Monster"),n.parent=t.parent,n.position=t.position,n.x-=n.width;var s=n.getComponent("Monster");s.idle(),s.hideHp()})},onBtnLevelClicked:function(e,t){t=parseInt(t),n.levelID=t,n.levelResultData.levelID=t;var i=cc.director.getScene()._children[0],s=this;cc.loader.loadRes("prefab/LevelGole",function(e,c){var l=cc.instantiate(c);l.parent=i;var r=l.getComponent("LevelGole");r&&o.instance.loadLevelData(t,function(e){n.levelData=e;var i=function(){r.showGole()}.bind(s);a.instance.loadLevels(t,i)})})}}),cc._RF.pop()},{EnumDefine:"EnumDefine",JsonData:"JsonData",LoadlevelEditor:"LoadlevelEditor",LocalStorage:"LocalStorage",Utils:"Utils"}],LevelGole:[function(e,t,i){"use strict";cc._RF.push(t,"25006Jb9d5H44YenC127Ut1","LevelGole");var o=e("JsonData"),n=e("Utils"),s=(e("EnumDefine").CellType,e("LoadlevelEditor")),a=e("EnumDefine").LevelEditorID,c=e("EnumDefine").GameStages;cc.Class({extends:cc.Component,properties:{midbk:cc.Node,gole_monster:cc.Node,gole_cell:cc.Node,gole_sp:cc.Node,gole_dropbox:cc.Node,startBtn:cc.Node},onLoad:function(){this.gole_monster.active=!1,this.gole_cell.active=!1,this.gole_sp.active=!1,this.gole_dropbox.active=!1},start:function(){},showGole:function(){var e=n.LevelEditorLevelGoles,t=e.WaveNum,i=e.GoleCells,o=(i[a.Step],0);for(var s in i){i[s]>0&&(o+=1)}t>0&&(o+=1);var c=this.midbk.getContentSize().height+55*(o-1);this.midbk.height=c,this.startBtn.y=-this.midbk.height-this.startBtn.height/2-5;var l=0;if(t>0){var r=cc.instantiate(this.gole_monster);r.active=!0,r.parent=this.midbk,r.position=cc.v2(11,-75-65*l),l+=1,r.getChildByName("num").getComponent("cc.Label").string=t+""}for(var u in i){var h=i[u];if(h>0){var p=parseInt(u);switch(p){case a.DropBox:this.spawnDropBox(h,11,-75,l,65),l+=1;break;case a.Cell1:case a.Cell2:case a.Cell3:case a.Cell4:case a.Cell5:this.spawncell(p,h,11,-75,l,65),l+=1;break;case a.Block:this.spawnSp("wood1",h,11,-75,l,65),l+=1;break;case a.ClearBomb:this.spawnSp("bomb",h,11,-75,l,65),l+=1;break;case a.Chest:this.spawnSp("chest1",h,11,-75,l,65),l+=1}}}var d=this.midbk.scale;this.midbk.scale=1;var f=cc.scaleTo(.06,1.15*d,1.15*d).easing(cc.easeBounceInOut()),m=cc.scaleTo(.06,1*d,1*d).easing(cc.easeBounceInOut()),v=cc.scaleTo(.06,1.1*d,1.1*d).easing(cc.easeBounceInOut()),g=cc.scaleTo(.06,1*d,1*d).easing(cc.easeBounceInOut()),C=cc.sequence(f,m,v,g,null);this.midbk.runAction(C)},spawncell:function(e,t,i,o,s,a){var c=cc.instantiate(this.gole_cell);c.active=!0,c.parent=this.midbk,c.position=cc.v2(i,o-s*a);var l=n.getCellName(e),r=c.getChildByName("target"),u="spine/fruite/"+l;cc.loader.loadRes(u,sp.SkeletonData,function(e,t){e&&cc.error(e),r.getComponent("sp.Skeleton").skeletonData=t}),c.getChildByName("num").getComponent("cc.Label").string=t+""},spawnDropBox:function(e,t,i,o,n){var s=cc.instantiate(this.gole_dropbox);s.active=!0,s.parent=this.midbk,s.position=cc.v2(t,i-o*n);var a=s.getChildByName("target");cc.loader.loadRes("spine/baby/lockbaby",sp.SkeletonData,function(e,t){e&&cc.error(e),a.getComponent("sp.Skeleton").skeletonData=t}),s.getChildByName("num").getComponent("cc.Label").string=e+""},spawnSp:function(e,t,i,o,n,s){var a=cc.instantiate(this.gole_sp);a.active=!0,a.parent=this.midbk,a.position=cc.v2(i,o-n*s);var c=a.getChildByName("target").getComponent("cc.Sprite");cc.loader.loadRes("texture/UI",cc.SpriteAtlas,function(t,i){var o=i.getSpriteFrame(e);c.spriteFrame=o}),a.getChildByName("num").getComponent("cc.Label").string=t+""},onBtnCloseClicked:function(e){this.node.removeFromParent()},onBtnStartClicked:function(e){var t=this,i=n.levelID;o.instance.loadLevelData(i,function(e){n.levelData=e,t.loadStoryRes(i,e)})},loadStoryRes:function(e,t){var i=t.StageID,o=this.getStagePath(i),s=this;cc.loader.loadRes(o,cc.SpriteAtlas,function(i,o){n.StageSpriteAtlas=o,s.loadLevelEditor(e,t)})},loadLevelEditor:function(e,t){var i=function(){this.enterStory(t)}.bind(this);s.instance.loadLevels(e,i)},enterStory:function(e){e.StageID;n.mainSceneAudioID=-1,n.passLevelStars=-1,n.FreeSpinVal=0;cc.director.getScene()._children[0];cc.director.loadScene("scene/Farm")},getStagePath:function(e){var t="";switch(e){case c.Farm1:case c.Farm2:case c.Farm3:t="texture/farm";break;case c.Forest1:case c.Forest2:case c.Forest3:t="texture/forest";break;case c.Snow1:case c.Snow2:case c.Snow3:t="texture/snow";break;case c.Volcano1:case c.Volcano2:case c.Volcano3:t="texture/volcano"}return t}}),cc._RF.pop()},{EnumDefine:"EnumDefine",JsonData:"JsonData",LoadlevelEditor:"LoadlevelEditor",Utils:"Utils"}],LoadingBarCtrl:[function(e,t,i){"use strict";cc._RF.push(t,"102a9wU40RJd4SnQqQQzQT9","LoadingBarCtrl");var o=e("i18n");cc.Class({extends:cc.Component,properties:{progressBar:{default:null,type:cc.ProgressBar},progressTips:{default:null,type:cc.Label}},onLoad:function(){this._urls=[],this.resource=null,this.progressBar.progress=0,this._clearAll(),this.progressTips.textKey=o.t("cases/05_scripting/10_loadingBar/LoadingBarCtrl.js.3"),this.node.on(cc.Node.EventType.TOUCH_START,function(){this.resource||cc.loader.load(this._urls,this._progressCallback.bind(this),this._completeCallback.bind(this))},this),cc.profiler.hideStats()},_clearAll:function(){for(var e=0;e<this._urls.length;++e){var t=this._urls[e];cc.loader.release(t)}},_progressCallback:function(e,t,i){this.progress=e/t,this.resource=i,this.completedCount=e,this.totalCount=t},_completeCallback:function(e,t){},update:function(e){if(this.resource){var t=this.progressBar.progress;if(t>=1)return this.progressTips.textKey=o.t("cases/05_scripting/10_loadingBar/LoadingBarCtrl.js.1"),this.progressBar.node.active=!1,this.enabled=!1,void this.loadStages();t<this.progress&&(t+=e),this.progressBar.progress=t,this.progressTips.textKey=o.t("cases/05_scripting/10_loadingBar/LoadingBarCtrl.js.2")+this.resource.id+" ("+this.completedCount+"/"+this.totalCount+")"}},loadStages:function(){cc.loader.loadRes(e,cc.SpriteAtlas,function(e,t){});var e="texture/";cc.loader.loadResDir(folderName,cc.SpriteFrame,function(e,t){cc.log("assets",t)})}}),cc._RF.pop()},{i18n:"i18n"}],LoadingBar:[function(e,t,i){"use strict";cc._RF.push(t,"21ddbSSQDlA76zWhYasyATC","LoadingBar");var o=e("i18n"),n=e("Utils");cc.Class({extends:cc.Component,properties:{progressBar:{default:null,type:cc.ProgressBar},progressTips:{default:null,type:cc.Label}},onLoad:function(){this._loadindex=0,this._urls=[cc.url.raw("resources/texture/UI"),cc.url.raw("resources/texture/Effect"),cc.url.raw("resources/texture/farm"),cc.url.raw("resources/texture/forest"),cc.url.raw("resources/texture/snow"),cc.url.raw("resources/texture/volcano"),cc.url.raw("resources/prefab/Rocket.prefab"),cc.url.raw("resources/bkSounds/MainScene"),cc.url.raw("resources/bkSounds/crazy"),cc.url.raw("resources/bkSounds/boss fight"),cc.url.raw("resources/bkSounds/jazz fight")],this.resource=null,this.progressBar.progress=0,this._clearAll(),this.progressTips.textKey=o.t("cases/05_scripting/10_loadingBar/LoadingBarCtrl.js.3"),this.node.on(cc.Node.EventType.TOUCH_START,function(){},this),this.resource||(cc.loader.load(this._urls,this._progressCallback.bind(this),this._completeCallback.bind(this)),cc.view.enableAntiAlias(!1),cc.debug.setDisplayStats(!1))},_clearAll:function(){for(var e=0;e<this._urls.length;++e){var t=this._urls[e];cc.loader.release(t)}},_progressCallback:function(e,t,i){switch(this.progress=e/t,this.resource=i,this.completedCount=e,this.totalCount=t,e){case 1:n.UISpriteAtals=i;break;case 2:break;case 3:n.FarmStageSpriteAtlas=i;break;case 4:n.ForestStageSpriteAtlas=i;break;case 5:n.SnowStageSpriteAtlas=i;break;case 6:n.VolcanoStageSpriteAtlas=i}},_completeCallback:function(e,t){},update:function(e){if(this.resource){var t=this.progressBar.progress;if(t>=1)return this.progressTips.textKey=o.t("cases/05_scripting/10_loadingBar/LoadingBarCtrl.js.1"),this.progressBar.node.active=!1,this.enabled=!1,this.node.runAction(cc.fadeOut(1)),void this.loadXX();t<this.progress&&(t+=e),this.progressBar.progress=t,this.progressTips.textKey=o.t("cases/05_scripting/10_loadingBar/LoadingBarCtrl.js.2")+this.resource.id+" ("+this.completedCount+"/"+this.totalCount+")"}},loadXX:function(){cc.loader.loadRes("texture/UI",cc.SpriteAtlas,function(e,t){n.UISpriteAtlas=t,cc.director.loadScene("Main")})}}),cc._RF.pop()},{Utils:"Utils",i18n:"i18n"}],LoadlevelEditor:[function(e,t,i){"use strict";cc._RF.push(t,"da6b88QxLJMCq04eE1djSxH","LoadlevelEditor");e("Utils").NUMROWS,e("Utils").NUMCOLUMNS,e("EnumDefine").CellType,e("JsonData"),e("PoolMng");var o=e("Utils"),n=cc.Class({extends:cc.Component,properties:{},onLoad:function(){n.instance=this},start:function(){},statics:{instance:null},loadLevels:function(e,t){var i;if(""!==(i=this.getlevelPath(e))){var n=function(e){var i=e.getComponent("levelEditor");if(i){var n=i.readBoardCells(),s=i.readGoles();o.LevelEditorBoardData=n,o.LevelEditorLevelGoles=s,t()}}.bind(this),s=this;cc.loader.loadRes(i,function(e,i){e&&cc.error(e);var o=cc.instantiate(i);o.addComponent("levelEditor"),o.parent=s.node,o.active=!1,o?n(o):t()})}else t()},getlevelPath:function(e){return"levels/"+["level1","level2","level3","level4","level5","level6","level7","level8","level9","level10","level11","level12","level13","level14","level15","level16","level17","level18","level19","level20","level21","level22","level23","level24","level25","level26","level27","level28","level29","level30","level31","level32","level33","level34","level35","level36","level37","level38","level39","level40","level41","level42","level43","level44","level45","level46","level47","level48","level49","level50"][e-1]}});cc._RF.pop()},{EnumDefine:"EnumDefine",JsonData:"JsonData",PoolMng:"PoolMng",Utils:"Utils"}],LocalStorage:[function(e,t,i){"use strict";cc._RF.push(t,"d5db7dxwa1DcoULa01a/lbE","LocalStorage");var o=e("JsonData"),n=e("EnumDefine").ActorType,s=cc.Class({extends:cc.Component,properties:{},statics:{instance:null},ctor:function(){},onLoad:function(){s.instance=this},start:function(){},setRoleData:function(e){var t="roledata124"+e.roletype;cc.sys.localStorage.setItem(t,JSON.stringify(e))},getRoleData:function(e){var t="roledata124"+e,i=JSON.parse(cc.sys.localStorage.getItem(t));if(!i&&e===n.Actor1){var s={};return s.roletype=e,s.level=1,s.attack=-1,o.instance.loadRoleUpgradeData(s.roletype+1,s.level,function(e){s.attack=e.attack}),s}return i},setPetData:function(e){var t="petdata124"+e.ID;cc.sys.localStorage.setItem(t,JSON.stringify(e))},getPetData:function(e){var t="petdata124"+e;return JSON.parse(cc.sys.localStorage.getItem(t))},setBattlePetData:function(e){var t=JSON.stringify(e);cc.sys.localStorage.setItem("battlePet124",t)},getBattlePetData:function(){var e=cc.sys.localStorage.getItem("battlePet124");return JSON.parse(e)},setStoryLevelData:function(e){var t="levelKey124:"+e.levelID,i=JSON.stringify(e);cc.sys.localStorage.setItem(t,i)},getStoryLevelData:function(e){var t="levelKey124:"+e,i=cc.sys.localStorage.getItem(t),o=JSON.parse(i);return 1===e?{levelID:1,lock:!1}:o},setUIBase:function(e){var t=JSON.stringify(e);cc.sys.localStorage.setItem("UIBaseKey124",t)},getUIBase:function(){var e=cc.sys.localStorage.getItem("UIBaseKey124"),t=JSON.parse(e);return t||((t={}).coin=2e3,t.diamond=1e3),t},getLevelStepAward:function(e){var t="LevelStepsAward124"+e,i=cc.sys.localStorage.getItem(t);return i&&void 0!==i||(i=!1),i},setLevelStepAward:function(e,t){var i="LevelStepsAward124"+e;cc.sys.localStorage.setItem(i,t)},getBattleGuideRolePetCell:function(){var e=cc.sys.localStorage.getItem("BattleGuideRolePetCell124");return e&&void 0!==e||(e=!1),e},setBattleGuideRolePetCell:function(e){cc.sys.localStorage.setItem("BattleGuideRolePetCell124",e)},getLevelStars:function(e){var t="LevelStars124"+e,i=cc.sys.localStorage.getItem(t);return i&&void 0!==i||(i=0),i=parseInt(i)},setLevelStars:function(e,t){var i="LevelStars124"+e;cc.sys.localStorage.setItem(i,t)},getStarReWard:function(e){var t="StarReWard124"+e,i=cc.sys.localStorage.getItem(t);return i&&void 0!==i||(i=0),i=parseInt(i)},setStarReWard:function(e,t){var i="StarReWard124"+e;cc.sys.localStorage.setItem(i,t)},getDayReWard:function(){var e=cc.sys.localStorage.getItem("DayReWard124");return e&&void 0!==e||(e=1),e=parseInt(e)},setDayReWard:function(e){cc.sys.localStorage.setItem("DayReWard124",e)},getDayReWardDateTime:function(){var e=cc.sys.localStorage.getItem("DayReWardDateTime124"),t=JSON.parse(e);return t&&void 0!==t?t:((t={}).month=-1,t.day=-1,t)},setDayReWardDateTime:function(e){var t=JSON.stringify(e);cc.sys.localStorage.setItem("DayReWardDateTime124",t)},getSetData:function(){var e=cc.sys.localStorage.getItem("SetKey124"),t=JSON.parse(e);return t&&void 0!==t?t:((t={}).musicOnOff=!0,t.soundOnOff=!0,t)},setSetData:function(e){var t=JSON.stringify(e);cc.sys.localStorage.setItem("SetKey124",t)},getFreeSpinVal:function(){var e=cc.sys.localStorage.getItem("FreeSpinKey124");return e&&void 0!==e||(e=3),e=parseInt(e)},setFreeSpinVal:function(e){cc.sys.localStorage.setItem("FreeSpinKey124",e)},getLevelPassed:function(e){var t="LevelPassed124"+e,i=cc.sys.localStorage.getItem(t);return i&&void 0!==i||(i=0),i=parseInt(i)},setLevelPassed:function(e,t){var i="LevelPassed124"+e;cc.sys.localStorage.setItem(i,t)}});cc._RF.pop()},{EnumDefine:"EnumDefine",JsonData:"JsonData"}],MainUI:[function(e,t,i){"use strict";cc._RF.push(t,"4c758/jNTpLr69GwewnE8wt","MainUI");e("JsonData");var o=e("Utils"),n=e("EnumDefine"),s=n.LevelResult,a=n.EnterKind;cc.Class({extends:cc.Component,properties:{buttonSet:cc.Button,buttonStart:cc.Button,buttonHelp:cc.Button,buttonRole:cc.Button,buttonPet:cc.Button,mainfront:cc.Node,logo:cc.Node,cloud1:cc.Node,cloud2:cc.Node,cloud3:cc.Node,UIBase:cc.Node},onLoad:function(){this.moveMainFront(),this.cloud1.active=!1,this.cloud2.active=!1,this.cloud3.active=!1,this.uibase=this.UIBase.getComponent("UIBase")},moveMainFront:function(){var e=this,t=cc.moveTo(.5,cc.v2(0,-252)).easing(cc.easeOut(3)),i=cc.callFunc(function(){e.moveClouds(),e.moveLogo()},this);this.mainfront.runAction(cc.sequence(t,i))},moveLogo:function(){var e=cc.moveTo(.2,cc.v2(0,350)).easing(cc.easeBounceInOut());this.logo.runAction(cc.sequence(e,null))},moveClouds:function(){this.cloud1.active=!0,this.cloud2.active=!0,this.cloud3.active=!0;var e=this.cloud1.scale;this.cloud1.scale=0;var t=cc.scaleTo(.5,e).easing(cc.easeOut(3));this.cloud1.runAction(t),e=this.cloud2.scale,this.cloud2.scale=0,t=cc.scaleTo(.5,e).easing(cc.easeOut(3)),this.cloud2.runAction(t),e=this.cloud3.scale,this.cloud3.scale=0,t=cc.scaleTo(.5,e).easing(cc.easeOut(3)),this.cloud3.runAction(t)},start:function(){},onBtnSpinClicked:function(){cc.director.loadScene("Spin",function(){var e=cc.director.getScene()._children[0].getComponent("CanvasInit");e&&e.setEnterCode(a.Main)}.bind(this))},onBtnSetClicked:function(){var e=function(){this.buttonSet.interactable=!0}.bind(this);this.buttonSet.interactable=!1;var t=cc.director.getScene()._children[0];if(null===t.getChildByName("set")){var i=this.buttonSet.node,o=i.parent.convertToWorldSpaceAR(i.position);(o=t.convertToNodeSpaceAR(o)).y+=50,cc.loader.loadRes("prefab/set",function(i,n){var s=cc.instantiate(n);s.parent=t,s.position=o,s.active=!0,s.name="set",s.getComponent("Set").show(e)})}else t.getChildByName("set").getComponent("Set").hide(e)},onBtnStartClicked:function(){o.levelID=-1;var e={};e.levelResult=s.UnKnown,e.levelID=-1,o.levelResultData=e,cc.director.loadScene("Map")},onBtnHelpClicked:function(){},onBtnRoleClicked:function(){cc.director.loadScene("ActorUI")},onBtnPetClicked:function(){cc.director.loadScene("PetUI")},onBtnAddCountClicked:function(){},onBtnAddProcessClicked:function(){},onSignInBtnClicked:function(){var e=cc.director.getScene()._children[0],t=this;cc.loader.loadRes("prefab/SignIn",function(i,o){var n=cc.instantiate(o);n&&(n.parent=e,n.getComponent("DayReWard").uibase=t.uibase)})}}),cc._RF.pop()},{EnumDefine:"EnumDefine",JsonData:"JsonData",Utils:"Utils"}],MapUI:[function(e,t,i){"use strict";cc._RF.push(t,"ca612+QyO5GqolxSYGIrV8E","MapUI");var o=e("EnumDefine").EnterKind,n=e("Utils"),s=n.ProduceType,a=e("LocalStorage");cc.Class({extends:cc.Component,properties:{chestBox:cc.Node,star:cc.Node,starlabel:cc.Label,chestTip:cc.Node,chestBtn:cc.Button,UIBase:cc.Node,audioStar:{type:cc.AudioSource,default:null}},onLoad:function(){this.maxlevel=80,this.stageStarCnt=0,this.chestTip.active=!1;for(var e=0,t=1;t<=this.maxlevel;t++){var i=a.instance.getLevelStars(t);e+=parseInt(i)}this.starcnt=e,this.starlabel.string=e+"",this.checkOpenChestTip(),this.uibase=this.UIBase.getComponent("UIBase"),this.chestBtn.interactable=!1},start:function(){},checkOpenChestTip:function(){var e=function(e){this.stageStarCnt=e,this.openChestTip()}.bind(this);this.loadScoreReWardData(this.starcnt,e)},addStar:function(e){this.starcnt+=e,this.starlabel.string=this.starcnt+""},openChestTip:function(){this.chestTip.active=!0,this.chestTip.getComponent(cc.Animation).play("arrow"),this.chestBtn.interactable=!0},onOpenChestBox:function(){a.instance.setStarReWard(this.stageStarCnt,1);var e=this;cc.loader.loadRes("prefab/ChestReWard",function(t,i){t&&cc.error(t);var o=cc.instantiate(i);o.parent=e.node.parent,o.position=cc.v2();var n=o.getComponent("ChestReWard"),s=function(){o.removeFromParent(),e.checkOpenChestTip()}.bind(e);e.chestBtn.interactable=!1,e.chestTip.active=!1,n.showChest(e.starcnt,e.uibase,s)})},onBtnBackClicked:function(){cc.director.loadScene("Main")},onBtnRoleClicked:function(){cc.director.loadScene("ActorUI",function(){var e=cc.director.getScene()._children[0].getComponent("CanvasInit");e&&e.setEnterCode(o.Map)}.bind(this))},onBtnPetClicked:function(){cc.director.loadScene("PetUI",function(){var e=cc.director.getScene()._children[0].getComponent("CanvasInit");e&&e.setEnterCode(o.Map)}.bind(this))},collectStars:function(e,t,i){var o=this,c=t.length,l=t[n.randomRangeInt(0,c)];if(l&&void 0!==l){var r=l.parent.convertToWorldSpaceAR(l.position);r=this.node.convertToNodeSpaceAR(r);var u=this.star,h=u.parent.convertToWorldSpaceAR(u.position);(h=this.node.convertToNodeSpaceAR(h)).x-=40;var p=this.node,d=function(){this.addStar(1),this.starAudio()}.bind(this),f=n.produceRandomNodeLineMove(s.Star,i,r,h,p,d),m=cc.callFunc(function(){a.instance.setLevelStars(e,i),o.checkOpenChestTip()},this);this.node.runAction(cc.sequence(cc.delayTime(f),m))}},loadScoreReWardData:function(e,t){cc.loader.loadRes("json/StarReward",function(i,o){for(var n=o.json,s=0;s<n.length;s++){var c=n[s],l=parseInt(c.star);if(e>=l)if(0===a.instance.getStarReWard(l)){t&&t(l);break}}})},starAudio:function(){this.audioStar&&this.audioStar.play()}}),cc._RF.pop()},{EnumDefine:"EnumDefine",LocalStorage:"LocalStorage",Utils:"Utils"}],Map:[function(e,t,i){"use strict";cc._RF.push(t,"1f214uhg7lNjaG6EkD00byW","Map"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.node.opacity=0;var e=this;cc.loader.loadRes("prefab/MapNode",function(t,i){var o=cc.instantiate(i);o&&(o.parent=e.node,e.node.runAction(cc.fadeIn(1)))})},start:function(){}}),cc._RF.pop()},{}],MonsterMove:[function(e,t,i){"use strict";cc._RF.push(t,"e4be7UIDSdHwaG5aFo099X0","MonsterMove"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this._movedt=0,this._moveDelay=.1,this._moveUnitVal=5,this.canMove=!1},start:function(){},setMove:function(e){this.canMove=e},move:function(e){(this._movedt+=e,this._movedt>=this._moveDelay)&&(this._movedt=0,this.node.position.x+=this._moveUnitVal)},update:function(e){this.canMove&&this.move(e)}}),cc._RF.pop()},{}],MonsterSkill:[function(e,t,i){"use strict";cc._RF.push(t,"88500GUwdNMWqxYDjSQDZ1E","MonsterSkill");var o=e("EnumDefine").CellType,n=e("EnumDefine").MonsterSkillType,s=e("RPGManager"),a=(e("Utils"),e("CameraManager"),e("PoolMng"),e("PlayFightAudio"),e("ProcessBoardCell"));cc.Class({extends:cc.Component,properties:{},onLoad:function(){this._skillData=null,this.skillDt=0,this.skillDelay=0,this.skillDamage=0,this._fullhp=0,this._damage=0,this._monsterSkillType=n.UnKnown,this._triggerSkill=!1,this._triggerSkillVal=-1},start:function(){},init:function(e,t){this._fullhp=t,this._monsterSkillType=e;var i=function(e){this._skillData=e;var t=this._triggerSkillVal=this._skillData.ActiveConditionType;3===t?this.skillDelay=this._skillData.ConditionPara:2===t&&(this.skillDamage=this._skillData.ConditionPara)}.bind(this);this.loadMonsterSkillData(e,i)},loadMonsterSkillData:function(e,t){cc.loader.loadRes("json/MonsterSkill",function(i,o){for(var n=o.json,s=0;s<n.length;s++){var a=n[s];a.SkillId===e&&t&&t(a)}})},listernHurt:function(e){2===this._triggerSkillVal&&(this._damage+=e,100*(1*this._damage/this._fullhp)>=100-this.skillDamage&&(this._triggerSkill=!0))},IsHaveSkill:function(){return this._triggerSkill},checkSkill:function(e){if(this._triggerSkill)return this._damage=0,this._triggerSkill=!1,void this.triggerSkill(e);e&&calblack()},triggerSkill:function(e){var t=this,i=a.instance.randomGetNormalCells(3);if(0!==i.length){var o=this.node.scale,n=cc.scaleTo(.1,o+1).easing(cc.easeOut(3)),s=cc.scaleTo(.1,o).easing(cc.easeOut(3)),c=[];c.push(n),c.push(s);for(var l=function(o){var n=i[o],s=cc.callFunc(function(){o===i.length-1?t.spawnSalive(n,e):t.spawnSalive(n,null)},t);c.push(s),c.push(cc.delayTime(.1))},r=0;r<i.length;r++)l(r);this.node.runAction(cc.sequence(c))}else e&&e()},spawnSalive:function(e,t){var i=this;cc.loader.loadRes("prefab/cell/Salive",function(o,n){o&&cc.error(o);var a=cc.instantiate(n),c=s.instance.boardNode;a.parent=c,a.scale=1.3,a.anchorX=0,a.anchorY=0;var l=s.instance.getWorldPos(i.node);l=a.parent.convertToNodeSpaceAR(l),a.x=l.x,a.y=l.y,a.group="UI",i.shootWeapon(e,a,t)})},shootWeapon:function(e,t,i){var n=e.position,a=Math.abs(e.width-t.width),c=Math.abs(e.height-t.height);n.x+=a,n.y+=c;var l=cc.v2(),r=t.position;n.sub(r,l);var u=cc.moveTo(.25,n).easing(cc.easeIn(3)),h=cc.callFunc(function(){s.instance.boardNode.getComponent("Board").spawnMonsterCell(e,o.Salive),i&&i()},this),p=cc.scaleTo(.1,0).easing(cc.easeOut(5)),d=cc.sequence(u,h,p,cc.removeSelf());t.runAction(d);var f=cc.skewTo(.1,0,2);t.runAction(f)}}),cc._RF.pop()},{CameraManager:"CameraManager",EnumDefine:"EnumDefine",PlayFightAudio:"PlayFightAudio",PoolMng:"PoolMng",ProcessBoardCell:"ProcessBoardCell",RPGManager:"RPGManager",Utils:"Utils"}],Monster:[function(e,t,i){"use strict";cc._RF.push(t,"750f8Ra7ZVFDJA7HBeSJzA0","Monster");var o=e("RPGManager"),n=e("Utils"),s=e("CameraManager"),a=e("PoolMng"),c=e("PlayFightAudio"),l=n.ProduceType,r=e("EnumDefine").CellType,u=e("EnumDefine").MonsterSkillType,h=e("EnumDefine").HurtFont,p=cc.v2();cc.Class({extends:cc.Component,properties:{skeleton:cc.Node,bloodBar:{type:cc.ProgressBar,default:null}},ctor:function(){this.monsterData={},this.hpLabel=null,this.fullhpLabel=null},onLoad:function(){this.bloodBar&&(this.bloodBar.progress=1),this.hp=100,this.fullhp=100,this.skeleton&&(this.Skeleton=this.skeleton.getComponent("sp.Skeleton"))},showBlood:function(e){this.bloodHp.active=e},init:function(e){this.monsterSkill=this.node.getComponent("MonsterSkill"),this.monsterData=e,this.hp=this.fullhp=parseInt(e.JsonData.Life);var t=this.node.getComponent("MonsterSkill"),i=u.UnKnown;e.saliveSkill&&(i=u.Salive),t.init(i,this.fullhp);var o=this.node.getChildByName("ProgressBar");if(o){o.scale=.95,o.y+=20;var n=this;cc.loader.loadRes("prefab/bloodHp",function(e,t){var i=cc.instantiate(t);if(i){n.bloodHp=i,i.parent=o,i.scale=1.4;var s=i.getChildByName("hp"),a=i.getChildByName("fullhp");s&&(n.damageLabel=s.getComponent("cc.Label"),n.hpLabel=a.getComponent("cc.Label"),n.damageLabel.string="0",n.hpLabel.string=n.hp,n.showBlood(!1))}})}this.spawnCell(e.addtionCellType),this.spawnDefence(e.defenceCellType)},getAttackAddtionCellType:function(){return this.monsterData.addtionCellType},getDefenceCellType:function(){return this.monsterData.defenceCellType},spawnDefence:function(e){var t="";switch(e){case r.Cell1:t="spine/fruite/tomatoes";break;case r.Cell2:t="spine/fruite/eggplant";break;case r.Cell3:t="spine/fruite/orange";break;case r.Cell4:t="spine/fruite/apple";break;case r.Cell5:t="spine/fruite/radish"}if(""!==t){var i=this;cc.loader.loadRes("prefab/cell/monsterDefence",function(e,o){var n=cc.instantiate(o);n&&(n.parent=i.node,n.scale=.7,n.position=cc.v2(-n.width/2*n.scale/2,i.bloodBar.node.y-10-n.height*n.scale),cc.loader.loadRes(t,sp.SkeletonData,function(e,t){e&&cc.error(e);var i=n.getChildByName("skeleton");i&&(i.getComponent("sp.Skeleton").skeletonData=t)}))})}},spawnCell:function(e){var t="";switch(e){case r.Cell1:t="prefab/cell/cell1";break;case r.Cell2:t="prefab/cell/cell2";break;case r.Cell3:t="prefab/cell/cell3";break;case r.Cell4:t="prefab/cell/cell4";break;case r.Cell5:t="prefab/cell/cell5"}if(""!==t){var i=this;cc.loader.loadRes(t,function(e,t){var o=cc.instantiate(t);o&&(o.removeComponent("Cell"),o.parent=i.node,o.scale=.7,o.position=cc.v2(-o.width*o.scale/2,i.bloodBar.node.y-10-o.height*o.scale))})}},hideHp:function(){this.bloodBar.node.active=!1},getWorldPos:function(){var e=this.node.parent.convertToWorldSpaceAR(this.node.getPosition());return s.instance.battleCameraNode.getComponent("cc.Camera").getWorldToCameraPoint(e,p),p},start:function(){},drawlineHurt:function(e){e=e>=this.hp?this.hp:e,this.showBlood(!0),this.damageLabel&&(this.damageLabel.string=e+""),this.bloodHpScale()},drawlineHurtOver:function(){this.showBlood(!1)},bloodHpScale:function(){if(this.bloodHp){this.bloodHp.stopAllActions(),this.bloodHp.scale=1.4;var e=this.bloodHp.scale,t=cc.scaleTo(.25,1.2*e,1.2*e).easing(cc.easeOut(3)),i=cc.scaleTo(.25,1*e,1*e).easing(cc.easeOut(3)),o=cc.sequence(t,i);this.bloodHp.runAction(o)}},hurt:function(e,t,i){if(void 0===i&&(i=h.Red),this.hp<=0)t&&t(!0);else{c.instance.playMonsterhit(),e=parseInt(e),this.hp=this.hp-e,this.updateBloodBar(),this.monsterSkill.listernHurt(e);var o=this.node.position;this.spawnbloodlabel(i,o,this.node.parent,e);var n=function(){return this.hp<=0?(this.die(),void(t&&t(!0))):(this.idle(),void(t&&t(!1)))}.bind(this);this.hurted(n)}},idle:function(){this.Skeleton.setAnimation(0,"idle",!0),this.Skeleton.timeScale=1},hurted:function(e){this.Skeleton.setAnimation(0,"hurt",!1),this.Skeleton.timeScale=3,this.Skeleton.setCompleteListener(function(t,i){"hurt"===(t.animation?t.animation.name:"")&&e&&e()})},die:function(){c.instance.playMonsterDie(),this.Skeleton.setAnimation(0,"dead",!1);var e=this.node.position,t=this.node.parent;cc.loader.loadRes("prefab/particle/monsterDieDust",function(i,o){var n=cc.instantiate(o);if(n){n.parent=t,n.position=e;var s=n.getComponent("cc.ParticleSystem");s&&s.resetSystem()}}),this.reWardCoin(),this.createWord(),this.updateScore(),o.instance.removeMonster(this.node),this.node.removeFromParent(!1)},updateScore:function(){var e=this.monsterData.JsonData.DeathIntegral;o.instance.Game.updateScore(e)},reWardCoin:function(){for(var e=this.monsterData.JsonData.DeathCoin,t=o.instance.Game,i=o.instance.actorlist,s=parseInt(e/i.length),a=o.instance.rpgNode,c=this.node.parent.convertToWorldSpace(this.node.position),r=c=a.convertToNodeSpace(c),u=function(e){var o=parseInt(s/3),c=i[e],u=c.parent.convertToWorldSpace(c.position);(u=a.convertToNodeSpace(u)).y+=c.height/2;n.produceRandomNodeMove(l.ButtonCoin,3,r,u,a,function(){t.updateCoin(o)})},h=0;h<i.length;h++)u(h)},createWord:function(){var e=["ouch","argh","kaboom","wah","grrr"],t="sprite/"+e[n.randomRangeInt(0,e.length)],i=this.node.position,o=this.node.parent,s=this.node.height;cc.loader.loadRes(t,cc.SpriteFrame,function(e,t){var n=new cc.Node("");n.zIndex=10,n.addComponent(cc.Sprite).spriteFrame=t,o.addChild(n),n.position=i,n.y+=.8*s,n.scale=0;var a=cc.scaleTo(.5,.8).easing(cc.easeOut(3)),c=cc.skewTo(.5,1.2,1.2),l=cc.moveBy(.5,cc.v2(0,120)).easing(cc.easeOut(4)),r=cc.fadeOut(.5),u=cc.sequence(a,cc.spawn(l,c),r,cc.removeSelf());n.runAction(u)})},updateBloodBar:function(){var e=1*this.hp/this.fullhp;this.bloodBar.progress=e,this.hpLabel.string=this.hp+""},spawnbloodlabel:function(e,t,i,o){var s=null;switch(e){case h.Red:s=a.instance.getRedLabel();break;case h.Purble:s=a.instance.getPurbleLabel();break;case h.Orange:s=a.instance.getOrangeLabel();break;default:s=a.instance.getScoreLabel()}s.parent=i,s.zIndex=10,s.position=t,s.getComponent(cc.Label).string=o+"";var c=null;if(0===n.randomRangeInt(0,1)){var l=[cc.v2(n.randomRange(20,40),n.randomRange(20,40)),cc.v2(n.randomRange(40,60),n.randomRange(40,60)),cc.v2(n.randomRange(60,80),0)];c=cc.bezierBy(.5,l)}else{var r=[cc.v2(-n.randomRange(20,40),n.randomRange(20,40)),cc.v2(-n.randomRange(40,60),n.randomRange(40,60)),cc.v2(-n.randomRange(60,80),0)];c=cc.bezierBy(.5,r)}var u=cc.callFunc(function(){switch(e){case h.Red:s=a.instance.putRedLabel();break;case h.Purble:s=a.instance.putPurbleLabel();break;case h.Orange:s=a.instance.putOrangeLabel();break;default:s=a.instance.putScoreLabel()}},this);s.scale=0,s.opacity=255;var p=cc.scaleTo(.1,1).easing(cc.easeOut(5)),d=c.easing(cc.easeOut(5)),f=cc.sequence(p,d,cc.fadeOut(.2),u);s.runAction(f)}}),cc._RF.pop()},{CameraManager:"CameraManager",EnumDefine:"EnumDefine",PlayFightAudio:"PlayFightAudio",PoolMng:"PoolMng",RPGManager:"RPGManager",Utils:"Utils"}],MoveCameraShot:[function(e,t,i){"use strict";cc._RF.push(t,"7c949D61EtHzY0OxRo4i85F","MoveCameraShot");e("RPGManager");var o=e("Utils"),n=e("EnumDefine").FightKind;cc.v2(),cc.v2();cc.Class({extends:cc.Component,properties:{canMove:!1,moveUnitVal:5},onLoad:function(){switch(this.camera=this.getComponent(cc.Camera),this.initZoomRatio=this.camera.zoomRatio,this.ratioZoomIn=this.camera.zoomRatio,this.ratioZoomOut=this.ratioZoomIn-.1,o.levelData.StageType){case n.NormalFight:this.moveUnitVal=5;break;case n.BossFight:this.moveUnitVal=2}},ctor:function(){this._zoomIn=!1,this._zoomOut=!1,this._zoomCallback=null,this._zoomStep=.2,this._move=!1},start:function(){},update:function(e){this.zoomUpdate(e),this._move&&(this.node.x+=this.moveUnitVal)},setMove:function(e){this._move=e},setMoveSpeed:function(e){this.moveUnitVal=e},zoomUpdate:function(e){if(this._zoomIn&&this.camera){if(Math.abs(this.camera.zoomRatio-this.ratioZoomIn)<=1e-5)return this.camera.zoomRatio=this.ratioZoomIn,this._zoomIn=!1,void(this._zoomCallback&&(this._zoomCallback(),this._zoomCallback=null));this.camera.zoomRatio=cc.misc.lerp(this.camera.zoomRatio,this.ratioZoomIn,this._zoomStep)}if(this._zoomOut&&this.camera){if(Math.abs(this.camera.zoomRatio-this.ratioZoomOut)<=1e-5)return this.camera.zoomRatio=this.ratioZoomOut,this._zoomOut=!1,void(this._zoomCallback&&(this._zoomCallback(),this._zoomCallback=null));this.camera.zoomRatio=cc.misc.lerp(this.camera.zoomRatio,this.ratioZoomOut,this._zoomStep)}},resetZoom:function(){this._zoomIn=!1,this._zoomOut=!1},zoomIn:function(e){if(this.camera){if(this.resetZoom(),Math.abs(this.camera.zoomRatio-this.ratioZoomIn)<=1e-5)return this.camera.zoomRatio=this.ratioZoomOut,void(e&&e());this._zoomCallback=e,this._zoomIn=!0}else e&&e()},zoomOut:function(e){if(this.camera){if(this.resetZoom(),Math.abs(this.camera.zoomRatio-this.ratioZoomOut)<=1e-5)return this.camera.zoomRatio=this.ratioZoomOut,void(e&&e());this._zoomCallback=e,this._zoomOut=!0}else e&&e()}}),cc._RF.pop()},{EnumDefine:"EnumDefine",RPGManager:"RPGManager",Utils:"Utils"}],OpenBox:[function(e,t,i){"use strict";cc._RF.push(t,"2cfc0jNfnlK+o6pnAlILIQQ","OpenBox");var o=e("PoolMng"),n=e("Utils"),s=e("PlayFightAudio"),a=e("EnumDefine").CellType;cc.Class({extends:cc.Component,properties:{description:{default:null,type:cc.Label},midbk:cc.Node,key:cc.Node,chest:cc.Node,cells:{default:[],type:cc.Node}},onLoad:function(){var e=this;this.node.zIndex=10,this.keyPosX=this.key.x,this.keyPosY=this.key.y,this.keyscale=this.key.scale,this.guideDone=!1;var t=cc.callFunc(function(){e.reset(),e.showGuide()},this),i=cc.sequence(cc.delayTime(.5),t);this.node.runAction(i);var o=cc.callFunc(function(){e.guideDone=!0},this);this.node.runAction(cc.sequence(cc.delayTime(1),o)),this.registerTouch()},start:function(){},registerTouch:function(){var e=this;e.node.on(cc.Node.EventType.TOUCH_START,function(t){e.touchBegin(t)},e),e.node.on(cc.Node.EventType.TOUCH_END,function(t){e.touchEnd(t)},e)},touchBegin:function(e){},touchEnd:function(e){this.guideDone&&this.node.removeFromParent()},reset:function(){this.key.active=!0,this.chest.active=!0,this.key.x=this.keyPosX,this.key.y=this.keyPosY,this.key.scale=this.keyscale;for(var e=0;e<this.cells.length;e++){this.cells[e].active=!0}},showGuide:function(){var e=function(){this.removeCells()}.bind(this);this.drawline(e)},drawline:function(e){for(var t=this.cells,i=[],o=this.midbk,n=0;n<t.length;n++){var s=t[n],a=s.position;a.x+=s.width,i.push(a)}var c=i[0],l=this;cc.loader.loadRes("prefab/guideHand",function(t,n){t&&cc.error(t);var s=cc.instantiate(n);s.parent=o,s.position=c;var a=.5*i.length,r=cc.catmullRomTo(a,i).easing(cc.easeSineInOut(3)),u=cc.callFunc(function(){e()},l),h=cc.sequence(cc.show(),r,cc.delayTime(.5),u,cc.removeSelf());s.runAction(h)})},removeCells:function(){for(var e=this,t=0;t<this.cells.length;t++){var i=this.cells[t];i.active=!1;var o=i.parent,n=i.position;this.createCellBlood(o,n,a.Cell4)}var s=function(){var e=this,t=cc.callFunc(function(){e.reset(),e.showGuide(),e.guideDone=!0},this),i=cc.sequence(cc.delayTime(.5),t);this.node.runAction(i)}.bind(this),c=cc.callFunc(function(){e.openChest(e.key,e.chest,s)},this);this.node.runAction(cc.sequence(cc.delayTime(1),c))},openChest:function(e,t,i){var o=this;cc.log("open chest");var n=t.position;n.y+=t.height/2,n.y-=this.key.height/2;var a=cc.moveTo(.5,n).easing(cc.easeOut(5)),c=cc.callFunc(function(){},this),l=cc.callFunc(function(){var e=t.parent,i=t.position;o.bomb(e,i),t.active=!1},this),r=cc.callFunc(function(){},this),u=cc.callFunc(function(){t.active=!1,e.active=!1},this),h=cc.callFunc(function(){var e=t.parent,i=t.position;o.showBoby(e,i),s.instance.playOpenMagicBag()},this),p=cc.callFunc(function(){i&&i()},this),d=cc.scaleTo(.2,0).easing(cc.easeOut(5)),f=cc.sequence(a,d,c,r,l,cc.delayTime(.2),h,cc.delayTime(.2),u,p);e.runAction(f)},createCellBlood:function(e,t,i){var n=o.instance.getCellBlood(i);if(n){var s=n.getComponent("CellBlood");n.parent=e,n.setPosition(t);s.type=i,s.play(function(){o.instance.putCellBlood(n,i)})}},bomb:function(e,t){cc.loader.loadRes("prefab/boomEffect",function(i,o){var n=cc.instantiate(o);n.scale=.8,n.parent=e,n.position=t;var s=n.getComponent("PlayAnimation");s&&s.play()})},showBoby:function(e,t){var i=["baby01","baby02","baby03","baby04","baby05","baby06"],o=i.length,s="spine/baby/";s+=i[n.randomRangeInt(0,o)];var a=this;cc.loader.loadRes(s,sp.SkeletonData,function(i,o){i&&cc.error(i);var n=new cc.Node;n.setAnchorPoint(.5,0),n.parent=e,n.position=t;var s=n.addComponent("sp.Skeleton");s.skeletonData=o,s.setAnimation(0,"idle",!0);var c=new cc.Node;c.addComponent("cc.Sprite"),c.spriteFrame=a.glare,c.parent=n,c.scale=.8,c.zIndex=-1;var l=cc.repeatForever(cc.rotateBy(2,360));c.runAction(l),c.setPosition(0,n.height/2);var r=cc.moveBy(.5,cc.v2(0,100));n.runAction(cc.sequence(r,cc.removeSelf()))})}}),cc._RF.pop()},{EnumDefine:"EnumDefine",PlayFightAudio:"PlayFightAudio",PoolMng:"PoolMng",Utils:"Utils"}],PageViewCtrl:[function(e,t,i){"use strict";cc._RF.push(t,"becf9ZpBi5KG43ard9opUPT","PageViewCtrl");e("JsonData"),e("LocalStorage");var o=e("EnumDefine").ActorType;e("Utils");cc.Class({extends:cc.Component,properties:{curNum:3,curTotal:10,pageTeample:cc.Prefab,target:cc.PageView,label:cc.Label,Actor1WeaponNode:cc.Node,Actor2WeaponNode:cc.Node,Actor3WeaponNode:cc.Node,Actor4WeaponNode:cc.Node,Actor5WeaponNode:cc.Node},_createPage:function(){var e=cc.instantiate(this.pageTeample);e.position=new cc.v2(0,0);var t=new cc.Color;return t.r=Math.floor(255*Math.random()),t.g=Math.floor(255*Math.random()),t.b=Math.floor(255*Math.random()),e.color=t,e},onLoad:function(){this.target.setCurrentPageIndex(0),this.initPageContent()},update:function(){this.label.string="\u7b2c"+(this.target.getCurrentPageIndex()+1)+"\u9875"},onJumpHome:function(){this.target.scrollToPage(0)},plusPage:function(e){this.curNum>this.curTotal||(this.curNum++,e&&e())},lessPageNum:function(e){this.curNum<=0||(this.curNum--,e&&e())},onAddPage:function(){var e=this;this.plusPage(function(){e.target.addPage(e._createPage())})},onInsertPage:function(){var e=this;this.plusPage(function(){e.target.insertPage(e._createPage(),e.target.getCurrentPageIndex())})},onRemovePage:function(){var e=this;this.lessPageNum(function(){var t=e.target.getPages();e.target.removePage(t[t.length-1])})},onRemovePageAtIndex:function(){var e=this;this.lessPageNum(function(){e.target.removePageAtIndex(e.target.getCurrentPageIndex())})},onRemoveAllPage:function(){this.target.removeAllPages(),this.curNum=0},onPageEvent:function(e,t){if(t===cc.PageView.EventType.PAGE_TURNING){var i=e.getCurrentPageIndex();switch(console.log("\u5f53\u524d\u6240\u5728\u7684\u9875\u9762\u7d22\u5f15:"+i),i){case 0:this.showActor1(!1);break;case 1:this.showActor2(!1);break;case 2:this.showActor3(!1);break;case 3:this.showActor4(!1);break;case 4:this.showActor5(!1)}}},showActor1:function(e){this.Actor1WeaponNode.getChildByName("link").active=e,this.Actor2WeaponNode.getChildByName("link").active=!e,this.Actor3WeaponNode.getChildByName("link").active=!e,this.Actor4WeaponNode.getChildByName("link").active=!e,this.Actor5WeaponNode.getChildByName("link").active=!e},showActor2:function(e){this.Actor1WeaponNode.getChildByName("link").active=!e,this.Actor2WeaponNode.getChildByName("link").active=e,this.Actor3WeaponNode.getChildByName("link").active=!e,this.Actor4WeaponNode.getChildByName("link").active=!e,this.Actor5WeaponNode.getChildByName("link").active=!e},showActor3:function(e){this.Actor1WeaponNode.getChildByName("link").active=!e,this.Actor2WeaponNode.getChildByName("link").active=!e,this.Actor3WeaponNode.getChildByName("link").active=e,this.Actor4WeaponNode.getChildByName("link").active=!e,this.Actor5WeaponNode.getChildByName("link").active=!e},showActor4:function(e){this.Actor1WeaponNode.getChildByName("link").active=!e,this.Actor2WeaponNode.getChildByName("link").active=!e,this.Actor3WeaponNode.getChildByName("link").active=!e,this.Actor4WeaponNode.getChildByName("link").active=e,this.Actor5WeaponNode.getChildByName("link").active=!e},showActor5:function(e){this.Actor1WeaponNode.getChildByName("link").active=!e,this.Actor2WeaponNode.getChildByName("link").active=!e,this.Actor3WeaponNode.getChildByName("link").active=!e,this.Actor4WeaponNode.getChildByName("link").active=!e,this.Actor5WeaponNode.getChildByName("link").active=e},processlockRole:function(){},processUnlocRole:function(){},initPageContent:function(){for(var e=this.target.getPages(),t=[o.Actor1,o.Actor2,o.Actor3,o.Actor4,o.Actor5],i=0;i<e.length;i++){var n=e[i].getComponent("ActorUIPage"),s=t[i];n.init(s)}}}),cc._RF.pop()},{EnumDefine:"EnumDefine",JsonData:"JsonData",LocalStorage:"LocalStorage",Utils:"Utils"}],PauseUI:[function(e,t,i){"use strict";cc._RF.push(t,"14b29mOORpG96+c5zlMwi56","PauseUI");e("RPGManager");var o=e("Game"),n=e("BaseUI");cc.Class({extends:n,properties:{},onLoad:function(){this.node.scale=1;var e=function(){o.instance.pauseAudio()}.bind(this);this.scaleShow(this.node,e)},start:function(){},onBtnResumeClicked:function(e){var t=function(){o.instance.resumeAudio(),this.node.removeFromParent()}.bind(this);this.scaleClose(this.node,t)},onBtnBackToMapClicked:function(e){var t=function(){cc.director.loadScene("Map")}.bind(this);this.scaleClose(this.node,t)}}),cc._RF.pop()},{BaseUI:"BaseUI",Game:"Game",RPGManager:"RPGManager"}],PetExtraction:[function(e,t,i){"use strict";cc._RF.push(t,"038fb+7eZtIDrSYU55D3JcZ","PetExtraction");var o=e("JsonData"),n=e("LocalStorage"),s=(e("EnumDefine").ActorType,e("Utils")),a=e("BaseUI");cc.Class({extends:a,properties:{grass1:cc.Node,grass2:cc.Node,grass3:cc.Node,extractionBk:cc.Node,glare:cc.Node,midBk:cc.Node,audioSpin:{type:cc.AudioSource,default:null}},ctor:function(){this._callback=null,this.spinLevel=0,this.spinID=-1},onLoad:function(){this.isSpin=!0,this.registerTouch(),this.scaleShow(this.node,null)},spin:function(e,t){var i=this;this.spinLevel=e,this._callback=t,this.glare.active=!1;var o=cc.moveTo(0,cc.v2(0,0)).easing(cc.easeOut(3)),n=cc.callFunc(function(){i.grassShakes()},this);this.midBk.runAction(cc.sequence(o,n))},start:function(){},registerTouch:function(){var e=this;e.node.on(cc.Node.EventType.TOUCH_START,function(e){},e),e.node.on(cc.Node.EventType.TOUCH_END,function(t){e.touchEnd()},e)},touchEnd:function(){if(!this.isSpin){var e=function(){this._callback&&this._callback(this.spinID),this.node.removeFromParent()}.bind(this);this.scaleShow(this.node,e)}},grassShakes:function(){var e=this,t=cc.callFunc(function(){e.grassShake(e.grass1)},this),i=cc.callFunc(function(){e.grassShake(e.grass2)},this),o=cc.callFunc(function(){e.grassShake(e.grass3)},this),n=cc.callFunc(function(){var t=cc.moveBy(.2,cc.v2(.6*-e.grass1.width,0)).easing(cc.easeOut(3));e.grass1.runAction(t),t=cc.moveBy(.2,cc.v2(.6*e.grass1.width,0)).easing(cc.easeOut(3)),e.grass2.runAction(t),t=cc.moveBy(.2,cc.v2(.6*-e.grass1.width,0)).easing(cc.easeOut(3)),e.grass3.runAction(t)},this),s=cc.callFunc(function(){e.spinPet(e.spinLevel)},this),a=cc.callFunc(function(){},this),c=cc.sequence(t,cc.delayTime(.2),i,cc.delayTime(.2),o,cc.delayTime(.2),n,cc.delayTime(.2),s,cc.delayTime(.2),a);this.node.runAction(c)},grassShake:function(e){var t=cc.scaleTo(.2,1.2,1.2).easing(cc.easeBounceInOut()),i=cc.scaleTo(.2,1,1).easing(cc.easeBounceInOut()),o=cc.sequence(t,i),n=cc.jumpBy(.2,cc.v2(0,0),20,1).easing(cc.easeOut(3)),s=cc.jumpBy(.2,cc.v2(0,0),-20,1).easing(cc.easeOut(3)),a=cc.jumpBy(.2,cc.v2(0,0),16,1).easing(cc.easeOut(3)),c=cc.jumpBy(.2,cc.v2(0,0),-16,1).easing(cc.easeOut(3)),l=cc.sequence(n,s,a,c),r=cc.spawn(o,l);e.runAction(r)},spinPet:function(e){var t="A";if(0==e){var i=s.computeSpin([0,20,80]);t=0==i?"S":1==i?"A":"B"}else if(1==e){var n=s.computeSpin([40,60,0]);t=0==n?"S":1==n?"A":"B"}var a=[],c=this;o.instance.loadPetDetailDatas(function(e){for(var i in e)e[i].Star==t&&a.push(e[i]);if(a.length>0){var o=s.randomRangeInt(0,a.length),n=a[o].ID;c.petBorn(n)}})},petBorn:function(e){this.audioSpin.play(),this.writeData(e),this.spinID=e;var t="spine/pet/";t+=s.getPetFileName(e-1);var i=this,o=i.glare;cc.loader.loadRes(t,sp.SkeletonData,function(e,t){e&&cc.error(e),o.active=!0;var n=cc.repeatForever(cc.rotateBy(3,360));o.runAction(n);var a=new cc.Node,c=a.addComponent("sp.Skeleton");c.skeletonData=t,a.parent=i.midBk,a.position=o.position,a.scale=2,(c=a.getComponent("sp.Skeleton")).setAnimation(0,"idle",!0);var l=[cc.v2(-s.randomRange(20,30),s.randomRange(100,200)/8),cc.v2(-s.randomRange(20,30),s.randomRange(100,200)/8),cc.v2(0,-s.randomRange(.4*i.extractionBk.height,.6*i.extractionBk.height)/4)],r=cc.bezierBy(.2,l),u=cc.callFunc(function(){var e=cc.jumpBy(.5,cc.v2(0,0),10,1).easing(cc.easeOut(2)),t=cc.jumpBy(.5,cc.v2(0,0),-10,1).easing(cc.easeOut(2));a.runAction(cc.sequence(e,t))}),h=cc.callFunc(function(){i.isSpin=!1},i);a.runAction(cc.sequence(r,u,cc.delayTime(.4),h))})},writeData:function(e){var t=n.instance.getPetData(e);t?t.num+=1:((t={}).level=1,t.ID=e,t.num=1,t.star="A",t.attack=0),o.instance.loadPetDatas(function(i){for(var o=0;o<i.length;o++){var s=i[o];if(s.ID==e&&s.UpgradeNumber>t.num){t.level=s.Level-2;break}}for(var a=0;a<i.length;a++){var c=i[a];c.ID==t.ID&&c.Level==t.level&&(t.attack=c.Attack)}n.instance.setPetData(t)})}}),cc._RF.pop()},{BaseUI:"BaseUI",EnumDefine:"EnumDefine",JsonData:"JsonData",LocalStorage:"LocalStorage",Utils:"Utils"}],PetInfo:[function(e,t,i){"use strict";cc._RF.push(t,"2d9f5cxu4hB1Ii63yF7crUv","PetInfo");e("JsonData");var o=e("LocalStorage"),n=(e("EnumDefine").ActorType,e("Utils")),s=e("BaseUI");cc.Class({extends:s,properties:{info:cc.Node,attack:cc.Label,level:cc.Label,petname:cc.Label,pet:sp.Skeleton},onLoad:function(){this.scaleShow(this.info)},show:function(e){this.loadPet(e);var t=function(e){var t=e.chinese;this.petname.string=t,cc.log("dta.name",t)}.bind(this);this.loadAllData(e,t),this.loadPetData(e)},start:function(){},closeBtn:function(e){var t=function(){this.node.removeFromParent()}.bind(this);this.scaleClose(this.info,t)},loadPetData:function(e){var t=o.instance.getPetData(e),i=JSON.stringify(t);if(cc.log("load pet data",i),t){var n=t.level,s=t.attack;this.level.string=n+"",this.attack.string=s+""}},loadPet:function(e){var t="spine/pet/";t+=n.getPetFileName(e-1);var i=this;cc.loader.loadRes(t,sp.SkeletonData,function(e,t){e&&cc.error(e);var o=i.pet.addComponent("sp.Skeleton");o.skeletonData=t,o.setAnimation(0,"idle",!0)})},loadAllData:function(e,t){cc.loader.loadRes("json/AllData",function(i,o){for(var n=o.json,s=0;s<n.length;s++){var a=n[s];cc.log("data id",a.ID,e),parseInt(a.ID)===parseInt(e)+248&&(cc.log("bb"),t&&t(a))}})}}),cc._RF.pop()},{BaseUI:"BaseUI",EnumDefine:"EnumDefine",JsonData:"JsonData",LocalStorage:"LocalStorage",Utils:"Utils"}],PetPage:[function(e,t,i){"use strict";cc._RF.push(t,"4c31b/kHgxGrrlCOP+YA9Me","PetPage");var o=e("JsonData"),n=e("LocalStorage"),s=(e("EnumDefine").ActorType,e("Utils"));cc.Class({extends:cc.Component,properties:{pets:{type:cc.Node,default:[]},pageIndex:0,BattlePets:cc.Node},ctor:function(){this.petDatas={}},onLoad:function(){this.battlePets=this.BattlePets.getComponent("BattlePets"),this.init(this.pageIndex)},start:function(){},extractOnePet:function(e,t){this.pageIndex=t;var i=this.pets[e-8*t-1],n=this;o.instance.loadPetDetailData(e,function(t){n.initOnePet(i,e,t)}),cc.loader.loadRes("prefab/roleUp",function(e,t){var o=cc.instantiate(t);o.scale=1,o.parent=i,o.position=cc.v2(0,0);var n=cc.sequence(cc.delayTime(1),cc.removeSelf());o.runAction(n)})},init:function(e){for(var t=this,i=this.pets,n=function(n){var s=i[n];if(s){var a=n+8*e+1,c=t;o.instance.loadPetDetailData(a,function(e){c.initOnePet(s,a,e)})}},s=0;s<i.length;s++)n(s)},initOnePet:function(e,t,i){var o=e.getChildByName("pet"),a=e.getChildByName("petgou"),c=e.getChildByName("name"),l=e.getChildByName("star"),r=e.getChildByName("petbutton"),u=n.instance.getPetData(t);if(u){this.petDatas[t]=u;var h=i.Star,p="texture/UI",d=l.getComponent("cc.Sprite");this.loadSprite(p,d,h),h=s.getPetFileName(t-1),p="texture/UI",d=o.getComponent("cc.Sprite"),this.loadSprite(p,d,h),a.active=!1,r.active=!0,c.active=!0,this.IsUpperShelf(t)?this.upperShelf(t):this.downShelf(t)}else{var f=s.getGhostPetFileName(t-1),m=o.getComponent("cc.Sprite");this.loadSprite("texture/UI",m,f),a.active=!1,r.active=!1,c.active=!1}},onBtnShowPet:function(e,t){if(n.instance.getPetData(t)){var i=cc.director.getScene()._children[0];cc.loader.loadRes("prefab/PetInfoUI",function(e,o){var n=cc.instantiate(o);n.scale=1,n.parent=i;var s=t;n.getComponent("PetInfo").show(s)})}},onBtnShowPetDetail:function(e,t){if(this.IsUpperShelf(t)){var i=this.petDatas[t];this.battlePets.removeOnePet(i),this.downShelf(t)}else{var o=this.petDatas[t];this.battlePets.addOnePet(o),this.upperShelf(t)}},loadSprite:function(e,t,i){cc.loader.loadRes(e,cc.SpriteAtlas,function(e,o){var n=o.getSpriteFrame(i);t.spriteFrame=n})},upperShelf:function(e){var t=this.pageIndex,i=this.pets[e-8*t-1];if(i){i.getChildByName("pet");var o=i.getChildByName("petgou"),n=i.getChildByName("name");i.getChildByName("star");o.active=!0,n.getComponent("cc.Label").string="\u4e0b\u67b6"}},downShelf:function(e){var t=this.pageIndex,i=this.pets[e-8*t-1];if(i){i.getChildByName("pet");var o=i.getChildByName("petgou"),n=i.getChildByName("name");i.getChildByName("star");o.active=!1,n.getComponent("cc.Label").string="\u4e0a\u67b6"}},IsUpperShelf:function(e){var t=n.instance.getBattlePetData();for(var i in t)if(t[i].ID==e)return!0;return!1}}),cc._RF.pop()},{EnumDefine:"EnumDefine",JsonData:"JsonData",LocalStorage:"LocalStorage",Utils:"Utils"}],PetSkillUI:[function(e,t,i){"use strict";cc._RF.push(t,"90b44JyesxEg6LP1wclAMsn","PetSkillUI");var o=e("RPGManager"),n=e("Game"),s=e("EnumDefine").ActorType,a=(e("JsonData"),e("LocalStorage"),e("Utils"),e("PlayFightAudio"));cc.Class({extends:cc.Component,properties:{Pet1:{default:null,type:sp.Skeleton},Pet2:{default:null,type:sp.Skeleton},Pet3:{default:null,type:sp.Skeleton},Pet4:{default:null,type:sp.Skeleton},Pet5:{default:null,type:sp.Skeleton},actor1SkillNode:cc.Node,actor2SkillNode:cc.Node,actor3SkillNode:cc.Node,actor4SkillNode:cc.Node,actor5SkillNode:cc.Node,pet1SkillNode:cc.Node,pet2SkillNode:cc.Node,pet3SkillNode:cc.Node,pet4SkillNode:cc.Node,pet5SkillNode:cc.Node},ctor:function(){this.roleDatas={},this.roleBattlePets={},this.petSkillProcess={},this.actorSkillNodelist=[],this.actorSkilllist=[],this.petSkillNodelist=[],this.petSkilllist=[],this.skillAttacks={},this._petsAttackOverCallback=null},onLoad:function(){this.idlist=[0,1,2,3,4],this.petnamelist=[],this.petnamelist.push("cattle"),this.petnamelist.push("chicken"),this.petnamelist.push("dog"),this.petnamelist.push("duck"),this.petnamelist.push("frog"),this.petnamelist.push("hippo"),this.petnamelist.push("horse"),this.petnamelist.push("monkey"),this.petnamelist.push("mouse"),this.petnamelist.push("orangutan"),this.petnamelist.push("owl"),this.petnamelist.push("panda"),this.petnamelist.push("pig"),this.petnamelist.push("rabbit"),this.petnamelist.push("sheep"),this.petnamelist.push("tiger"),this.Pet1.node.active=!1,this.Pet2.node.active=!1,this.Pet3.node.active=!1,this.Pet4.node.active=!1,this.Pet5.node.active=!1;var e={};e[s.Actor1]=this.Pet1.node,e[s.Actor2]=this.Pet2.node,e[s.Actor3]=this.Pet3.node,e[s.Actor4]=this.Pet4.node,e[s.Actor5]=this.Pet5.node,this.petlist=e,this.actorSkill1=this.actor1SkillNode.getComponent("cc.ProgressBar"),this.actorSkill2=this.actor2SkillNode.getComponent("cc.ProgressBar"),this.actorSkill3=this.actor3SkillNode.getComponent("cc.ProgressBar"),this.actorSkill4=this.actor4SkillNode.getComponent("cc.ProgressBar"),this.actorSkill5=this.actor5SkillNode.getComponent("cc.ProgressBar"),this.petSkill1=this.pet1SkillNode.getComponent("cc.ProgressBar"),this.petSkill2=this.pet2SkillNode.getComponent("cc.ProgressBar"),this.petSkill3=this.pet3SkillNode.getComponent("cc.ProgressBar"),this.petSkill4=this.pet4SkillNode.getComponent("cc.ProgressBar"),this.petSkill5=this.pet5SkillNode.getComponent("cc.ProgressBar"),this.actorSkill1.progress=0,this.actorSkill2.progress=0,this.actorSkill3.progress=0,this.actorSkill4.progress=0,this.actorSkill5.progress=0,this.petSkill1.progress=0,this.petSkill2.progress=0,this.petSkill3.progress=0,this.petSkill4.progress=0,this.petSkill5.progress=0,this.actor1SkillNode.active=!1,this.actor2SkillNode.active=!1,this.actor3SkillNode.active=!1,this.actor4SkillNode.active=!1,this.actor5SkillNode.active=!1,this.pet1SkillNode.active=!1,this.pet2SkillNode.active=!1,this.pet3SkillNode.active=!1,this.pet4SkillNode.active=!1,this.pet5SkillNode.active=!1,this.actorSkillNodelist.push(this.actor1SkillNode),this.actorSkillNodelist.push(this.actor2SkillNode),this.actorSkillNodelist.push(this.actor3SkillNode),this.actorSkillNodelist.push(this.actor4SkillNode),this.actorSkillNodelist.push(this.actor5SkillNode),this.actorSkilllist.push(this.actorSkill1),this.actorSkilllist.push(this.actorSkill2),this.actorSkilllist.push(this.actorSkill3),this.actorSkilllist.push(this.actorSkill4),this.actorSkilllist.push(this.actorSkill5),this.petSkillNodelist.push(this.pet1SkillNode),this.petSkillNodelist.push(this.pet2SkillNode),this.petSkillNodelist.push(this.pet3SkillNode),this.petSkillNodelist.push(this.pet4SkillNode),this.petSkillNodelist.push(this.pet5SkillNode),this.petSkilllist.push(this.petSkill1),this.petSkilllist.push(this.petSkill2),this.petSkilllist.push(this.petSkill3),this.petSkilllist.push(this.petSkill4),this.petSkilllist.push(this.petSkill5);for(var t=n.instance.roleDatas,i=n.instance.battlePetDatas,o=0;o<t.length;o++){var a=t[o],c=a.roletype;if(this.roleDatas[c]=a,o<i.length){var l=i[o];this.roleBattlePets[a.roletype]=l;var r=l.ID,u=this.petnamelist[r-1],h=this.petlist[c];h.active=!0,this.loadPet(u,h)}}},loadPet:function(e,t){var i="spine/pet/";i+=e,cc.loader.loadRes(i,sp.SkeletonData,function(e,i){e&&cc.error(e);var o=t.getComponent("sp.Skeleton");o.skeletonData=i,o.setAnimation(0,"idle",!0)})},skillProcess:function(e,t,i){if(this.roleDatas[e]&&(this.actorSkillNodelist[e].active=!0,this.actorSkilllist[e].progress+=t,void 0!==this.roleBattlePets[e])){var o=this.petSkillNodelist[e],n=this.petSkilllist[e];o.active=!0,n.progress+=i}},addSkill:function(e){this.skillProcess(e,.14,.1)},decSkill:function(e){this.skillProcess(e,-.14,-.1)},hideAllSkill:function(){this.actor1SkillNode.active=!1,this.actor2SkillNode.active=!1,this.actor3SkillNode.active=!1,this.actor4SkillNode.active=!1,this.actor5SkillNode.active=!1,this.pet1SkillNode.active=!1,this.pet2SkillNode.active=!1,this.pet3SkillNode.active=!1,this.pet4SkillNode.active=!1,this.pet5SkillNode.active=!1},tripHeroSkill:function(e){var t=!1;if(void 0!==this.roleDatas[e]){var i=this.actorSkilllist[e];i&&i.progress>=1&&(i.progress=0,t=!0)}return t},petSkillAction:function(e,t){var i=cc.scaleTo(.2,2).easing(cc.easeBounceInOut()),o=cc.scaleTo(.2,1).easing(cc.easeBounceInOut()),n=cc.sequence(i,o),s=cc.jumpBy(.1,cc.v2(0,0),40,1).easing(cc.easeOut(3)),a=cc.jumpBy(.1,cc.v2(0,0),-40,1).easing(cc.easeOut(3)),c=cc.skewTo(.1,0,2),l=cc.skewTo(.1,0,0),r=cc.sequence(c,l),u=cc.sequence(s,a),h=cc.spawn(n,u,r),p=cc.callFunc(function(){t&&t()},this),d=cc.sequence(cc.delayTime(.2),h,p);e.runAction(d)},tripPetSkills:function(e){var t=this;this._petsAttackOverCallback=e;var i=this.roleBattlePets;if("{}"!=JSON.stringify(i)){for(var o in this.roleBattlePets){var n=this.roleBattlePets[o].ID;this.skillAttackStart(n)}var s=function(e){var i=t.roleBattlePets[e],o=t.petSkilllist[e];if(o.progress>=1){var n=function(){this.tripPetSkill(i)}.bind(t),s=t.petlist[e];t.petSkillAction(s,n),o.progress=0}else{var a=i.ID;t.skillAttackOver(a)}};for(var a in this.roleBattlePets)s(a)}else this._petsAttackOverCallback&&(this._petsAttackOverCallback(),this._petsAttackOverCallback=null,this.skillAttacks={})},tripPetSkill:function(e){var t=e.ID,i=e.attack;this.skillAttackStart(t);var n=o.instance.getMonster();if(n){a.instance.playPetattack2();var s="prefab/skill/",c=["skillA1","skillA2","skillA3","skillA4","skillA5","skillA6","skillA7","skillA8"];switch(t){case 1:case 2:s+=c[0];break;case 3:case 4:s+=c[1];break;case 5:case 6:s+=c[2];break;case 7:case 8:s+=c[3];break;case 9:case 10:s+=c[4];break;case 11:case 12:s+=c[5];break;case 13:case 14:s+=c[6];break;case 15:case 16:default:s+=c[7]}var l=this;cc.loader.loadRes(s,function(e,o){e&&cc.error(e);var s=cc.instantiate(o);s.zIndex=10,s.parent=n.parent,s.position=n.position,s.x-=n.width/2,s.y+=.5*n.height;var a=s.getComponent("PetSkill");if(a){var c=function(e){l.skillAttackOver(t,e)}.bind(l);a.play(function(){l.petskillHurt(i,c)})}})}else this.skillAttackOver(t)},skillAttackStart:function(e){this.skillAttacks[e]=!0},skillAttackOver:function(e,t){this.skillAttacks[e]=!1;var i=!0;for(var o in this.skillAttacks){if(this.skillAttacks[o]){i=!1;break}}i&&this.triggerAttackOverCallback()},petskillHurt:function(e,t){var i=o.instance.getMonster();if(i){var n=i.getComponent("Monster");if(n){n.hurt(e,function(e){t&&t(e)})}}},triggerAttackOverCallback:function(){this._petsAttackOverCallback&&(this._petsAttackOverCallback(),this._petsAttackOverCallback=null,this.skillAttacks={})},start:function(){}}),cc._RF.pop()},{EnumDefine:"EnumDefine",Game:"Game",JsonData:"JsonData",LocalStorage:"LocalStorage",PlayFightAudio:"PlayFightAudio",RPGManager:"RPGManager",Utils:"Utils"}],PetSkill:[function(e,t,i){"use strict";cc._RF.push(t,"a5273WHZINHZqGRuZ4CzXhU","PetSkill"),cc.Class({extends:cc.Component,properties:{animationName:""},onLoad:function(){this.hurtFunc=null},start:function(){},onFinished:function(){this.hurtFunc&&this.hurtFunc(),this.node.destroy()},play:function(e){this.hurtFunc=e;var t=this.node.getComponent(cc.Animation);t.on("finished",this.onFinished,this),t.play(this.animationName)}}),cc._RF.pop()},{}],PetUI:[function(e,t,i){"use strict";cc._RF.push(t,"f4a388L7d9OVqfp5TFyuXJk","PetUI");var o=e("Utils"),n=e("EnumDefine").EnterKind,s=e("BaseUI");cc.Class({extends:s,properties:{midbk:cc.Node,pageView:cc.PageView,UIBase:cc.Node},onLoad:function(){var e=this.midbk;this.scaleShow(e,null),this.uibase=this.UIBase.getComponent("UIBase")},start:function(){},onBtnCloseActorUI:function(){var e=function(){var e=n.Main,t=cc.find("Canvas").getComponent("CanvasInit");switch(t&&(e=t.enterCode),e){case n.Main:cc.director.loadScene("Main");break;case n.Map:cc.director.loadScene("Map")}this.node.removeFromParent()}.bind(this),t=this.midbk;this.scaleClose(t,e)},refreshPagView:function(e){if(this.pageView){var t=0;t=e>=1&&e<=8?0:1,this.pageView.scrollToPage(t);var i=this.pageView.getPages()[t];if(i){var o=i.getComponent("PetPage");o&&o.extractOnePet(e,t)}}},luckSpin:function(){if(this.buyLuckSpinDiamond(10)){var e=o.computeSpin([30,70]),t=cc.director.getScene()._children[0],i=this;cc.loader.loadRes("prefab/PetExtraction",function(o,n){var s=cc.instantiate(n);s.parent=t,s.position=cc.v2(0,0),s.active=!0;var a=s.getComponent("PetExtraction");if(a){a.spin(e,function(e){i.refreshPagView(e)})}})}},buyLuckSpinDiamond:function(e){var t=!1;this.uibase&&(this.uibase.getDiamondNum()>=e&&(t=!0,this.uibase.updateDiamond(-e)));return t}}),cc._RF.pop()},{BaseUI:"BaseUI",EnumDefine:"EnumDefine",Utils:"Utils"}],PlayAnimation:[function(e,t,i){"use strict";cc._RF.push(t,"6c18eKNqTNCBJSLf6nY61Sc","PlayAnimation"),cc.Class({extends:cc.Component,properties:{animationName:""},onLoad:function(){this.finished=null},start:function(){},onFinished:function(){this.finished?this.finished():this.node.destroy()},play:function(e){this.finished=e;var t=this.node.getComponent(cc.Animation);t.on("finished",this.onFinished,this),t.play(this.animationName)}}),cc._RF.pop()},{}],PlayBkAudios:[function(e,t,i){"use strict";cc._RF.push(t,"1e284EVrddOoYdxoUWupTIt","PlayBkAudios");e("Utils");cc.Class({extends:cc.Component,properties:{audioCrazy:{type:cc.AudioSource,default:null},audioNormal:{type:cc.AudioSource,default:null}},onLoad:function(){},play:function(){switch(this.stageType){case 0:this.audioNormal&&this.audioNormal.play();break;case 1:this.audioCrazy&&this.audioCrazy.play()}},pause:function(){switch(this.stageType){case 0:this.audioNormal&&this.audioNormal.pause();break;case 1:this.audioCrazy&&this.audioCrazy.pause()}},stop:function(){this.audioNormal&&this.audioNormal.stop(),this.audioCrazy&&this.audioCrazy.stop()},resume:function(){switch(this.stageType){case 0:this.audioNormal&&this.audioNormal.resume();break;case 1:this.audioCrazy&&this.audioCrazy.resume()}},onDisable:function(){this.stop()}}),cc._RF.pop()},{Utils:"Utils"}],PlayFightAudio:[function(e,t,i){"use strict";cc._RF.push(t,"4220eYor1JO8pVaVltGX8sN","PlayFightAudio");var o=cc.Class({extends:cc.Component,properties:{bonusTime:{type:cc.AudioClip,default:null},good:{type:cc.AudioClip,default:null},timeUp:{type:cc.AudioClip,default:null},petattack:{type:cc.AudioClip,default:null},petattack2:{type:cc.AudioClip,default:null},Wow:{type:cc.AudioClip,default:null},spin:{type:cc.AudioClip,default:null},OpenMagicBag:{type:cc.AudioClip,default:null},key:{type:cc.AudioClip,default:null},shootbullet:{type:cc.AudioClip,default:null},Coin:{type:cc.AudioClip,default:null},go:{type:cc.AudioClip,default:null},monsterDie:{type:cc.AudioClip,default:null},monsterAttack:{type:cc.AudioClip,default:null},monsterhit:{type:cc.AudioClip,default:null},ButtonClick:{type:cc.AudioClip,default:null},gamelose:{type:cc.AudioClip,default:null},Eliminate1:{type:cc.AudioClip,default:null},Eliminate2:{type:cc.AudioClip,default:null},Eliminate3:{type:cc.AudioClip,default:null},Eliminate4:{type:cc.AudioClip,default:null},Eliminate5:{type:cc.AudioClip,default:null},Eliminate6:{type:cc.AudioClip,default:null},Eliminate7:{type:cc.AudioClip,default:null},Eliminate8:{type:cc.AudioClip,default:null}},statics:{instance:null},onLoad:function(){this.volume=1,o.instance=this},start:function(){},playBonusTime:function(){cc.audioEngine.play(this.bonusTime,!1,this.volume)},playGood:function(){cc.audioEngine.play(this.good,!1,this.volume)},playTimeUp:function(){cc.audioEngine.play(this.timeUp,!1,this.volume)},playPetattack:function(){cc.audioEngine.play(this.petattack,!1,this.volume)},playPetattack2:function(){cc.audioEngine.play(this.petattack2,!1,this.volume)},playWow:function(){cc.audioEngine.play(this.Wow,!1,this.volume)},playSpin:function(){cc.audioEngine.play(this.spin,!1,this.volume)},playOpenMagicBag:function(){cc.audioEngine.play(this.OpenMagicBag,!1,this.volume)},playKey:function(){cc.audioEngine.play(this.key,!1,this.volume)},playShootbullet:function(){cc.audioEngine.play(this.shootbullet,!1,this.volume)},playCoin:function(){cc.audioEngine.play(this.Coin,!1,this.volume)},playMonsterDie:function(){cc.audioEngine.play(this.monsterDie,!1,this.volume)},playMonsterAttack:function(){cc.audioEngine.play(this.monsterAttack,!1,this.volume)},playMonsterhit:function(){cc.audioEngine.play(this.monsterhit,!1,this.volume)},playButtonClick:function(){cc.audioEngine.play(this.ButtonClick,!1,this.volume)},playGamelose:function(){cc.audioEngine.play(this.gamelose,!1,this.volume)},playEliminate1:function(){cc.audioEngine.play(this.Eliminate1,!1,this.volume)},playEliminate2:function(){cc.audioEngine.play(this.Eliminate2,!1,this.volume)},playEliminate3:function(){cc.audioEngine.play(this.Eliminate3,!1,this.volume)},playEliminate4:function(){cc.audioEngine.play(this.Eliminate4,!1,this.volume)},playEliminate5:function(){cc.audioEngine.play(this.Eliminate5,!1,this.volume)},playEliminate6:function(){cc.audioEngine.play(this.Eliminate6,!1,this.volume)},playEliminate7:function(){cc.audioEngine.play(this.Eliminate7,!1,this.volume)},playEliminate8:function(){cc.audioEngine.play(this.Eliminate8,!1,this.volume)},playCellConnect:function(e){switch(e){case 1:this.playEliminate1();break;case 2:this.playEliminate2();break;case 3:this.playEliminate3();break;case 4:this.playEliminate4();break;case 5:this.playEliminate5();break;case 6:this.playEliminate6();break;case 7:this.playEliminate7();break;case 8:this.playEliminate8()}}});cc._RF.pop()},{}],PoolMng:[function(e,t,i){"use strict";cc._RF.push(t,"0f752qN9blLJYVlJnMx6qsF","PoolMng");var o=e("CellPool"),n=e("CellBloodPool"),s=e("BombEffectPool"),a=e("BulletPool"),c=e("CoinPool"),l=cc.Class({extends:cc.Component,properties:{cellPool:{default:[],type:o},cellBloodPool:{default:[],type:n},bombEffectPool:{default:[],type:s},bulletPool:{default:[],type:a},coinPool:{default:[],type:c}},onLoad:function(){l.instance=this},statics:{instance:null},init:function(){for(var e=0;e<this.cellPool.length;++e)this.cellPool[e].init();for(var t=0;t<this.cellBloodPool.length;++t)this.cellBloodPool[t].init();for(var i=0;i<this.bulletPool.length;++i)this.bulletPool[i].init();for(var o=0;o<this.coinPool.length;++o)this.coinPool[o].init();for(var n=0;n<this.bombEffectPool.length;++n)this.bombEffectPool[n].init()},requestCell:function(e){return this.cellPool[e].get()},isHaveCellPool:function(e){return!!this.cellPool[e]},returnCell:function(e,t){var i=this.cellPool[t];i?i.put(e):e.removeFromParent()},getCellBlood:function(e){return this.cellBloodPool[e].get()},putCellBlood:function(e,t){this.cellBloodPool[t].put(e)},getBullet:function(e){return this.bulletPool[e].get()},putBullet:function(e,t){this.bulletPool[t].put(e)},getCoin:function(){return this.coinPool[0].get()},putCoin:function(e){this.coinPool[0].put(e)},getline:function(){return this.coinPool[0].getline()},putline:function(e){this.coinPool[0].putline(e)},getslantline:function(){return this.coinPool[0].getslantline()},putslantline:function(e){this.coinPool[0].putslantline(e)},getScoreLabel:function(){return this.coinPool[0].getScoreLabel()},putScoreLabel:function(e){this.coinPool[0].putScoreLabel(e)},getRedLabel:function(){return this.coinPool[0].getRedLabel()},putRedLabel:function(e){this.coinPool[0].putRedLabel(e)},getPurbleLabel:function(){return this.coinPool[0].getPurbleLabel()},putPurbleLabel:function(e){this.coinPool[0].putPurbleLabel(e)},getOrangeLabel:function(){return this.coinPool[0].getOrangeLabel()},putOrangeLabel:function(e){this.coinPool[0].putOrangeLabel(e)},getBombEffect:function(){return this.bombEffectPool[0].get()},putBombEffect:function(e){this.bombEffectPool[0].put(e)}});cc._RF.pop()},{BombEffectPool:"BombEffectPool",BulletPool:"BulletPool",CellBloodPool:"CellBloodPool",CellPool:"CellPool",CoinPool:"CoinPool"}],Portal:[function(e,t,i){"use strict";cc._RF.push(t,"2dd48oWwqFMEqpr6dIClc4D","Portal");var o=e("Utils"),n=(e("RPGManager"),e("PoolMng"),e("EnumDefine").CellType),s=e("EnumDefine").ChestType,a=e("Game"),c=e("Utils").NUMROWS,l=e("Utils").NUMCOLUMNS,r=e("Utils").TITLE_WIDTH,u=e("Utils").TITLE_HEIGHT,h=e("PlayFightAudio"),p=e("Board");o.ProduceType,cc.v2(),cc.v2();cc.Class({extends:cc.Component,properties:{glare:{default:null,type:cc.SpriteFrame},flashEffect:{default:null,type:cc.Prefab}},ctor:function(){this._isopenPortal=!1,this._keycelllist=[],this._isallkeydone=[],this._fallingDoneFunc=null,this._isstart=!1,this._index=0},onLoad:function(){this.board=this.node.getComponent("Board"),this.ProcessBoardCell=this.node.getComponent("ProcessBoardCell")},start:function(){},checkPortal:function(){if(this._isstart&&this._isallkeydone.length>0){for(var e=!1,t=0;t<this._isallkeydone.length;t++){if(!this._isallkeydone[t]){e=!0;break}}if(e)return;this._fallingDoneFunc&&(this._fallingDoneFunc(),this._fallingDoneFunc=null),this._isopenPortal=!1,this._isstart=!1,this._isallkeydone.length=0}},openPortal:function(e){var t=this;this._keycelllist.length=0,this._isallkeydone.length=0,this._fallingDoneFunc=null,this._isstart=!1,this._index=0;var i=[];if(this.ProcessBoardCell.getAllKeys(i),0!==i.length){this._fallingDoneFunc=e;for(var o=0;o<i.length;o++)this._isallkeydone.push(!1),this._isstart=!0;for(var n=[],s=function(e){var o=cc.callFunc(function(){var o=i[e],n=function(){this._isallkeydone[this._index]=!0,this._index+=1,this.checkPortal()}.bind(t);t.processOneCell(o,n)},t);n.push(o),n.push(cc.delayTime(.2))},a=0;a<i.length;a++)s(a);this.node.runAction(cc.sequence(n))}else e&&e()},processOneCell:function(e,t){var i=e.getComponent("Cell"),o=i.column,s=i.row;switch(i.celltype){case n.KeyUp:if(s<c-1){for(var a=s+1,r=0,u=!1;a<c;a++){var h=this.ProcessBoardCell.getCell(o,a);if(h){h.getComponent("Cell").celltype===n.Chest&&(u=!0);break}r+=1}0!==r||u?this.moveKey(e,o,s+r,r,t):t&&t()}break;case n.KeyDown:if(s>0){for(var p=s-1,d=0,f=!1;p>=0;p--){var m=this.ProcessBoardCell.getCell(o,p);if(m){m.getComponent("Cell").celltype===n.Chest&&(f=!0);break}d+=1}0!==d||f?this.moveKey(e,o,s-d,d,t):t&&t()}break;case n.KeyLeft:if(o>0){for(var v=o-1,g=0,C=!1;v>0;v--){var _=this.ProcessBoardCell.getCell(v,s);if(_){_.getComponent("Cell").celltype===n.Chest&&(C=!0);break}g+=1}0!==g||C?this.moveKey(e,o-g,s,g,t):t&&t()}break;case n.KeyRight:if(o<l-1){for(var b=o+1,S=0,y=!1;b<l;b++){var k=this.ProcessBoardCell.getCell(b,s);if(k){k.getComponent("Cell").celltype===n.Chest&&(y=!0);break}S+=1}0!==S||y?this.moveKey(e,o+S,s,S,t):t&&t()}}},moveKey:function(e,t,i,s,a){var p=this;this._isopenPortal=!0;var d=.1*s,f=o.pointForColumn(t,i);f.x=f.x-this.node.width/2,f.y=f.y-this.node.height/2,f.x+=r/2,f.y+=u/2;var m=cc.moveTo(d,f),v=e.getComponent("Cell"),g=v.column,C=v.row;this.ProcessBoardCell.setCell(g,C,null),h.instance.playKey();var _=cc.callFunc(function(){switch(v.column=t,v.row=i,p.ProcessBoardCell.setCell(t,i,e),v.celltype){case n.KeyLeft:if(t>0){var o=p.ProcessBoardCell.getCell(t-1,i);if(o)o.getComponent("Cell").celltype===n.Chest?p.openChest(e,o,a):a&&a();else a&&a()}break;case n.KeyRight:if(t<l-1){var s=p.ProcessBoardCell.getCell(t+1,i);if(s)s.getComponent("Cell").celltype===n.Chest?p.openChest(e,s,a):a&&a();else a&&a()}break;case n.KeyUp:if(i<c-1){var r=p.ProcessBoardCell.getCell(t,i+1);if(r)r.getComponent("Cell").celltype===n.Chest?p.openChest(e,r,a):a&&a();else a&&a()}break;case n.KeyDown:if(i>0){var u=p.ProcessBoardCell.getCell(t,i-1);if(u)u.getComponent("Cell").celltype===n.Chest?p.openChest(e,u,a):a&&a();else a&&a()}}},this);e.runAction(cc.sequence(m,_))},openChest:function(e,t,i){var o=this;this._isopenPortal=!0;var c=t.position,l=cc.v2(c.x,c.y);l.x+=t.width/2,l.y+=.2*t.height;var r=cc.moveTo(.1,l).easing(cc.easeOut(5)),u=cc.callFunc(function(){},this),h=cc.callFunc(function(){var n=t.parent,c=t.position.x+t.width/2,l=t.position.y+.8*t.height,r=function(){var o=cc.v2(c,l);this.showflashEffect(n,o);var r=t.position;r.y=t.position.y+.5*t.height;var u=t.getComponent("Cell").getDataCell(),h=function(){var o=cc.callFunc(function(){a.instance.removeCell(t),a.instance.removeCell(e),i&&i()},this);this.node.runAction(cc.sequence(cc.delayTime(0),o))}.bind(this);switch(u.ChestType){case s.Prop:this.showProps(n,o,h);break;case s.Diamond:this.showDiamonds(r),h();break;case s.Skill:this.showSkills(),h();break;case s.Coin:this.showCoins(r),h();break;default:h()}}.bind(o);t.getComponent("Cell").openChest(r)},this),p=cc.callFunc(function(){a.instance.updateCell(n.Chest,1)},this),d=(cc.callFunc(function(){a.instance.removeCell(t),a.instance.removeCell(e)},this),cc.callFunc(function(){i&&i()},this),cc.scaleTo(.2,0).easing(cc.easeOut(5))),f=cc.sequence(r,d,u,p,h);e.runAction(f)},showflashEffect:function(e,t){cc.loader.loadRes("prefab/particle/killDustParticle",function(i,o){var n=cc.instantiate(o);n&&(n.scale=1,n.parent=e,n.position=t,n.runAction(cc.sequence(cc.delayTime(2),cc.removeSelf())))});cc.loader.loadRes("prefab/flashEffect",function(i,o){var n=cc.instantiate(o);if(n){n.scale=.5,n.parent=e,n.position=t;var s=n.getComponent(cc.Animation);s&&s.play(),n.runAction(cc.sequence(cc.delayTime(1.5),cc.removeSelf()))}})},showCoins:function(e){a.instance.Board;var t,i=this.getCoinNum(),o=this.node;t="prefab/ChestCoin",cc.loader.loadRes(t,function(t,n){t&&cc.error(t);var s=cc.instantiate(n),c=e;c.x+=1*s.width/2,s.position=c,s.scale=0,s.parent=o,s.group="UI",s.getChildByName("num").getComponent(cc.Label).string=i+"",s.scale=0;var l=cc.scaleTo(.5,1).easing(cc.easeOut(3)),r=cc.moveBy(.6,cc.v2(0,50)),u=cc.spawn(l,r),h=cc.moveBy(1,cc.v2(0,100)),p=cc.callFunc(function(){a.instance.updateCoin(i)},this),d=cc.sequence(u,h,p,cc.removeSelf());s.runAction(d)})},showDiamonds:function(e){a.instance.Board;var t,i=this.getDiamondNum(),o=this.node;t="prefab/ChestDiamond",cc.loader.loadRes(t,function(t,n){t&&cc.error(t);var s=cc.instantiate(n),c=e;c.x+=1*s.width/2,s.position=c,s.scale=0,s.parent=o,s.group="UI",s.getChildByName("num").getComponent(cc.Label).string=i+"",s.scale=0;var l=cc.scaleTo(.5,1).easing(cc.easeOut(3)),r=cc.moveBy(.6,cc.v2(0,50)),u=cc.spawn(l,r),h=cc.moveBy(1,cc.v2(0,100)),p=cc.callFunc(function(){a.instance.updateDiamond(i)},this),d=cc.sequence(u,h,p,cc.removeSelf());s.runAction(d)})},showProps:function(e,t,i){var s=[n.DiamondBombProp,n.ClearBombProp,n.DoubleHorinalProp,n.DoubleVerticalProp],a=o.computeSpin([10,2,10,10]),c=s.length-1,l=o.randomRangeInt(0,c);l=s[a];var r=function(e){e.scale=0;var t=cc.scaleTo(.3,1.3).easing(cc.easeOut(3)),o=cc.moveBy(.3,cc.v2(0,20)),n=cc.spawn(t,o),s=cc.moveBy(.5,cc.v2(0,100)),a=cc.callFunc(function(){h.shootProp(e,l,i)},h),c=cc.sequence(n,s,a);e.runAction(c)}.bind(this),u="prefab/cell/DiamondBombProp",h=this;switch(l){case n.ClearBombProp:case n.SameColorProp:u="prefab/cell/DiamondBombProp";break;case n.DoubleHorinalProp:u="prefab/cell/DoubleHorinalProp";break;case n.DoubleVerticalProp:u="prefab/cell/DoubleVerticalProp";break;case n.DiamondBombProp:u="prefab/cell/DiamondBombProp"}cc.loader.loadRes(u,function(i,o){var n=cc.instantiate(o);n.parent=e,n.position=t,r&&r(n)})},getCoinNum:function(){var e=[100,200,300,400,500][o.computeSpin([50,40,30,20,10])];return o.randomRangeInt(0,e)},getDiamondNum:function(){var e=[5,10,15,20,25][o.computeSpin([50,40,30,20,10])];return o.randomRangeInt(0,e)},showSkills:function(e){},bomb:function(e,t){cc.loader.loadRes("prefab/boomEffect",function(i,o){var n=cc.instantiate(o);n.scale=.8,n.parent=e,n.position=t;var s=n.getComponent("PlayAnimation");s&&s.play()})},showBoby:function(e,t){o.showBaby(e,t,null)},shootProp:function(e,t,i){var o=this,n=this.ProcessBoardCell.randomGetCellFromTopToBottom(1);if(n.length>0){var s=n[0],a=s.position,c=Math.abs(s.width-e.width),l=Math.abs(s.height-e.height);a.x+=c,a.y+=l;var r=cc.v2();a.sub(e.position,r);var u=r.mag()/150*.2,h=cc.moveTo(u,a),d=cc.callFunc(function(){var n=s.getComponent("Cell"),a=function(o){this.ProcessBoardCell.setCell(n.column,n.row,o),p.instance.deSpawnCell(s),(n=o.getComponent("Cell")).init(t,1);var a=o.scale;o.scale=0;var c=cc.scaleTo(.2,a).easing(cc.easeOut(3));o.runAction(c),e.destroy(),i&&i()}.bind(o);p.instance.spawnCell(t,n.column,n.row,1,a)},this),f=cc.sequence(h,d);e.runAction(f)}else e.destroy(),i&&i()}}),cc._RF.pop()},{Board:"Board",EnumDefine:"EnumDefine",Game:"Game",PlayFightAudio:"PlayFightAudio",PoolMng:"PoolMng",RPGManager:"RPGManager",Utils:"Utils"}],ProcessBoardCell:[function(e,t,i){"use strict";cc._RF.push(t,"59ac6LvvwtMAqO9A3canoyS","ProcessBoardCell");var o=e("Utils").NUMROWS,n=e("Utils").NUMCOLUMNS,s=e("EnumDefine").CellType,a=e("Utils"),c=cc.Class({extends:cc.Component,properties:{},onLoad:function(){c.instance=this,this.cellList=[],this.sideCellList=[],this.skillCirclelist=[]},statics:{instance:null},start:function(){},printCellsNull:function(){for(var e=0;e<o;e++)for(var t=0;t<n;t++){void 0===this.getCell(t,e)&&console.log("column, row",t,e)}var i=this.getCell(0,4);if(i){i.getComponent("Cell");var s=i.position;cc.log("pos",s.x,s.y),i.scale=3}},printCells:function(){for(var e=0;e<this.cellList.length;e++){var t=this.cellList[e];if(t){var i=t.getComponent("Cell"),o=i.row,n=i.column;console.log("row, column, lv",o,n,i.celltype)}}},setCelllistNull:function(e){for(var t=0;t<e.length;t++){var i=e[t];i&&this.setCellNull(i)}},getSideCell:function(e,t){var i=t*o+e;return this.sideCellList[i]},getCell:function(e,t){var i=t*o+e;return this.cellList[i]},getSkillCircle:function(e,t){var i=t*o+e;return this.skillCirclelist[i]},setSkillCircle:function(e,t,i){var n=t*o+e;this.skillCirclelist[n]=i},showAllCircles:function(e){for(var t=0;t<o;t++)for(var i=0;i<n;i++){var s=this.getSkillCircle(i,t);s&&(s.active=e)}},setCellNull:function(e){if(e){var t=e.getComponent("Cell"),i=t.row,o=t.column;this.setCell(o,i,null)}},setCell:function(e,t,i){var n=t*o+e;this.cellList[n]=i},setSideCell:function(e,t,i){var n=t*o+e;this.sideCellList[n]=i},removeCell:function(e){this.setCellNull(e)},randomRange:function(e,t){return Math.random()*(t-e)+e},randomRangeInt:function(e,t){return Math.floor(this.randomRange(e,t))},randomGetCellFromTopToBottom:function(e){for(var t=[],i=0;i<o;i++)for(var s=0;s<n;s++){var c=this.getCell(s,i);if(c){var l=c.getComponent("Cell");l&&l.normalCell()&&t.push(c)}}var r=[];if(t.length/2>=e)for(var u=0;u<e;){var h=t[a.randomRangeInt(t.length/2-1,t.length)];-1===r.indexOf(h)&&(r.push(h),u+=1)}else if(t.length>=e)for(var p=0;p<e;){var d=t[a.randomRangeInt(0,t.length)];-1===r.indexOf(d)&&(r.push(d),p+=1)}else for(var f=0;f<t.length;f++)r.push(t[f]);return r},randomGetCell:function(){for(var e=o*n,t=0;t<e;t++){var i=this.randomRangeInt(0,o),s=this.randomRangeInt(0,n),a=this.getCell(s,i);if(a){var c=a.getComponent("Cell");if(c&&c.normalCell())return a}}return null},getTwoVertical:function(e,t,i){if(e-1>=0){var o=[];this.getVerticalCells(e-1,t,o),o.length>0&&i.push(o)}if(e+1<n){var s=[];this.getVerticalCells(e+1,t,s),s.length>0&&i.push(s)}},getTwoHorinal:function(e,t,i){if(t-1>=0){var n=[];this.getHorinalCells(e,t-1,n),n.length>0&&i.push(n)}if(t+1<o){var s=[];this.getHorinalCells(e,t+1,s),s.length>0&&i.push(s)}},getHorinalCells:function(e,t,i){for(var o=0;o<n;o++){var s=this.getCell(o,t);if(s&&s.parent)s.getComponent("Cell").canRemove()&&i.push(s)}},getVerticalCells:function(e,t,i){for(var n=0;n<o;n++){var s=this.getCell(e,n);if(s&&s.parent)s.getComponent("Cell").canRemove()&&i.push(s)}},getDiamondCells:function(e,t,i,s){var a=[],c=[],l=[],r=[],u=[];if(t+2<o){var h=this.getCell(e,t+2);if(h)h.getComponent("Cell").canRemove()&&(i.push(h),a.push(h))}if(t+1<o){var p=this.getCell(e,t+1);if(p)p.getComponent("Cell").canRemove()&&(i.push(p),c.push(p))}if(e-1>=0&&t+1<o){var d=this.getCell(e-1,t+1);if(d)d.getComponent("Cell").canRemove()&&(i.push(d),c.push(d))}if(e+1<n&&t+1<o){var f=this.getCell(e+1,t+1);if(f)f.getComponent("Cell").canRemove()&&(i.push(f),c.push(f))}var m=this.getCell(e,t);m&&(m.getComponent("Cell").canRemove()&&(i.push(m),l.push(m)));if(e-1>=0){var v=this.getCell(e-1,t);if(v)v.getComponent("Cell").canRemove()&&(i.push(v),l.push(v))}if(e-2>=0){var g=this.getCell(e-2,t);if(g)g.getComponent("Cell").canRemove()&&(i.push(g),l.push(g))}if(e+1<n){var C=this.getCell(e+1,t);if(C)C.getComponent("Cell").canRemove()&&(i.push(C),l.push(C))}if(e+2<n){var _=this.getCell(e+2,t);if(_)_.getComponent("Cell").canRemove()&&(i.push(_),l.push(_))}if(t-1>=0){var b=this.getCell(e,t-1);if(b)b.getComponent("Cell").canRemove()&&(i.push(b),r.push(b))}if(e-1>=0&&t-1>=0){var S=this.getCell(e-1,t-1);if(S)S.getComponent("Cell").canRemove()&&(i.push(S),r.push(S))}if(e+1<n&&t-1>=0){var y=this.getCell(e+1,t-1);if(y)y.getComponent("Cell").canRemove()&&(i.push(y),r.push(y))}if(t-2>=0){var k=this.getCell(e,t-2);if(k)k.getComponent("Cell").canRemove()&&(i.push(k),u.push(k))}s&&(a.length>0&&s.push(a),c.length>0&&s.push(c),l.length>0&&s.push(l),r.length>0&&s.push(r),u.length>0&&s.push(u))},checkCellConnect:function(e,t){var i=e.row,o=e.column,n=t.row,s=t.column;return i==n&&o==s-1||(i==n&&o==s+1||(s==o&&i==n-1||(s==o&&i==n+1||(i==n+1&&o==s-1||(i==n+1&&o==s+1||(i==n-1&&o==s-1||i==n-1&&o==s+1))))))},getXlist:function(e,t,i,s,a,c){for(var l=e,r=t;e+1<o&&t+1<n;){var u=this.getCell(t+1,e+1);if(u)u.getComponent("Cell").canRemove()&&i.push(u);e+=1,t+=1}for(e=l,t=r;e-1>=0&&t-1>=0;){var h=this.getCell(t-1,e-1);if(h)h.getComponent("Cell").canRemove()&&s.push(h);e-=1,t-=1}for(e=l,t=r;e+1<o&&t-1>=0;){var p=this.getCell(t-1,e+1);if(p)p.getComponent("Cell").canRemove()&&a.push(p);e+=1,t-=1}for(e=l,t=r;e-1>=0&&t+1<n;){var d=this.getCell(t+1,e-1);if(d)d.getComponent("Cell").canRemove()&&c.push(d);e-=1,t+=1}},getXXlist:function(e,t,i,o,n,s,a,c){this.getXlist(e,t,i,o,n,s),this.getHorinalCells(e,t,a),this.getVerticalCells(t,t,c)},getClearBomblist:function(){for(var e=[],t=0;t<o;t++)for(var i=0;i<n;i++){var s=this.getCell(i,t);if(s)s.getComponent("Cell").canRemove()&&e.push(s)}return e},getAllKeys:function(e){for(var t=0;t<o;t++)for(var i=0;i<n;i++){var a=this.getCell(i,t);if(a)switch(a.getComponent("Cell").celltype){case s.KeyLeft:case s.KeyRight:case s.KeyUp:case s.KeyDown:e.push(a)}}},getFourConorSideCells:function(e,t,i){if(e-1>=0){var s=this.getSideCell(e-1,t);s&&i.push(s)}if(e+1<n){var a=this.getSideCell(e+1,t);a&&i.push(a)}if(t-1>=0){var c=this.getSideCell(e,t-1);c&&i.push(c)}if(t+1<o){var l=this.getSideCell(e,t+1);l&&i.push(l)}},getFourConorCells:function(e,t,i){if(e-1>=0){var s=this.getCell(e-1,t);if(s)s.getComponent("Cell").canRemove()&&i.push(s)}if(e+1<n){var a=this.getCell(e+1,t);if(a)a.getComponent("Cell").canRemove()&&i.push(a)}if(t-1>=0){var c=this.getCell(e,t-1);if(c)c.getComponent("Cell").canRemove()&&i.push(c)}if(t+1<o){var l=this.getCell(e,t+1);if(l)l.getComponent("Cell").canRemove()&&i.push(l)}},randomGetNormalCells:function(e){for(var t=[],i=0;i<o;i++)for(var s=0;s<n;s++){var c=this.getCell(s,i);if(c){var l=c.getComponent("Cell");l&&l.normalCell()&&t.push(c)}}var r=[];if(t.length>e)for(var u=0;u<e;){var h=t[a.randomRangeInt(0,t.length)];-1===r.indexOf(h)&&(r.push(h),u+=1)}else for(var p=0;p<t.length;p++)r.push(t[p]);return r}});cc._RF.pop()},{EnumDefine:"EnumDefine",Utils:"Utils"}],ProcessStory:[function(e,t,i){"use strict";cc._RF.push(t,"c02cedXzgVL2oEbDqpvJCPP","ProcessStory");e("Game");var o=e("EnumDefine").GameStages,n=e("Utils"),s=cc.Class({extends:cc.Component,properties:{topBoxIn:cc.Sprite,topBoxOut:cc.Sprite,bottomBox:cc.Sprite,sun:cc.Sprite,perspective:cc.Sprite,midshotOne_1:cc.Sprite,midshotOne_2:cc.Sprite,midshotOne_3:cc.Sprite,midshotOne_4:cc.Sprite,foreground1:cc.Sprite,foreground2:cc.Sprite,foreground3:cc.Sprite,foreground4:cc.Sprite,ground:cc.Node,midshotOne:cc.Node,UI:cc.Node,RPG:cc.Node,clouds:{default:[],type:cc.Sprite}},onLoad:function(){s.instance=this;var e=n.levelData.StageID;this.stageFileNamesData=null,this.initStage(e)},statics:{instance:null},start:function(){},updateAlignment:function(e){if(e){var t=e.getComponent(cc.Widget);t&&(t.alignMode=cc.Widget.AlignMode.ON_WINDOW_RESIZE,t.updateAlignment())}},initStage:function(e){var t=this.getStageData(e);this.stageFileNamesData=t;t.path;var i=n.StageSpriteAtlas,o=i.getSpriteFrame(t.topout);this.topBoxOut.spriteFrame=o,this.updateAlignment(this.topBoxOut.node),o=i.getSpriteFrame(t.topin),this.topBoxIn.spriteFrame=o,this.updateAlignment(this.topBoxIn.node),o=i.getSpriteFrame(t.bottom),this.bottomBox.spriteFrame=o,this.updateAlignment(this.bottomBox.node),o=i.getSpriteFrame(t.sun),this.sun.spriteFrame=o,o=i.getSpriteFrame(t.perspective),this.perspective.spriteFrame=o,this.updateAlignment(this.perspective.node),o=i.getSpriteFrame(t.midshot),this.midshotOne_1.spriteFrame=o,o=i.getSpriteFrame(t.midshot),this.midshotOne_2.spriteFrame=o,o=i.getSpriteFrame(t.midshot),this.midshotOne_3.spriteFrame=o,o=i.getSpriteFrame(t.midshot),this.midshotOne_4.spriteFrame=o,o=i.getSpriteFrame(t.foreground),this.foreground1.spriteFrame=o,this.fliter(o),o=i.getSpriteFrame(t.foreground),this.foreground2.spriteFrame=o,this.fliter(o),o=i.getSpriteFrame(t.foreground),this.foreground3.spriteFrame=o,this.fliter(o),o=i.getSpriteFrame(t.foreground),this.foreground4.spriteFrame=o,this.fliter(o);for(var s=this.clouds,a=0;a<s.length;a++){var c=s[a];o=i.getSpriteFrame(t.clouds[a]),c.spriteFrame=o}},getStageData:function(e){var t="",i="",n="",s="",a="",c="",l="",r="",u="",h="",p=[];switch(e){case o.Farm1:t="texture/farm",s="farm_boxtop1",a="farm_boxbottom1",c="farm_boxbottom1",l="farm_foreground1",r="farm_midshot1",u="farm_perspective1",h="farm_sun1",p=["cloud1","cloud2","cloud3"],i="farm_boxone1",n="farm_boxtwo1";break;case o.Farm2:t="texture/farm",s="farm_boxtop2",a="farm_boxbottom2",c="farm_boxbottom2",l="farm_foreground2",r="farm_midshot2",u="farm_perspective2",h="farm_sun2",p=["cloud1","cloud2","cloud3"],i="farm_boxone2",n="farm_boxtwo2",this.moveWinds(this.midshotOne_1,0,-35),this.moveWinds(this.midshotOne_2,0,-35),this.moveWinds(this.midshotOne_3,0,-35),this.moveWinds(this.midshotOne_4,0,-35);break;case o.Farm3:t="texture/farm",s="farm_boxtop3",a="farm_boxbottom3",c="farm_boxbottom3",l="farm_foreground3",r="farm_midshot3",u="farm_perspective3",h="moon",p=["cloud1","cloud2","cloud3"],i="farm_boxone3",n="farm_boxtwo3";break;case o.Forest1:t="texture/forest",s="forest_boxtop1",a="forest_boxbottom1",c="forest_boxbottom1",l="forest_foreground1",r="forest_midshot1",u="forest_perspective1",h="forest_sun",p=["forest_cloud1","forest_cloud1big","forest_cloud1"],this.hideWinds(this.midshotOne_1),this.hideWinds(this.midshotOne_2),this.hideWinds(this.midshotOne_3),this.hideWinds(this.midshotOne_4),i="forest_boxone1",n="forest_boxtwo1",this.RPG.y+=20;break;case o.Forest2:t="texture/forest",s="forest_boxtop2",a="forest_boxbottom2",c="forest_boxbottom2",l="forest_foreground2",r="forest_midshot2",u="forest_perspective2",h="forest_sun",p=["forest_cloud2","forest_cloud2big","forest_cloud2"],this.hideWinds(this.midshotOne_1),this.hideWinds(this.midshotOne_2),this.hideWinds(this.midshotOne_3),this.hideWinds(this.midshotOne_4),i="forest_boxone2",n="forest_boxtwo2",this.RPG.y+=20;break;case o.Forest3:t="texture/forest",s="forest_boxtop3",a="forest_boxbottom3",c="forest_boxbottom3",l="forest_foreground3",r="forest_midshot3",u="forest_perspective3",h="moon",p=["forest_cloud3","forest_cloud3big","forest_cloud3"],this.hideWinds(this.midshotOne_1),this.hideWinds(this.midshotOne_2),this.hideWinds(this.midshotOne_3),this.hideWinds(this.midshotOne_4),i="forest_boxone3",n="forest_boxtwo3",this.RPG.y+=20;break;case o.Snow1:t="texture/snowmountain",s="snowmountain_boxtop1",a="snowmountain_boxbottom1",c="snowmountain_boxbottom1",l="snowmountain_foreground1",r="snowmountain_midshot1",u="snowmountain_perspective1",h="snowmountain_sun",p=["snowmountain_cloud1","snowmountain_cloud1","snowmountain_cloud1"],this.hideWinds(this.midshotOne_1),this.hideWinds(this.midshotOne_2),this.hideWinds(this.midshotOne_3),this.hideWinds(this.midshotOne_4),i="snow_boxone1",n="snow_boxtwo1",this.midshotOne.y+=20,this.ground.y+=10,this.RPG.y+=20;break;case o.Snow2:t="texture/snowmountain",s="snowmountain_boxtop2",a="snowmountain_boxbottom2",c="snowmountain_boxbottom2",l="snowmountain_foreground2",r="snowmountain_midshot2",u="snowmountain_perspective2",h="snowmountain_sun",p=["snowmountain_cloud2","snowmountain_cloud2big","snowmountain_cloud2"],this.hideWinds(this.midshotOne_1),this.hideWinds(this.midshotOne_2),this.hideWinds(this.midshotOne_3),this.hideWinds(this.midshotOne_4),i="snow_boxone2",n="snow_boxtwo2",this.RPG.y+=20;break;case o.Snow3:t="texture/snowmountain",s="snowmountain_boxtop3",a="snowmountain_boxbottom3",c="snowmountain_boxbottom3",l="snowmountain_foreground3",r="snowmountain_midshot3",u="snowmountain_perspective3",h="moon",p=["snowmountain_cloud3","snowmountain_cloud3big","snowmountain_cloud3"],this.hideWinds(this.midshotOne_1),this.hideWinds(this.midshotOne_2),this.hideWinds(this.midshotOne_3),this.hideWinds(this.midshotOne_4),i="snow_boxone3",n="snow_boxtwo3",this.RPG.y+=20;break;case o.Volcano1:t="texture/VolcanoGate",s="VolcanoGate_boxtop1",a="VolcanoGate_boxbottom1",c="VolcanoGate_boxbottom1",l="VolcanoGate_foreground1",r="VolcanoGate_midshot1",u="VolcanoGate_perspective1",h="VolcanoGate_sun",p=["volcano1_cloud1","volcano1_cloud2","volcano1_cloud1"],this.hideWinds(this.midshotOne_1),this.hideWinds(this.midshotOne_2),this.hideWinds(this.midshotOne_3),this.hideWinds(this.midshotOne_4),i="volcano_boxone1",n="volcano_boxtwo1",this.RPG.y+=20;break;case o.Volcano2:t="texture/VolcanoGate",s="VolcanoGate_boxtop2",a="VolcanoGate_boxbottom2",c="VolcanoGate_boxbottom2",l="VolcanoGate_foreground2",r="VolcanoGate_midshot2",u="VolcanoGate_perspective2",h="VolcanoGate_sun",p=["volcano2_cloud1","volcano2_cloud2","volcano2_cloud1"],this.hideWinds(this.midshotOne_1),this.hideWinds(this.midshotOne_2),this.hideWinds(this.midshotOne_3),this.hideWinds(this.midshotOne_4),i="volcano_boxone2",n="volcano_boxtwo2",this.RPG.y+=20;break;case o.Volcano3:t="texture/VolcanoGate",s="VolcanoGate_boxtop3",a="VolcanoGate_boxbottom3",c="VolcanoGate_boxbottom3",l="VolcanoGate_foreground3",r="VolcanoGate_midshot3",u="VolcanoGate_perspective3",h="moon",p=["volcano3_cloud1","volcano3_cloud2","volcano3_cloud1"],this.hideWinds(this.midshotOne_1),this.hideWinds(this.midshotOne_2),this.hideWinds(this.midshotOne_3),this.hideWinds(this.midshotOne_4),i="volcano_boxone3",n="volcano_boxtwo3",this.RPG.y+=20}var d={};return d.path=t,d.box1=i,d.box2=n,d.topin=a,d.topout=s,d.bottom=c,d.foreground=l,d.midshot=r,d.perspective=u,d.sun=h,d.clouds=p,d},moveWinds:function(e,t,i){for(var o=e.node.children,n=0;n<o.length;n++){var s=o[n];s&&(s.x+=t,s.y+=i)}},hideWinds:function(e){for(var t=e.node.children,i=0;i<t.length;i++){var o=t[i];o&&(o.active=!1)}},fliter:function(e){var t=e.getTexture();t.setFilters(cc.Texture2D.Filter.LINEAR,cc.Texture2D.Filter.LINEAR),t.setWrapMode(cc.Texture2D.WrapMode.GL_REPEAT,cc.Texture2D.WrapMode.GL_REPEAT)}});cc._RF.pop()},{EnumDefine:"EnumDefine",Game:"Game",Utils:"Utils"}],PropCellAttackArea:[function(e,t,i){"use strict";cc._RF.push(t,"a133bIGuZFGb4HXt3AbuIWy","PropCellAttackArea");e("Utils").NUMROWS,e("Utils").NUMCOLUMNS,e("PoolMng");var o=e("Utils"),n=e("EnumDefine").CellType;cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.Board=this.node.getComponent("Board"),this.SpawnCells=this.node.getComponent("SpawnCells"),this.ProcessBoardCell=this.node.getComponent("ProcessBoardCell"),this._usedProplist=[],this._propdatalist=[]},start:function(){},clearCircles:function(){this._usedProplist.length=0},clear:function(){this._usedProplist.length=0,this._propdatalist.length=0},reSetPropCells:function(e){for(var t=0;t<this._propdatalist.length;t++){var i=this._propdatalist[t],o=this.ProcessBoardCell.getCell(i.column,i.row);if(o){var n=o.getComponent("Cell");if(n.normalCell()&&e.length>0){var s=e.shift(),a=s.getComponent("Cell");n.switchType(a),this.setToNormalCell(s),this.setToPropCell(o),n.unTouch(),a.unTouch()}}}this._propdatalist.length=0},addOnePropData:function(e,t,i){for(var o=-1,n=0;n<this._propdatalist.length;n++){var s=this._propdatalist[n];if(s.column===e&&s.row===t&&s.celltype===i){o=n;break}}if(-1===o){var a={};a.column=e,a.row=t,a.celltype=i,this._propdatalist.push(a)}},moveBacklink:function(e,t){var i=e.getComponent("Cell"),o=t.getComponent("Cell");i.celltype!=o.celltype&&(i.normalCell()||(o.switchType(i),this.setToNormalCell(e),this.setToPropCell(t),i.unTouch(),o.touch()))},moveForWardlink:function(e,t){var i=e.getComponent("Cell"),o=t.getComponent("Cell");o.propNormalCell()&&this.addOnePropData(o.column,o.row,o.celltype),i.celltype!==o.celltype&&(i.normalCell()||o.propNormalCell()||(o.switchType(i),this.setToNormalCell(e),this.setToPropCell(t),i.touch(),o.touch()))},setToNormalCell:function(e){var t=null,i=e.getComponent("Cell"),o=i.cellNode;switch(o.position=cc.v2(),i.celltype){case n.Cell1:t=this.SpawnCells.Cell1;break;case n.Cell2:t=this.SpawnCells.Cell2;break;case n.Cell3:t=this.SpawnCells.Cell3;break;case n.Cell4:t=this.SpawnCells.Cell4;break;case n.Cell5:t=this.SpawnCells.Cell5}var s=o.getComponent(sp.Skeleton);s&&(s.skeletonData=t),i.touch();var a=o.getChildByName("sprite");a&&a.removeFromParent()},setToPropCell:function(e){var t=e.getComponent("Cell"),i=t.cellNode,s=i.getChildByName("sprite");s&&s.removeFromParent();var a;a=this.SpawnCells.Cell1;var c=i.getComponent(sp.Skeleton);c&&(c.setAnimation(0,"idle",!1),c.skeletonData=a,c.timeScale=1);var l=(s=new cc.Node("sprite")).addComponent("cc.Sprite");s.parent=i,s.position=cc.v2(45,45);var r="";switch(t.celltype){case n.HorinalProp:r="horialProp";break;case n.VerticalProp:r="horialProp",l.node.rotation=90;break;case n.CrossProp:r="crossProp";break;case n.XCrossProp:r="xProp";break;case n.XXCrossProp:r="colorBrush"}var u=o.UISpriteAtlas.getSpriteFrame(r);l.spriteFrame=u},showPropsArea:function(e){for(var t=this.collectProplist(e),i=0;i<t.length;i++){var o=t[i];if(!(this._usedProplist.indexOf(o)>=0)){this._usedProplist.push(o);var n=o.getComponent("Cell"),s=n.celltype;this.showArea(s,n.column,n.row)}}},showHorinalArea:function(e,t){var i=[];this.ProcessBoardCell.getHorinalCells(e,t,i),this.showCircles(i),this.showPropsArea(i)},showVerticalArea:function(e,t){var i=[];this.ProcessBoardCell.getVerticalCells(e,t,i),this.showCircles(i),this.showPropsArea(i)},showClearBombArea:function(){var e;e=this.ProcessBoardCell.getClearBomblist(),this.showCircles(e),this.showPropsArea(e)},showCircleArea:function(e,t){var i=[];this.ProcessBoardCell.getDiamondCells(e,t,i),this.showCircles(i),this.showPropsArea(i)},showCrossArea:function(e,t){var i=[];this.ProcessBoardCell.getVerticalCells(e,t,i),this.ProcessBoardCell.getHorinalCells(e,t,i),this.showCircles(i),this.showPropsArea(i)},showXPropArea:function(e,t){var i=[],o=[],n=[],s=[];this.ProcessBoardCell.getXlist(t,e,i,o,n,s);for(var a=[i,o,n,s],c=0;c<a.length;c++){var l=a[c];this.showCircles(l),this.showPropsArea(l)}},showXXPropArea:function(e,t){var i=[],o=[],n=[],s=[],a=[],c=[];this.ProcessBoardCell.getXXlist(t,e,i,o,n,s,a,c);for(var l=[i,o,n,s,a,c],r=0;r<l.length;r++){var u=l[r];this.showCircles(u),this.showPropsArea(u)}},showTwoVerticals:function(e,t){var i=[];this.ProcessBoardCell.getTwoVertical(e,t,i);for(var o=0;o<i.length;o++){var n=i[o];this.showCircles(n),this.showPropsArea(n)}},showTwoHorinals:function(e,t){var i=[];this.ProcessBoardCell.getTwoHorinal(e,t,i);for(var o=0;o<i.length;o++){var n=i[o];this.showCircles(n),this.showPropsArea(n)}},collectProplist:function(e){for(var t=[],i=0;i<e.length;i++){var o=e[i];o.getComponent("Cell").IsProp()&&-1==t.indexOf(o)&&t.push(o)}return t},showCircles:function(e){for(var t=0;t<e.length;t++){var i=e[t].getComponent("Cell"),o=this.ProcessBoardCell.getSkillCircle(i.column,i.row);if(o){o.active=!0;var n=cc.rotateBy(3,360);o.runAction(cc.repeatForever(n))}}},showSidePropAreas:function(e){for(var t=0;t<e.length;t++){var i=e[t];if(!(this._usedProplist.indexOf(i)>=0)){this._usedProplist.push(i);var o=i.getComponent("Cell"),n=o.celltype,s=o.column,a=o.row;this.showArea(n,s,a)}}},showArea:function(e,t,i){switch(e){case n.HorinalProp:this.showHorinalArea(t,i);break;case n.VerticalProp:this.showVerticalArea(t,i);break;case n.CrossProp:this.showCrossArea(t,i);break;case n.XCrossProp:this.showXPropArea(t,i);break;case n.XXCrossProp:this.showXXPropArea(t,i);break;case n.DiamondBombProp:this.showCircleArea(t,i);break;case n.ClearBombProp:this.showClearBombArea();break;case n.DoubleHorinalProp:this.showTwoHorinals(t,i);break;case n.DoubleVerticalProp:this.showTwoVerticals(t,i)}}}),cc._RF.pop()},{EnumDefine:"EnumDefine",PoolMng:"PoolMng",Utils:"Utils"}],PropHVSkill:[function(e,t,i){"use strict";cc._RF.push(t,"0f2012Tn3xCcKOi4yiPu6v0","PropHVSkill");e("EnumDefine").Direction;var o=e("Utils").TITLE_WIDTH,n=e("Utils").TITLE_HEIGHT,s=e("EnumDefine").RemoveCellEffect,a=e("PoolMng");cc.Class({extends:cc.Component,properties:{boomlineRed:{default:null,type:cc.SpriteFrame},boomlineBlue:{default:null,type:cc.SpriteFrame},boomlineRedSharp:{default:null,type:cc.SpriteFrame}},onLoad:function(){this.Board=this.node.getComponent("Board"),this.RemoveCells=this.node.getComponent("RemoveCells"),this.ProcessBoardCell=this.node.getComponent("ProcessBoardCell"),this.propcnt=0},DoubleHorinals:function(e){var t=this;this.propcnt+=1;var i=e.position,o=[],a=e.getComponent("Cell"),c=a.row,l=a.column;this.ProcessBoardCell.getTwoHorinal(l,c,o);for(var r=0;r<o.length;r++){var u=o[r],h=u.indexOf(e);h>=0&&u.splice(h,1),this.setRemovelistRemoveEffectType(u,s.BombEffect1)}this.Board.removeCell(e),this.spawnBombEffect(i);if(1===o.lenght){var p=cc.v2(0,i.y-n);this.spawnAnygryBomb(p,90)}else if(2==o.length){var d=cc.v2(0,i.y-n);this.spawnAnygryBomb(d,90);var f=cc.v2(0,i.y+n);this.spawnAnygryBomb(f,90)}var m=cc.callFunc(function(){t.propcnt-=1},this),v=cc.callFunc(function(){0==t.propcnt&&t.Board.removeCellsDone()},this),g=[];g.push(m),this.RemoveCells.removelistlist(o,g,v),g.length>=2?this.node.runAction(cc.sequence(g)):(g.push(null),this.node.runAction(cc.sequence(g)))},DoubleVerticals:function(e){var t=this;this.propcnt+=1;var i=e.position,n=[],a=e.getComponent("Cell"),c=a.row,l=a.column;this.ProcessBoardCell.getTwoVertical(l,c,n);for(var r=0;r<n.length;r++){var u=n[r],h=u.indexOf(e);h>=0&&u.splice(h,1),this.setRemovelistRemoveEffectType(u,s.BombEffect1)}this.Board.removeCell(e),this.spawnBombEffect(i);if(1===n.lenght){var p=cc.v2(i.x-o,0);this.spawnAnygryBomb(p,0)}else if(2==n.length){var d=cc.v2(i.x-o,0);this.spawnAnygryBomb(d,0);var f=cc.v2(i.x+o,0);this.spawnAnygryBomb(f,0)}var m=cc.callFunc(function(){t.propcnt-=1},this),v=cc.callFunc(function(){0==t.propcnt&&t.Board.removeCellsDone()},this),g=[];g.push(m),this.RemoveCells.removelistlist(n,g,v),g.length>=2?this.node.runAction(cc.sequence(g)):(g.push(null),this.node.runAction(cc.sequence(g)))},HorinalLine:function(e){var t=this;this.propcnt+=1;var i=e.position,o=[],n=e.getComponent("Cell"),a=n.row,c=n.column;this.ProcessBoardCell.getHorinalCells(c,a,o);var l=o.indexOf(e);l>=0&&o.splice(l,1),this.Board.removeCell(e),this.spawnBombEffect(i),this.setRemovelistRemoveEffectType(o,s.BombEffect1);var r=cc.callFunc(function(){t.propcnt-=1},this),u=cc.callFunc(function(){0==t.propcnt&&t.Board.removeCellsDone()},this),h=[];h.push(r),this.RemoveCells.removeHV(c,a,o,h,u,0),h.length>=2?this.node.runAction(cc.sequence(h)):(h.push(null),this.node.runAction(cc.sequence(h)))},VerticalLine:function(e,t){var i=this;this.propcnt+=1;var o=e.position,n=[],a=e.getComponent("Cell"),c=a.column,l=a.row;this.ProcessBoardCell.getVerticalCells(c,l,n);var r=n.indexOf(e);r>=0&&n.splice(r,1),this.Board.removeCell(e),this.spawnBombEffect(o),this.setRemovelistRemoveEffectType(n,s.BombEffect1);var u=cc.callFunc(function(){i.propcnt-=1},this),h=cc.callFunc(function(){0==i.propcnt&&i.Board.removeCellsDone()},this),p=[];p.push(u),this.RemoveCells.removeHV(c,l,n,p,h,1),p.length>=2?this.node.runAction(cc.sequence(p)):(p.push(null),this.node.runAction(cc.sequence(p)))},XCross:function(e){var t=this;this.propcnt+=1;var i=e.position,o=[],n=[],a=[],c=[],l=e.getComponent("Cell"),r=l.row,u=l.column;this.ProcessBoardCell.getXlist(r,u,o,n,a,c);var h=o.indexOf(e);h>=0&&o.splice(h,1),(h=n.indexOf(e))>=0&&n.splice(h,1),(h=a.indexOf(e))>=0&&a.splice(h,1),(h=c.indexOf(e))>=0&&c.splice(h,1),this.Board.removeCell(e);for(var p=[],d=0;d<o.length;d++)p.indexOf(o[d])<0&&p.push(o[d]);for(var f=0;f<n.length;f++)p.indexOf(n[f])<0&&p.push(n[f]);for(var m=0;m<a.length;m++)p.indexOf(a[m])<0&&p.push(a[m]);for(var v=0;v<c.length;v++)p.indexOf(c[v])<0&&p.push(c[v]);this.spawnBombEffect(i),this.setRemovelistRemoveEffectType(p,s.BombEffect1);var g=cc.callFunc(function(){t.propcnt-=1},this),C=cc.callFunc(function(){0==t.propcnt&&t.Board.removeCellsDone()},this),_=[];_.push(g),this.RemoveCells.removeXCross(o,n,a,c,_,C),_.length>=2?this.node.runAction(cc.sequence(_)):(_.push(null),this.node.runAction(cc.sequence(_)))},XXCross:function(e){var t=this;this.propcnt+=1;var i=e.position,o=[],n=[],a=[],c=[],l=[],r=[],u=e.getComponent("Cell"),h=u.row,p=u.column;this.ProcessBoardCell.getXXlist(h,p,o,n,a,c,l,r);var d=o.indexOf(e);d>=0&&o.splice(d,1),(d=n.indexOf(e))>=0&&n.splice(d,1),(d=a.indexOf(e))>=0&&a.splice(d,1),(d=c.indexOf(e))>=0&&c.splice(d,1),(d=l.indexOf(e))>=0&&l.splice(d,1),(d=r.indexOf(e))>=0&&r.splice(d,1),this.Board.removeCell(e),this.spawnBombEffect(i),this.setRemovelistRemoveEffectType(o,s.BombEffect1),this.setRemovelistRemoveEffectType(n,s.BombEffect1),this.setRemovelistRemoveEffectType(a,s.BombEffect1),this.setRemovelistRemoveEffectType(c,s.BombEffect1),this.setRemovelistRemoveEffectType(l,s.BombEffect1),this.setRemovelistRemoveEffectType(r,s.BombEffect1);var f=cc.callFunc(function(){t.propcnt-=1},this),m=cc.callFunc(function(){0==t.propcnt&&t.Board.removeCellsDone()},this),v=[];v.push(f),this.RemoveCells.removeXXCross(o,n,a,c,l,r,v,m),v.length>=2?this.node.runAction(cc.sequence(v)):(v.push(null),this.node.runAction(cc.sequence(v)))},CrossLine:function(e,t){var i=this;this.propcnt+=1;var o=e.position,n=[],a=[],c=e.getComponent("Cell"),l=c.row,r=c.column;this.ProcessBoardCell.getVerticalCells(r,l,a);var u=a.indexOf(e);u>=0&&a.splice(u,1),this.ProcessBoardCell.getHorinalCells(r,l,n),(u=n.indexOf(e))>=0&&n.splice(u,1),this.Board.removeCell(e),this.spawnBombEffect(o),this.setRemovelistRemoveEffectType(n,s.BombEffect1),this.setRemovelistRemoveEffectType(a,s.BombEffect1);var h=cc.callFunc(function(){i.propcnt-=1},this),p=cc.callFunc(function(){0==i.propcnt&&i.Board.removeCellsDone()},this),d=[];d.push(h),this.RemoveCells.removeCross(n,a,d,p),d.length>=2?this.node.runAction(cc.sequence(d)):(d.push(null),this.node.runAction(cc.sequence(d)))},PrismBomb:function(e){var t=this;if(e){this.propcnt+=1;var i=e.position,o=e.getComponent("Cell"),n=o.column,a=o.row,c=[],l=[];this.ProcessBoardCell.getDiamondCells(n,a,c,l);var r=c.indexOf(e);r>=0&&c.splice(r,1),this.Board.removeCell(e),this.setRemovelistRemoveEffectType(c,s.BombEffect1),this.spawnBombEffect(i);var u=cc.callFunc(function(){t.propcnt-=1},this),h=cc.callFunc(function(){0==t.propcnt&&t.Board.removeCellsDone()},this),p=[];p.push(u),this.RemoveCells.removelistlist(l,p,h),p.length>=2?this.node.runAction(cc.sequence(p)):(p.push(null),this.node.runAction(cc.sequence(p)))}},ClearBomb:function(e){var t=this;if(e){this.propcnt+=1;var i=e.position,o=e.getComponent("Cell"),n=o.column,a=o.row,c=[],l=(c=this.ProcessBoardCell.getClearBomblist()).indexOf(e);l>=0&&c.splice(l,1),this.Board.removeCell(e),this.spawnBombEffect(i),this.setRemovelistRemoveEffectType(c,s.BombEffect1);var r=cc.callFunc(function(){t.propcnt-=1},this),u=cc.callFunc(function(){0==t.propcnt&&t.Board.removeCellsDone()},this),h=[];h.push(r),this.RemoveCells.removeClearBomb(n,a,c,h,u),h.length>=2?this.node.runAction(cc.sequence(h)):(h.push(null),this.node.runAction(cc.sequence(h)))}},createRocketV:function(e){},createRocketH:function(e){},SameColorSkill:function(e){var t=this;if(e){var i=this.ProcessBoardCell.randomGetNormalCells(15),o=i.indexOf(e);o>=0&&i.splice(o,1),this.propcnt+=1;for(var n=e.position,s=[],a=function(e){var o=i[e],a=function(){this.RemoveCells.removeOneCell(o)}.bind(t),c=cc.callFunc(function(){t.shootBoomline(o,n,.05,t.boomlineRed,a)},t);s.push(c),s.push(cc.delayTime(.05))},c=0;c<i.length;c++)a(c);s.push(cc.delayTime(.1));var l=cc.callFunc(function(){t.Board.removeCell(e)},this),r=cc.callFunc(function(){t.propcnt-=1,0==t.propcnt&&t.Board.removeCellsDone()},this);s.push(l),s.push(cc.delayTime(.05)),s.push(r),this.node.runAction(cc.sequence(s))}},FlashSkill:function(e){},setRemovelistRemoveEffectType:function(e,t){for(var i=0;i<e.length;i++){var o=e[i];if(o)o.getComponent("Cell").setRemoveCellEffect(t)}},run:function(e,t){var i=this;this.setRemovelistRemoveEffectType(e,s.BombEffect1);var o=cc.callFunc(function(){i.propcnt-=1},this),n=cc.callFunc(function(){0==i.propcnt&&i.Board.removeCellsDone()},this),a=[];a.push(o);this.RemoveCells.removeCells(e,a,n,.05),a.length>=2?this.node.runAction(cc.sequence(a)):(a.push(null),this.node.runAction(cc.sequence(a)))},start:function(){},spawnAnygryBomb:function(e,t){var i=this;cc.loader.loadRes("prefab/angryBombEffect",function(o,n){var s=cc.instantiate(n);s.parent=i.Board.node,s.position=e,s.rotation=t;var a=s.getComponent("PlayAnimation");if(a){a.play(function(){s.destroy()})}})},spawnBombEffect:function(e){var t=a.instance.getBombEffect();if(t){t.parent=this.node,e.x+=44.5,e.y+=37,t.position=e;var i=t.getComponent("PlayAnimation");if(i){i.play(function(){a.instance.putBombEffect(t)})}}},shootBoomline:function(e,t,i,o,n){var s=new cc.Node("");s.addComponent(cc.Sprite).spriteFrame=o,s.parent=e.parent,s.position=t,s.anchorX=.5,s.anchorY=0;var a=e.position;a.x+=e.width/2,a.y+=e.height/2;var c=t.sub(a),l=c.mag(),r=Math.atan2(c.y,c.x),u=-cc.misc.radiansToDegrees(r)-90;s.rotation=u;s.scale=0;var h=s.height,p=0;if(l<h)p=1-1*Math.abs(l-h)/h;else if(l===h)p=0;else if(l>h){p=1+1*Math.abs(l-h)/h}var d=p;d<.5&&(d=.5);var f=cc.callFunc(function(){e.getComponent("Cell").scaleAction()},this),m=cc.callFunc(function(){n&&n()},this),v=cc.scaleTo(i,d,0+p).easing(cc.easeOut(5)),g=cc.sequence(v,f,cc.delayTime(i),m,cc.removeSelf());s.runAction(g)}}),cc._RF.pop()},{EnumDefine:"EnumDefine",PoolMng:"PoolMng",Utils:"Utils"}],RPGManager:[function(e,t,i){"use strict";cc._RF.push(t,"745a1x3XOVHZbz9dU7Lx5w3","RPGManager");e("JsonData");var o=e("EnumDefine").LevelResult,n=e("EnumDefine").CellType,s=e("EnumDefine").ActorType,a=e("Utils"),c=e("LocalStorage"),l=e("PlayFightAudio"),r=e("CameraManager"),u=cc.v2(),h=cc.v2(),p=cc.Class({extends:cc.Component,properties:{boardNode:cc.Node,UI:cc.Node,gameNode:cc.Node,cameraNode:cc.Node,rpgNode:cc.Node,midOneNode:cc.Node,shakeDuration:{default:0}},statics:{instance:null},ctor:function(){this.actorlist=[],this.actorcomlist=[],this.monsterlist=[],this.waveMonsterlist=[],this.waveMonsterIndex=0,this.actorMove=!1,this._moveDt=0,this._moveDelay=1.3,this._moveSpeed=400,this._moveDis=0,this._disVal=1280,this._spawnedOnWave=!1,this.RPGAttack=!1},onLoad:function(){p.instance=this,this.spawnMonster=this.node.getComponent("SpawnMonster"),this.spawnActor=this.node.getComponent("SpawnActor"),this.Game=this.gameNode.getComponent("Game"),this.cameraControl=this.cameraNode.getComponent("CameraControl"),this.anim=this.node.getComponent("cc.Animation"),this.Board=this.boardNode.getComponent("Board"),this.skillUI=this.UI.getComponent("PetSkillUI"),this.stepAward=this.boardNode.getComponent("StepAward"),this._monsterJsonData=null},start:function(){},createRPG:function(){var e=this;cc.loader.loadRes("json/Monster",function(t,i){var o=i.json;if(e._monsterJsonData=o,null!==a.LevelEditorLevelGoles){var n=a.LevelEditorLevelGoles;e.loadDataFromEditor(n),e.spawnActor.spawnActors();var s=cc.v2();e.getActorCenterPos(s),e.spawnOneWaveMonster(s,0)}else{e.loadDataFromXls(),e.spawnActor.spawnActors();var c=cc.v2();e.getActorCenterPos(c),e.spawnOneWaveMonster(c,0)}})},loadDataFromEditor:function(e){var t=e.WaveDatas;if(null!==t)for(var i=0;i<t.length;i++){for(var o=t[i],n=0;n<o.length;n++)for(var s=o[n],a=0;a<this._monsterJsonData.length;a++){var c=this._monsterJsonData[a];if(c.MonsterName===s.MonsterName){s.JsonData=c;break}}o.length>0&&this.waveMonsterlist.push(o)}},loadDataFromXls:function(){var e=a.levelData.WaveEnemyID;";"==e[e.length-1]&&(e=e.substring(0,e.length-1));for(var t=e.split(";"),i=0;i<t.length;i++){var o=t[i].split(":");if(o.length>0){for(var s=[],c=0;c<o.length;c++){var l={};l.MonsterID=o[c],l.addtionCellType=n.UnKnown,l.defenceCellType=n.UnKnown;for(var r=0;r<this._monsterJsonData.length;r++){var u=this._monsterJsonData[r];if(l.MonsterID===u.ID){l.JsonData=u;break}}s.push(l)}s.length>0&&this.waveMonsterlist.push(s)}}},getWorldPos:function(e){var t=e.parent.convertToWorldSpaceAR(e.getPosition());return r.instance.battleCameraNode.getComponent("cc.Camera").getWorldToCameraPoint(t,u),u},bossFightStart:function(){for(var e=0;e<this.actorlist.length;e++){var t=this.actorlist[e].getComponent("RoleMove");t&&t.setMove(!0)}for(var i=0;i<this.monsterlist.length;i++){var o=this.monsterlist[i].getComponent("RoleMove");o&&o.setMove(!0)}(this.Board.setUserInteract(!0),this.midOneNode)&&this.midOneNode.getComponent("MoveCameraShot").setMove(!0)},spawnOneWaveMonster:function(e,t){if(0!==this.waveMonsterlist.length){var i=this.waveMonsterlist.shift();this.node.getComponent("SpawnMonster").spawnOneWave(i,e,t)}},getActorCenterPos:function(e){if(0!==this.actorlist.length){for(var t=this.actorlist,i=0,o=0,n=0;n<t.length;n++){var s=t[n];i+=s.x,o+=s.y}return i/=t.length,o/=t.length,e.x=i,void(e.y=o)}this.spawnActor.getActorCenterPos(e)},addActor:function(e){this.actorlist.push(e);var t=e.getComponent("Actor");this.actorcomlist.push(t)},getActor:function(e){for(var t=this.actorlist,i=0;i<t.length;i++){var o=t[i];if(this.actorcomlist[i].roletype===e)return o}return null},getDamage:function(e){for(var t=10,i=this.actorlist,o=0;o<i.length;o++){var a=i[o].getComponent("Actor");switch(a.roletype){case s.Actor1:if(e===n.Cell1)return t=a.getAttack(e);break;case s.Actor2:if(e===n.Cell2)return t=a.getAttack(e);break;case s.Actor3:if(e===n.Cell3)return t=a.getAttack(e);break;case s.Actor4:if(e===n.Cell4)return t=a.getAttack(e);break;case s.Actor5:if(e===n.Cell5)return t=a.getAttack(e)}}return t},allWaveDone:function(){var e=!1;0===this.waveMonsterlist.length&&(0===this.monsterlist.length&&(e=!0));return e},oneWaveDone:function(){return 0===this.monsterlist.length},addMonster:function(e,t){this.monsterlist.splice(t,0,e)},getMonster:function(){var e=null;return this.monsterlist.length>0&&(e=this.monsterlist[0]),e},removeMonster:function(e){for(var t=this,i=this.monsterlist,o=0;o<i.length;o++)if(i[o]===e){i.splice(o,1);break}if(0===i.length)this.Game.updateWave(1);else for(var n=0;n<this.actorlist.length;n++){var s=this.actorlist[n],a=cc.moveBy(1,cc.v2(180,0)).easing(cc.easeOut(1)),c=cc.callFunc(function(){var e=t.monsterlist[0],i=cc.scaleTo(.2,1).easing(cc.easeOut(3));e.runAction(cc.sequence(i,null))},this);s.runAction(cc.sequence(a,c))}},fire:function(e){for(var t=e.length,i=0;i<t;i++)for(var o=e[i],n=this.actorlist,s=0;s<n.length;s++){var a=this.actorcomlist[s];if(o===a.roletype){a.pushCell(o),e.splice(i--,1);break}}this.RPGAttack=!0;for(var c=this.actorcomlist,l=0;l<c.length;l++){c[l].fire()}},fireOver:function(){if(this.skillUI.hideAllSkill(),this.RPGAttack){for(var e=!0,t=0;t<this.actorcomlist.length;t++){if(this.actorcomlist[t].IsAttack()){e=!1;break}}if(e){var i=this.getMonster();if(i)i.getComponent("Monster").showBlood(!1);this.RPGAttack=!1;var o=function(){this.monsterTripSkill()}.bind(this);this.Board.cellsAttackDone(o)}}},monsterTripSkill:function(){var e=function(){this.tripPetsSkill()}.bind(this);if(this.monsterlist.length>0){var t=this.monsterlist[0].getComponent("MonsterSkill");t&&(t.IsHaveSkill()?t.checkSkill(e):e())}else e()},tripPetsSkill:function(){var e=function(e){this.tripHeroesSkill()}.bind(this);this.skillUI.tripPetSkills(e)},tripHeroesSkill:function(){for(var e=this,t=.1,i=0,o=0;o<this.actorcomlist.length;o++){var n=this.actorcomlist[o],s=n.roletype;this.skillUI.tripHeroSkill(s)&&(t=.2,i=n.tripSkill(t))}var a=cc.callFunc(function(){e.allFireDone()},this);this.node.runAction(cc.sequence(cc.delayTime(t+i+.1),a))},bossTimeOver:function(){this.Board.actionDone()&&this.timeUp()},allFireDone:function(){switch(this.Game.showCombo("",!1),this.Game.checkResult()){case o.Win:this.Board.openUIMask(),this.Board.setUserInteract(!1),this.procssStepAward(),this.Game.stopAudio(),l.instance.playWow();break;case o.TimeUp:this.timeUp();break;case o.Lose:this.loadAddStep(),this.Board.openUIMask(),this.Board.setUserInteract(!1),this.Game.stopAudio(),l.instance.playGamelose();break;case o.Fighting:this.allWaveDone()?(this.Board.openUIMask(),this.Board.setUserInteract(!0)):this.oneWaveDone()?this.startMove():(this.Board.openUIMask(),this.Board.setUserInteract(!0))}},timeUp:function(){this.loadAddTime(),this.Board.openUIMask(),this.Board.setUserInteract(!1),this.Game.stopAudio(),l.instance.playGamelose()},startMove:function(){if(this.actorMove=!0,this._moveDt=0,this.cameraControl.zoomOut(),this.midOneNode){var e=this.midOneNode.getComponent("MoveCameraShot");e.setMove(!0),e.zoomOut()}},stopMove:function(){this.actorMove=!1;var e=function(){this.actorMove=!1,this._spawnedOnWave=!1,this.Board.openUIMask(),this.Board.setUserInteract(!0)}.bind(this);if(this.cameraControl.zoomIn(e),this.midOneNode){var t=this.midOneNode.getComponent("MoveCameraShot");t.setMove(!1),t.zoomIn()}},moveUpdate:function(e){if(this.actorMove){if(!this._spawnedOnWave){var t=cc.v2();p.instance.getActorCenterPos(t),this.spawnOneWaveMonster(t,this._disVal),this._spawnedOnWave=!0}if(this._moveDt+=e,this._moveDt>=.01){this._moveDt=0;for(var i=0;i<this.actorlist.length;i++){this.actorlist[i].x+=5}this._moveDis+=5}if(this._moveDis>=this._disVal){this.moveDt=0,this._moveDis=0;var o=cc.v2();p.instance.getActorCenterPos(o),this.stopMove()}}},update:function(e){this.moveUpdate(e)},shake:function(){this.anim.play("shake"),this.scheduleOnce(this.stopShake.bind(this),this.shakeDuration),this.node.position=cc.v2(0,0)},stopShake:function(){this.anim.stop()},procssStepAward:function(){var e=this.Game.getSteps(),t=a.levelID;if(a.levelResultData.score=100*e,c.instance.getLevelStepAward(t))this.win();else{var i=function(){this.stepAward.shootSteps(e),c.instance.setLevelStepAward(t,!0)}.bind(this);this.Board.cellsBonustime(i,1)}},bossLose:function(){this.Board.timeUp(),l.instance.playTimeUp(),a.levelResultData.levelResult=o.Lose;var e=cc.director.getScene()._children[0],t=cc.callFunc(function(){cc.loader.loadRes("prefab/AchievementUI",function(t,i){var o=cc.instantiate(i);o&&(o.parent=e,o.position=cc.v2(0,0),o.zIndex=100,o.group="UI",o.opacity=0,o.runAction(cc.fadeIn(1)))})},this),i=cc.delayTime(1),n=cc.spawn(cc.delayTime(.2),t);e.runAction(cc.sequence(i,n,null))},loadAddTime:function(){var e=function(){var e=cc.director.getScene()._children[0];cc.loader.loadRes("prefab/AddTime",function(t,i){var o=cc.instantiate(i);o&&(o.parent=e,o.active=!0)})}.bind(this);this.Board.timeUp(e)},loadAddStep:function(){var e=function(){var e=cc.director.getScene()._children[0];cc.loader.loadRes("prefab/AddStep",function(t,i){var o=cc.instantiate(i);o&&(o.parent=e,o.active=!0)})}.bind(this);this.Board.timeUp(e)},addStepSuccess:function(e){var t=function(){this.Game.playAudio(),this.Game.updateStep(e),this.Board.openUIMask(),this.Board.setUserInteract(!0)}.bind(this);this.Board.cellsIdle(t,.6)},addBossTime:function(e){var t=function(){this.Game.playAudio(),this.Game.addBossTime(e),this.Board.openUIMask(),this.Board.setUserInteract(!0)}.bind(this);this.Board.cellsIdle(t,.6)},lose:function(){var e=function(){a.levelResultData.levelResult=o.Lose;var e=cc.director.getScene()._children[0],t=cc.callFunc(function(){cc.loader.loadRes("prefab/AchievementUI",function(t,i){var o=cc.instantiate(i);o&&(o.parent=e,o.position=cc.v2(0,0),o.zIndex=10,o.group="UI")})},this),i=cc.delayTime(.4),n=cc.spawn(cc.delayTime(0),t);e.runAction(cc.sequence(i,n,null))}.bind(this);this.Board.cellsCrazy(e,1)},win:function(){var e=function(){var e=a.levelResultData;e.levelResult=o.Win,this.transfromScene(e),this.cameraControl.zoomOut()}.bind(this);this.Board.cellsReady(e,1)},transfromScene:function(e){(this.actorMove=!0,this._moveDt=0,this._moveDelay=5,this._moveSpeed=this._moveSpeed+60,this.cameraControl.zoomOut(),this.midOneNode)&&this.midOneNode.getComponent("MoveCameraShot").setMove(!0);var t=cc.director.getScene()._children[0],i=cc.callFunc(function(){cc.loader.loadRes("prefab/AchievementUI",function(e,i){var o=cc.instantiate(i);o&&(o.parent=t,o.position=cc.v2(0,0),o.zIndex=100,o.group="UI")})},this),o=cc.delayTime(2),n=cc.spawn(cc.delayTime(.2),i);t.runAction(cc.sequence(o,n,null))},getOverviewTargetsMidpoint:function(e,t){cc.v2(0,0);for(var i=99999,o=99999,n=-99999,s=-99999,a=0;a<this.actorlist.length;++a){var c=this.actorlist[a];n=c.x>n?c.x:n,i=c.x<i?c.x:i,s=c.y>s?c.y:s,o=c.y<o?c.y:o}h.x=0,h.y=0,p.instance.getActorCenterPos(h),h.x+=370,n=h.x>n?h.x:n,i=h.x<i?h.x:i,s=h.y>s?h.y:s,o=h.y<o?h.y:o,n+=e,i-=e,s+=e,o-=e;var l=Math.abs(n-i),r=Math.abs(s-o);return cc.v2(i+l/2,o+r/2)},getTargetMidPoint:function(){return h.x=0,h.y=0,p.instance.getActorCenterPos(h),h.x+=150,h}});cc._RF.pop()},{CameraManager:"CameraManager",EnumDefine:"EnumDefine",JsonData:"JsonData",LocalStorage:"LocalStorage",PlayFightAudio:"PlayFightAudio",Utils:"Utils"}],RPG:[function(e,t,i){"use strict";cc._RF.push(t,"aa2b1sWbvBNR5HG9MRhsVcZ","RPG"),cc.Class({extends:cc.Component,properties:{gameNode:cc.Node},onLoad:function(){this.spawnMonster=this.node.getComponent("SpawnMonster"),this.spawnActor=this.node.getComponent("SpawnActor"),this.spawnActor.spawnActors(),this.Game=this.gameNode.getComponent("Game")},start:function(){}}),cc._RF.pop()},{}],RemoveCells:[function(e,t,i){"use strict";cc._RF.push(t,"3db16SFTfZJYaYidNaqgAFL","RemoveCells");var o=e("EnumDefine").CellType,n=(e("EnumDefine").Direction,e("Game")),s=e("Utils").NUMROWS;e("Utils").NUMCOLUMNS;cc.Class({extends:cc.Component,properties:{},ctor:function(){this._unUsedproplist=[],this._usedProplist=[]},onLoad:function(){this.Board=this.node.getComponent("Board"),this.DropCell=this.node.getComponent("DropCell"),this.CellAttack=this.node.getComponent("CellAttack"),this.PropHVSkill=this.node.getComponent("PropHVSkill"),this.processBoardCell=this.node.getComponent("ProcessBoardCell")},start:function(){},reset:function(){this._usedProplist.length=0,this._unUsedproplist.length=0},pushProplist:function(e){e.length>0&&this._unUsedproplist.push(e)},runCelllist:function(e,t){for(var i=this,o=[],n=function(n){var s=e[n],a=cc.callFunc(function(){i.removeOneCell(s)},i);o.push(a),o.push(cc.delayTime(t))},s=0;s<e.length;s++)n(s);o.length>0&&this.node.runAction(cc.sequence(o))},removelistlist:function(e,t,i){for(var o=this,s=[],a=0,c=0;c<e.length;c++){var l=e[c],r=[];this.collectProplist(l,r),s.push(r),a+=r.length}for(var u=0,h=0;h<s.length;h++){var p=s[h];u=u<.05*p.length?.05*p.length:u}var d=cc.callFunc(function(){for(var e=0;e<s.length;e++){var t=s[e];o.runCelllist(t,.05)}},this);if(t.push(d),t.push(cc.delayTime(u)),n.instance.updateRemoveCells(a),this._unUsedproplist.length>0){var f=cc.callFunc(function(){o.processProplist()},this);t.push(f)}else{t.push(cc.delayTime(.2)),t.push(i)}},removeXXCross:function(e,t,i,o,s,a,c,l){var r=this,u=[],h=[],p=[],d=[],f=[],m=[];this.collectProplist(e,u),this.collectProplist(t,h),this.collectProplist(i,p),this.collectProplist(o,d),this.collectProplist(s,f),this.collectProplist(a,m);var v=0;v=(v=(v=(v=(v=(v=v<.2*u.length?.2*u.length:v)<.2*h.length?.2*h.length:v)<.2*p.length?.2*p.length:v)<.2*d.length?.2*d.length:v)<.2*f.length?.2*f.length:v)<.2*m.length?.2*m.length:v;var g=cc.callFunc(function(){r.runCelllist(u,.2),r.runCelllist(h,.2),r.runCelllist(p,.2),r.runCelllist(d,.2),r.runCelllist(f,.2),r.runCelllist(m,.2)},this);c.push(g),c.push(cc.delayTime(v));var C=u.length+h.length+p.length+d.length+f.length+m.length;if(n.instance.updateRemoveCells(C),this._unUsedproplist.length>0){var _=cc.callFunc(function(){r.processProplist()},this);c.push(_)}else{c.push(cc.delayTime(.2)),c.push(l)}},removeXCross:function(e,t,i,o,s,a){var c=this,l=[],r=[],u=[],h=[];this.collectProplist(e,l),this.collectProplist(t,r),this.collectProplist(i,u),this.collectProplist(o,h);var p=0;p=(p=(p=(p=p<.2*l.length?.2*l.length:p)<.2*r.length?.2*r.length:p)<.2*u.length?.2*u.length:p)<.2*h.length?.2*h.length:p;var d=cc.callFunc(function(){c.runCelllist(l,.2),c.runCelllist(r,.2),c.runCelllist(u,.2),c.runCelllist(h,.2)},this);s.push(d),s.push(cc.delayTime(p));var f=l.length+r.length+u.length+h.length;if(n.instance.updateRemoveCells(f),this._unUsedproplist.length>0){var m=cc.callFunc(function(){c.processProplist()},this);s.push(m)}else{s.push(cc.delayTime(.2)),s.push(a)}},removeCross:function(e,t,i,o){var s=this,a=[],c=[];this.collectProplist(e,a),this.collectProplist(t,c);var l=0;l=(l=l<.2*a.length?.2*a.length:l)<.2*c.length?.2*c.length:l;var r=cc.callFunc(function(){s.runCelllist(a,.2),s.runCelllist(c,.2)},this);i.push(r),i.push(cc.delayTime(l));var u=a.length+c.length;if(n.instance.updateRemoveCells(u),this._unUsedproplist.length>0){var h=cc.callFunc(function(){s.processProplist()},this);i.push(h)}else{i.push(cc.delayTime(.2)),i.push(o)}},removeHV:function(e,t,i,o,s,a){var c=this,l=[],r=[],u=[];this.collectProplist(i,l);for(var h=0;h<l.length;h++){var p=l[h],d=p.getComponent("Cell");0===a?d.column<e?r.push(p):u.push(p):d.row<t?r.push(p):u.push(p)}for(var f=Math.min(r.length,u.length),m=0,v=function(){var e=r[m],t=u[m],i=cc.callFunc(function(){c.removeOneCell(e),c.removeOneCell(t)},c);o.push(i),o.push(cc.delayTime(.2))};m<f;m++)v();for(var g=function(){var e=r[m],t=cc.callFunc(function(){c.removeOneCell(e)},c);o.push(t),o.push(cc.delayTime(.2))};m<r.length;m++)g();for(var C=function(){var e=u[m],t=cc.callFunc(function(){c.removeOneCell(e)},c);o.push(t),o.push(cc.delayTime(.2))};m<u.length;m++)C();var _=l.length;if(n.instance.updateRemoveCells(_),this._unUsedproplist.length>0){var b=cc.callFunc(function(){c.processProplist()},this);o.push(b)}else{o.push(cc.delayTime(.2)),o.push(s)}},removeClearBomb:function(e,t,i,o,a){var c=this,l=[],r=[],u=[];this.collectProplist(i,l);for(var h=t;h<s;h++){for(var p=[],d=0;d<l.length;d++){var f=l[d];f.getComponent("Cell").row===h&&p.push(f)}p.length>0&&r.push(p)}for(var m=t-1;m>=0;m--){for(var v=[],g=0;g<l.length;g++){var C=l[g];C.getComponent("Cell").row===m&&v.push(C)}v.length>0&&u.push(v)}for(var _=Math.min(r.length,u.length),b=0,S=function(){var e=r[b],t=u[b],i=cc.callFunc(function(){for(var i=0;i<e.length;i++){var o=e[i];c.removeOneCell(o)}for(var n=0;n<t.length;n++){var s=t[n];c.removeOneCell(s)}},c);o.push(i),o.push(cc.delayTime(.2))};b<_;b++)S();for(var y=function(){var e=u[b],t=cc.callFunc(function(){for(var t=0;t<e.length;t++){var i=e[t];c.removeOneCell(i)}},c);o.push(t),o.push(cc.delayTime(.2))};b<u.length;b++)y();for(var k=function(){var e=r[b],t=cc.callFunc(function(){for(var t=0;t<e.length;t++){var i=e[t];c.removeOneCell(i)}},c);o.push(t),o.push(cc.delayTime(.2))};b<r.length;b++)k();var B=l.length;if(n.instance.updateRemoveCells(B),this._unUsedproplist.length>0){var w=cc.callFunc(function(){c.processProplist()},this);o.push(w)}else{o.push(cc.delayTime(.2)),o.push(a)}},removeCells:function(e,t,i){var o=this,s=[];this.collectProplist(e,s);for(var a=0;a<s.length;a++){var c=s[a],l=cc.callFunc(this.removeOneCell.bind(this,c));t.push(l),t.push(cc.delayTime(.1))}var r=s.length;if(n.instance.updateRemoveCells(r),this._unUsedproplist.length>0){var u=cc.callFunc(function(){o.processProplist()},this);t.push(u)}else{t.push(cc.delayTime(.2)),t.push(i)}},processProplist:function(){if(this._unUsedproplist.length>0){var e=this._unUsedproplist.shift();this._usedProplist.push(e);for(var t=0;t<e.length;t++){var i=e[t],s=i.getComponent("Cell").celltype;switch(n.instance.updateCell(s,1),s){case o.HorinalProp:this.PropHVSkill.HorinalLine(i);break;case o.VerticalProp:this.PropHVSkill.VerticalLine(i);break;case o.DiamondBombProp:this.PropHVSkill.PrismBomb(i);break;case o.CrossProp:this.PropHVSkill.CrossLine(i);break;case o.XCrossProp:this.PropHVSkill.XCross(i);break;case o.XXCrossProp:this.PropHVSkill.XXCross(i);break;case o.ClearBombProp:this.PropHVSkill.ClearBomb(i);break;case o.SameColorProp:this.PropHVSkill.SameColorSkill(i);break;case o.DoubleHorinalProp:this.PropHVSkill.DoubleHorinals(i);break;case o.DoubleVerticalProp:this.PropHVSkill.DoubleVerticals(i);break;case o.FlashProp:case o.CoverOneColorProp:case o.CircleBombProp:}}}},removeOneCell:function(e){this.CellAttack.hurt(e)},collectProplist:function(e,t){for(var i=[],o=0;o<e.length;o++){var n=e[o],s=n.getComponent("Cell");s.IsProp()?-1==i.indexOf(n)&&i.push(n):s.canRemove()&&-1==t.indexOf(n)&&t.push(n)}if(i.length>0){for(var a=[],c=0;c<i.length;c++){var l,r,u=i[c];l=this.checkIsInlist(u,this._unUsedproplist),r=this.checkIsInlist(u,this._usedProplist),l||r||a.push(u)}a.length>0&&this._unUsedproplist.push(a)}},checkIsInlist:function(e,t){for(var i=!1,o=0;o<t.length;o++){if(t[o].indexOf(e)>=0){i=!0;break}}return i}}),cc._RF.pop()},{EnumDefine:"EnumDefine",Game:"Game",Utils:"Utils"}],Rocket:[function(e,t,i){"use strict";cc._RF.push(t,"01040G+qUdPDo9pOhbsl5dS","Rocket");var o=e("EnumDefine").Direction,n=(e("Utils"),e("Utils").NUMROWS),s=e("Utils").NUMCOLUMNS,a=e("Utils").TITLE_WIDTH,c=e("Utils").TITLE_HEIGHT;cc.Class({extends:cc.Component,properties:{},start:function(){},runlist:function(e){for(var t=[],i=0;i<e.length;i++){var o=e[i];cc.callFunc(function(){},this);t.push(o.position)}var n=.05*e.length,s=cc.cardinalSplineTo(n,t,0),a=cc.sequence(s,cc.removeSelf());this.node.runAction(a)},run:function(e){var t=0,i=(this.node.position,cc.v2());e==o.kHorinal?(i.x=a*s,i.y=0,t=.05*s):(i.x=0,i.y=c*n,t=.05*n);var l=cc.moveBy(t,i),r=cc.sequence(l,cc.removeSelf());this.node.runAction(r)}}),cc._RF.pop()},{EnumDefine:"EnumDefine",Utils:"Utils"}],RoleBattleGuide:[function(e,t,i){"use strict";cc._RF.push(t,"2eb3euClW1NUKlaERHYQ1SE","RoleBattleGuide");var o=e("Board");cc.Class({extends:cc.Component,properties:{},onLoad:function(){var e=this;this.guideDone=!1;var t=cc.callFunc(function(){e.guideDone=!0},this);this.node.runAction(cc.sequence(cc.delayTime(1),t)),this.registerTouch()},start:function(){},registerTouch:function(){var e=this;e.node.on(cc.Node.EventType.TOUCH_START,function(t){e.touchBegin(t)},e),e.node.on(cc.Node.EventType.TOUCH_END,function(t){e.touchEnd(t)},e)},touchBegin:function(e){},touchEnd:function(e){this.guideDone&&(o.instance.drawGuideline(),this.node.removeFromParent())}}),cc._RF.pop()},{Board:"Board"}],RoleMove:[function(e,t,i){"use strict";cc._RF.push(t,"afff3C+RUhMg47hRzWHIhoF","RoleMove");e("RPGManager");var o=e("Game"),n=cc.v2(0,0);cc.Class({extends:cc.Component,properties:{},onLoad:function(){this._movedt=0,this._moveDelay=.01,this._moveUnitVal=15,this.canMove=!1,this.prevPos=cc.v2(),this.walkDis=0},start:function(){},setMove:function(e){this.canMove=e},move:function(e){n.x=this.node.position.x,n.y=this.node.position.y,n.x+=this._moveUnitVal,this.prevPos=this.node.position,this.node.position=this.node.position.lerp(n,.2),this.walkDis+=this.node.position.x-this.prevPos.x,this.walkDis>=100&&(this.walkDis=0,o.instance.updateBossRoad(1e-4))},update:function(e){this.canMove&&this.move(e)}}),cc._RF.pop()},{Game:"Game",RPGManager:"RPGManager"}],Set:[function(e,t,i){"use strict";cc._RF.push(t,"97dfcLTxp9OSoVFKbCcNtjq","Set");e("JsonData");var o=e("LocalStorage");e("EnumDefine").ActorType,e("Utils");cc.Class({extends:cc.Component,properties:{music:cc.Node,sound:cc.Node,musicNormalSpriteFrame:cc.SpriteFrame,musicDisaleSpriteFrame:cc.SpriteFrame,soundNormalSpriteFrame:cc.SpriteFrame,soundDisableSpriteFrame:cc.SpriteFrame},onLoad:function(){},show:function(e){var t=cc.moveTo(.2,cc.v2(0,133)).easing(cc.easeBounceInOut());this.sound.runAction(t),t=cc.moveTo(.2,cc.v2(0,50)).easing(cc.easeBounceInOut()),this.music.runAction(cc.sequence(cc.delayTime(.05),t));var i=o.instance.getSetData();this.data=i;var n=i.musicOnOff,s=i.soundOnOff;this.processMusic(n),this.processSound(s);var a=cc.callFunc(function(){e&&e()},this);this.node.runAction(cc.sequence(cc.delayTime(.25),a))},hide:function(e){var t=cc.moveTo(.2,cc.v2(0,-37)).easing(cc.easeBounceInOut());this.sound.runAction(cc.sequence(cc.delayTime(.05),t)),t=cc.moveTo(.2,cc.v2(0,-50)).easing(cc.easeBounceInOut()),this.music.runAction(cc.sequence(cc.delayTime(.01),t));var i=cc.callFunc(function(){e&&e()},this);this.node.runAction(cc.sequence(cc.delayTime(.25),i,cc.removeSelf()))},processMusic:function(e){var t=this.music.getComponent("cc.Sprite");t.spriteFrame=e?this.musicNormalSpriteFrame:this.musicDisaleSpriteFrame},processSound:function(e){var t=this.sound.getComponent("cc.Sprite");t.spriteFrame=e?this.soundNormalSpriteFrame:this.soundDisableSpriteFrame},musciBtn:function(e){var t=this.data.musicOnOff;t=!t,this.data.musicOnOff=t,this.processMusic(t)},soundBtn:function(e){var t=this.data.soundOnOff;t=!t,this.data.soundOnOff=t,this.processSound(t)},onDisale:function(){o.instance.setSetData(this.data)},start:function(){}}),cc._RF.pop()},{EnumDefine:"EnumDefine",JsonData:"JsonData",LocalStorage:"LocalStorage",Utils:"Utils"}],ShaderComponent:[function(e,t,i){"use strict";cc._RF.push(t,"dbe38Eu9bZCbJeHFtq3EVSq","ShaderComponent"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("./ShaderManager"),n=cc._decorator,s=n.ccclass,a=n.property,c=n.requireComponent,l=n.executeInEditMode,r=[o.ShaderType.Fluxay,o.ShaderType.FluxaySuper],u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._shader=o.ShaderType.Default,t._color=cc.color(),t._start=0,t}return __extends(t,e),Object.defineProperty(t.prototype,"shader",{get:function(){return this._shader},set:function(e){this._shader=e,this._applyShader()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"material",{get:function(){return this._material},enumerable:!0,configurable:!0}),t.prototype.start=function(){this.getComponent(cc.Sprite).setState(0),this._applyShader()},t.prototype.update=function(e){this._material&&(this._setShaderColor(),this._setShaderTime(e))},t.prototype._applyShader=function(){var e=this._shader,t=this.getComponent(cc.Sprite),i=o.default.useShader(t,e);this._material=i,this._start=0;var n=this._color;if(n.setR(255),n.setG(255),n.setB(255),n.setA(255),i){switch(e){case o.ShaderType.Blur:case o.ShaderType.GaussBlur:i.setNum(.03)}this._setShaderColor()}},t.prototype._setShaderColor=function(){var e=this.node,t=e.color,i=this._color,o=t.getR(),n=t.getG(),s=t.getB(),a=e.opacity,c=!1;i.getR()!==o&&(i.setR(o),c=!0),i.getG()!==n&&(i.setG(n),c=!0),i.getB()!==s&&(i.setB(s),c=!0),i.getA()!==a&&(i.setA(a),c=!0),c&&this._material.setColor(o/255,n/255,s/255,a/255)},t.prototype._setShaderTime=function(e){if(r.indexOf(this._shader)>=0){var t=this._start;t>65535&&(t=0),t+=e,this._material.setTime(t),this._start=t}},__decorate([a({type:cc.Enum(o.ShaderType),visible:!1})],t.prototype,"_shader",void 0),__decorate([a({type:cc.Enum(o.ShaderType)})],t.prototype,"shader",null),t=__decorate([s,l,c(cc.Sprite)],t)}(cc.Component);i.default=u,cc._RF.pop()},{"./ShaderManager":"ShaderManager"}],ShaderLab:[function(e,t,i){"use strict";cc._RF.push(t,"463d9mDMEBPfaKBF4qNZ0aY","ShaderLab"),Object.defineProperty(i,"__esModule",{value:!0});var o="\nuniform mat4 viewProj;\nattribute vec3 a_position;\nattribute vec2 a_uv0;\nvarying vec2 uv0;\nvoid main () {\n    vec4 pos = viewProj * vec4(a_position, 1);\n    gl_Position = pos;\n    uv0 = a_uv0;\n}",n={GrayScaling:{vert:o,frag:"\nuniform sampler2D texture;\nuniform vec4 color;\nvarying vec2 uv0;\nvoid main () {\n    vec4 c = color * texture2D(texture, uv0);\n    float gray = dot(c.rgb, vec3(0.299 * 0.5, 0.587 * 0.5, 0.114 * 0.5));\n    gl_FragColor = vec4(gray, gray, gray, c.a * 0.5);\n}\n"},Stone:{vert:o,frag:"\nuniform sampler2D texture;\nuniform vec4 color;\nvarying vec2 uv0;\nvoid main () {\n    vec4 c = color * texture2D(texture, uv0);\n    float clrbright = (c.r + c.g + c.b) * (1. / 3.);\n    float gray = (0.6) * clrbright;\n    gl_FragColor = vec4(gray, gray, gray, c.a);\n}\n"},Ice:{vert:o,frag:"\nuniform sampler2D texture;\nuniform vec4 color;\nvarying vec2 uv0;\nvoid main () {\n    vec4 clrx = color * texture2D(texture, uv0);\n    float brightness = (clrx.r + clrx.g + clrx.b) * (1. / 3.);\n\tfloat gray = (1.5)*brightness;\n\tclrx = vec4(gray, gray, gray, clrx.a)*vec4(0.8,1.2,1.5,1);\n    gl_FragColor =clrx;\n}\n"},Frozen:{vert:o,frag:"\nuniform sampler2D texture;\nuniform vec4 color;\nvarying vec2 uv0;\nvoid main () {\n    vec4 c = color * texture2D(texture, uv0);\n    c *= vec4(0.8, 1, 0.8, 1);\n\tc.b += c.a * 0.2;\n    gl_FragColor = c;\n}\n"},Mirror:{vert:o,frag:"\nuniform sampler2D texture;\nuniform vec4 color;\nvarying vec2 uv0;\nvoid main () {\n    vec4 c = color * texture2D(texture, uv0);\n    c.r *= 0.5;\n    c.g *= 0.8;\n    c.b += c.a * 0.2;\n    gl_FragColor = c;\n}\n"},Poison:{vert:o,frag:"\nuniform sampler2D texture;\nuniform vec4 color;\nvarying vec2 uv0;\nvoid main () {\n    vec4 c = color * texture2D(texture, uv0);\n    c.r *= 0.8;\n\tc.r += 0.08 * c.a;\n\tc.g *= 0.8;\n    c.g += 0.2 * c.a;\n\tc.b *= 0.8;\n    gl_FragColor = c;\n}\n"},Banish:{vert:o,frag:"\nuniform sampler2D texture;\nuniform vec4 color;\nvarying vec2 uv0;\nvoid main () {\n    vec4 c = color * texture2D(texture, uv0);\n    float gg = (c.r + c.g + c.b) * (1.0 / 3.0);\n    c.r = gg * 0.9;\n    c.g = gg * 1.2;\n    c.b = gg * 0.8;\n    c.a *= (gg + 0.1);\n    gl_FragColor = c;\n}\n"},Vanish:{vert:o,frag:"\nuniform sampler2D texture;\nuniform vec4 color;\nvarying vec2 uv0;\nvoid main () {\n    vec4 c = color * texture2D(texture, uv0);\n    float gray = (c.r + c.g + c.b) * (1. / 3.);\n    float rgb = gray * 0.8;\n    gl_FragColor = vec4(rgb, rgb, rgb, c.a * (gray + 0.1));\n}\n"},Invisible:{vert:o,frag:"\nvoid main () {\n    gl_FragColor = vec4(0,0,0,0);\n}\n"},Blur:{vert:o,frag:"\nuniform sampler2D texture;\nuniform vec4 color;\nuniform float num;\nvarying vec2 uv0;\nvoid main () {\n    vec4 sum = vec4(0.0);\n    vec2 size = vec2(num,num);\n    sum += texture2D(texture, uv0 - 0.4 * size) * 0.05;\n\tsum += texture2D(texture, uv0 - 0.3 * size) * 0.09;\n\tsum += texture2D(texture, uv0 - 0.2 * size) * 0.12;\n\tsum += texture2D(texture, uv0 - 0.1 * size) * 0.15;\n\tsum += texture2D(texture, uv0             ) * 0.16;\n\tsum += texture2D(texture, uv0 + 0.1 * size) * 0.15;\n\tsum += texture2D(texture, uv0 + 0.2 * size) * 0.12;\n\tsum += texture2D(texture, uv0 + 0.3 * size) * 0.09;\n    sum += texture2D(texture, uv0 + 0.4 * size) * 0.05;\n    \n    vec4 vectemp = vec4(0,0,0,0);\n    vec4 substract = vec4(0,0,0,0);\n    vectemp = (sum - substract) * color;\n\n    float alpha = texture2D(texture, uv0).a;\n    if(alpha < 0.05) { gl_FragColor = vec4(0 , 0 , 0 , 0); }\n\telse { gl_FragColor = vectemp; }\n}\n"},GaussBlur:{vert:o,frag:"\n#define repeats 5.\nuniform sampler2D texture;\nuniform vec4 color;\nuniform float num;\nvarying vec2 uv0;\n\nvec4 draw(vec2 uv) {\n    return color * texture2D(texture,uv).rgba; \n}\nfloat grid(float var, float size) {\n    return floor(var*size)/size;\n}\nfloat rand(vec2 co){\n    return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\nvoid main()\n{\n    vec4 blurred_image = vec4(0.);\n    for (float i = 0.; i < repeats; i++) { \n        vec2 q = vec2(cos(degrees((i/repeats)*360.)),sin(degrees((i/repeats)*360.))) * (rand(vec2(i,uv0.x+uv0.y))+num); \n        vec2 uv2 = uv0+(q*num);\n        blurred_image += draw(uv2)/2.;\n        q = vec2(cos(degrees((i/repeats)*360.)),sin(degrees((i/repeats)*360.))) * (rand(vec2(i+2.,uv0.x+uv0.y+24.))+num); \n        uv2 = uv0+(q*num);\n        blurred_image += draw(uv2)/2.;\n    }\n    blurred_image /= repeats;\n    gl_FragColor = vec4(blurred_image);\n}\n"},Dissolve:{vert:o,frag:"\nuniform sampler2D texture;\nuniform vec4 color;\nuniform float time;\nvarying vec2 uv0;\n\nvoid main()\n{\n    vec4 c = color * texture2D(texture,uv0);\n    float height = c.r;\n    if(height < time)\n    {\n        discard;\n    }\n    if(height < time+0.04)\n    {\n        // \u6eb6\u89e3\u989c\u8272\uff0c\u53ef\u4ee5\u81ea\u5b9a\u4e49\n        c = vec4(.9,.6,0.3,c.a);\n    }\n    gl_FragColor = c;\n}\n"},Fluxay:{vert:o,frag:"\nuniform sampler2D texture;\nuniform vec4 color;\nuniform float time;\nvarying vec2 uv0;\n\nvoid main()\n{\n    vec4 src_color = color * texture2D(texture, uv0).rgba;\n\n    float width = 0.08;       //\u6d41\u5149\u7684\u5bbd\u5ea6\u8303\u56f4 (\u8c03\u6574\u8be5\u503c\u6539\u53d8\u6d41\u5149\u7684\u5bbd\u5ea6)\n    float start = tan(time/1.414);  //\u6d41\u5149\u7684\u8d77\u59cbx\u5750\u6807\n    float strength = 0.008;   //\u6d41\u5149\u589e\u4eae\u5f3a\u5ea6   (\u8c03\u6574\u8be5\u503c\u6539\u53d8\u6d41\u5149\u7684\u589e\u4eae\u5f3a\u5ea6)\n    float offset = 0.5;      //\u504f\u79fb\u503c         (\u8c03\u6574\u8be5\u503c\u6539\u53d8\u6d41\u5149\u7684\u503e\u659c\u7a0b\u5ea6)\n    if(uv0.x < (start - offset * uv0.y) &&  uv0.x > (start - offset * uv0.y - width))\n    {\n        vec3 improve = strength * vec3(255, 255, 255);\n        vec3 result = improve * vec3( src_color.r, src_color.g, src_color.b);\n        gl_FragColor = vec4(result, src_color.a);\n\n    }else{\n        gl_FragColor = src_color;\n    }\n}\n"},FluxaySuper:{vert:o,frag:"\n#define TAU 6.12\n#define MAX_ITER 5\nuniform sampler2D texture;\nuniform vec4 color;\nuniform float time;\nvarying vec2 uv0;\n\nvoid main()\n{\n    float time = time * .5+5.;\n    // uv should be the 0-1 uv of texture...\n    vec2 uv = uv0.xy;//fragCoord.xy / iResolution.xy;\n    \n    vec2 p = mod(uv*TAU, TAU)-250.0;\n\n    vec2 i = vec2(p);\n    float c = 1.0;\n    float inten = .0045;\n\n    for (int n = 0; n < MAX_ITER; n++) \n    {\n        float t =  time * (1.0 - (3.5 / float(n+1)));\n        i = p + vec2(cos(t - i.x) + sin(t + i.y), sin(t - i.y) + cos(1.5*t + i.x));\n        c += 1.0/length(vec2(p.x / (cos(i.x+t)/inten),p.y / (cos(i.y+t)/inten)));\n    }\n    c /= float(MAX_ITER);\n    c = 1.17-pow(c, 1.4);\n    vec4 tex = texture2D(texture,uv);\n    vec3 colour = vec3(pow(abs(c), 20.0));\n    colour = clamp(colour + vec3(0.0, 0.0, .0), 0.0, tex.a);\n\n    // \u6df7\u5408\u6ce2\u5149\n    float alpha = c*tex[3];  \n    tex[0] = tex[0] + colour[0]*alpha; \n    tex[1] = tex[1] + colour[1]*alpha; \n    tex[2] = tex[2] + colour[2]*alpha; \n    gl_FragColor = color * tex;\n}\n"}};i.default=n,cc._RF.pop()},{}],ShaderManager:[function(e,t,i){"use strict";cc._RF.push(t,"d1e19w9UihLPqSppbSLUBq8","ShaderManager"),Object.defineProperty(i,"__esModule",{value:!0});var o,n=e("./ShaderLab"),s=e("./ShaderMaterial");(function(e){e[e.Default=0]="Default",e[e.Gray=1]="Gray",e[e.GrayScaling=100]="GrayScaling",e[e.Stone=101]="Stone",e[e.Ice=102]="Ice",e[e.Frozen=103]="Frozen",e[e.Mirror=104]="Mirror",e[e.Poison=105]="Poison",e[e.Banish=106]="Banish",e[e.Vanish=107]="Vanish",e[e.Invisible=108]="Invisible",e[e.Blur=109]="Blur",e[e.GaussBlur=110]="GaussBlur",e[e.Dissolve=111]="Dissolve",e[e.Fluxay=112]="Fluxay",e[e.FluxaySuper=113]="FluxaySuper"})(o=i.ShaderType||(i.ShaderType={}));var a=function(){function e(){}return e.useShader=function(e,t){if(cc.game.renderType!==cc.game.RENDER_TYPE_CANVAS){if(e&&e.spriteFrame&&e.getState()!==t){if(t>o.Gray){var i=o[t],a=n.default[i];if(!a)return void console.warn("Shader not defined",i);var c=new s.default(i,a.vert,a.frag,a.defines||[]),l=e.spriteFrame.getTexture();c.setTexture(l),c.updateHash();var r=e;return r._material=c,r._renderData._material=c,r._state=t,c}e.setState(t)}}else console.warn("Shader not surpport for canvas")},e}();i.default=a,cc._RF.pop()},{"./ShaderLab":"ShaderLab","./ShaderMaterial":"ShaderMaterial"}],ShaderMaterial:[function(e,t,i){"use strict";cc._RF.push(t,"70d0bHxjchOgLl9oySm1PPr","ShaderMaterial"),Object.defineProperty(i,"__esModule",{value:!0});var o=cc.renderer.renderEngine,n=function(e){function t(t,i,o,n){var s=e.call(this,!1)||this,a=cc.renderer._forward._programLib;return!a._templates[t]&&a.define(t,i,o,n),s._init(t),s}return __extends(t,e),t.prototype._init=function(e){var t=o.renderer,i=o.gfx,n=new t.Pass(e);n.setDepth(!1,!1),n.setCullMode(i.CULL_NONE),n.setBlend(i.BLEND_FUNC_ADD,i.BLEND_SRC_ALPHA,i.BLEND_ONE_MINUS_SRC_ALPHA,i.BLEND_FUNC_ADD,i.BLEND_SRC_ALPHA,i.BLEND_ONE_MINUS_SRC_ALPHA);var s=new t.Technique(["transparent"],[{name:"texture",type:t.PARAM_TEXTURE_2D},{name:"color",type:t.PARAM_COLOR4},{name:"pos",type:t.PARAM_FLOAT3},{name:"size",type:t.PARAM_FLOAT2},{name:"time",type:t.PARAM_FLOAT},{name:"num",type:t.PARAM_FLOAT}],[n]);this._texture=null,this._color={r:1,g:1,b:1,a:1},this._pos={x:0,y:0,z:0},this._size={x:0,y:0},this._time=0,this._num=0,this._effect=this.effect=new t.Effect([s],{color:this._color,pos:this._pos,size:this._size,time:this._time,num:this._num},[]),this._mainTech=s},t.prototype.setTexture=function(e){this._texture=e,this._texture.update({flipY:!1,mipmap:!1}),this._effect.setProperty("texture",e.getImpl()),this._texIds.texture=e.getId()},t.prototype.setColor=function(e,t,i,o){this._color.r=e,this._color.g=t,this._color.b=i,this._color.a=o,this._effect.setProperty("color",this._color)},t.prototype.setPos=function(e,t,i){this._pos.x=e,this._pos.y=t,this._pos.z=i,this._effect.setProperty("pos",this._pos)},t.prototype.setSize=function(e,t){this._size.x=e,this._size.y=t,this._effect.setProperty("size",this._size)},t.prototype.setTime=function(e){this._time=e,this._effect.setProperty("time",this._time)},t.prototype.setNum=function(e){this._num=e,this._effect.setProperty("num",this._num)},t}(o.Material);i.default=n,cc._RF.pop()},{}],ShowFloatWord:[function(e,t,i){"use strict";cc._RF.push(t,"8b994jN6fBCPIXM+hcNY/40","ShowFloatWord");var o=cc.Class({extends:cc.Component,properties:{},onLoad:function(){o.instance=this},statics:{instance:null},start:function(){},showlines:function(e){var t=null;e>=10&&e<=14?t="good job":e>=15&&e<=19?t="Fantastic!":e>=20&&(t="Fruit Buster!"),null!==t&&this.loadLineWord(t)},loadLineWord:function(e){var t=cc.director.getScene()._children[0];cc.loader.loadRes("texture/UI",cc.SpriteAtlas,function(i,o){var n=o.getSpriteFrame(e),s=new cc.Node("");s.parent=t,s.y-=300,s.group="UI",s.addComponent("cc.Sprite").spriteFrame=n,s.scale=0;var a=cc.scaleTo(.3,1.2).easing(cc.easeOut(3)),c=cc.moveBy(.3,cc.v2(0,50)),l=cc.spawn(a,c),r=cc.moveBy(1,cc.v2(0,200)),u=cc.sequence(l,r,cc.removeSelf());s.runAction(u)})}});cc._RF.pop()},{}],SideCell:[function(e,t,i){"use strict";cc._RF.push(t,"8f6dbqpSntDvKqYs1pHvcDL","SideCell");e("JsonData"),e("EnumDefine").CellType,e("EnumDefine").CellBlockType,e("ProcessBoardCell"),e("Utils");var o=cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.row=0,this.column=0,this.blockBuffer=null},init:function(e){var t=this;cc.loader.loadRes("prefab/cell/blockSide",function(i,o){i&&cc.error(i);var n=cc.instantiate(o);n.parent=t.node,n.position=cc.v2(),t.blockBuffer=n.getComponent("BlockSide"),t.blockBuffer.init(e)})},IsBlock:function(){return this.sideTNum()>0||this.sideBNum()>0},sideLNum:function(){return this.blockBuffer?this.blockBuffer._data.sideLNum:0},sideRNum:function(){return this.blockBuffer?this.blockBuffer._data.sideRNum:0},sideTNum:function(){return this.blockBuffer?this.blockBuffer._data.sideTNum:0},sideBNum:function(){return this.blockBuffer?this.blockBuffer._data.sideBNum:0},hurt:function(e){this.blockBuffer&&(this.blockBuffer.hurt(e),this.blockBuffer.IsSideAllRemoved()&&(this.blockBuffer.node.runAction(cc.sequence(cc.delayTime(1),cc.removeSelf())),this.blockBuffer=null))}});t.exports=o,cc._RF.pop()},{EnumDefine:"EnumDefine",JsonData:"JsonData",ProcessBoardCell:"ProcessBoardCell",Utils:"Utils"}],SidePropSkill:[function(e,t,i){"use strict";cc._RF.push(t,"72174qhFiVHM4py+ELbQI0i","SidePropSkill");e("EnumDefine").Direction,e("Utils").TITLE_WIDTH,e("Utils").TITLE_HEIGHT;cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.board=this.node.getComponent("Board"),this.removeCells=this.node.getComponent("RemoveCells"),this.processBoardCell=this.node.getComponent("ProcessBoardCell"),this.propcnt=0},start:function(){},flashSkill:function(e){if(e){var t=this.processBoardCell.randomGetNormalCells(15),i=t.indexOf(e);i>=0&&t.splice(i,1),this.propcnt+=1,this.board.removeCell(e),this.run(t)}},run:function(e){var t=this,i=cc.callFunc(function(){t.propcnt-=1},this),o=cc.callFunc(function(){0==t.propcnt&&t.board.removeCellsDone()},this),n=[];this.RemoveCells.removeCells(e,n,o,i,.05),n.length>=2?this.node.runAction(cc.sequence(n)):(n.push(null),this.node.runAction(cc.sequence(n)))}}),cc._RF.pop()},{EnumDefine:"EnumDefine",Utils:"Utils"}],Singleton:[function(e,t,i){"use strict";cc._RF.push(t,"97bbbACL+hIUI2CEtuxI3ba","Singleton");var o=cc.Class({extends:cc.Component,properties:{monsterIcon:{default:null,type:cc.SpriteFrame}},statics:{instance:null},onLoad:function(){o.instance=this}});cc._RF.pop()},{}],SpawnActor:[function(e,t,i){"use strict";cc._RF.push(t,"d6620CjXSJKOpLbednh75DK","SpawnActor");var o=e("RPGManager"),n=e("Game"),s=e("Utils");cc.Class({extends:cc.Component,properties:{actor1NodePos:cc.Node,actor2NodePos:cc.Node,actor3NodePos:cc.Node,actor4NodePos:cc.Node,actor5NodePos:cc.Node},ctor:function(){this.actorCenterPos=cc.v2(),this.actorPoslist=[],this.spawnIndex=0},onLoad:function(){this.actor1NodePos.active=!1,this.actor2NodePos.active=!1,this.actor3NodePos.active=!1,this.actor4NodePos.active=!1,this.actor5NodePos.active=!1,this.actorPoslist.push(this.actor1NodePos.getPosition()),this.actorPoslist.push(this.actor2NodePos.getPosition()),this.actorPoslist.push(this.actor3NodePos.getPosition()),this.actorPoslist.push(this.actor4NodePos.getPosition()),this.actorPoslist.push(this.actor5NodePos.getPosition()),this.spawnMonster=this.node.getComponent("SpawnMonster")},spawnActors:function(){for(var e=[2,0,3,1,4],t=n.instance.roleDatas,i=0;i<t.length;i++){var o=t[i],s=e[o.roletype];this.spawnActor(o,s)}},spawnActor:function(e,t){var i="spine/actor/";i+=s.getActorSpineName(e.roletype,e.level);var a=this;cc.loader.loadRes(i,sp.SkeletonData,function(i,s){i&&cc.error(i);var c=new cc.Node;c.zIndex=t,c.setAnchorPoint(.5,0);c.setScale(.7),c.addComponent("Actor"),c.addComponent("RoleMove");var l=c.getComponent("Actor");c.parent=a.node;var r=c.addComponent("sp.Skeleton");r.skeletonData=s,r.setAnimation(0,"idle",!0);var u=a.actorPoslist[e.roletype];c.setPosition(u);var h=n.instance.battlePetDatas[a.spawnIndex];l.setData(h,e,r),l.setAntiAliasTexParameters(),o.instance.addActor(c),a.spawnIndex+=1})},getActorCenterPos:function(e){for(var t=0,i=0,o=n.instance.roleDatas,s=0;s<o.length;s++){var a=o[s],c=this.actorPoslist[a.roletype];t+=c.x,i+=c.y}t/=o.length,i/=o.length,e.x=t,e.y=i},start:function(){}}),cc._RF.pop()},{Game:"Game",RPGManager:"RPGManager",Utils:"Utils"}],SpawnCells:[function(e,t,i){"use strict";cc._RF.push(t,"141a0b625xHs78TURiV9AXz","SpawnCells");var o=e("Utils").NUMROWS,n=e("Utils").NUMCOLUMNS,s=e("EnumDefine").CellType,a=e("JsonData"),c=e("PoolMng"),l=e("Utils"),r=e("Utils").TITLE_WIDTH,u=e("Utils").TITLE_HEIGHT,h=e("EnumDefine").FightKind;cc.Class({extends:cc.Component,properties:{skillCircleSprite:{default:null,type:cc.SpriteFrame},Cell1:{default:null,type:sp.SkeletonData},Cell2:{default:null,type:sp.SkeletonData},Cell3:{default:null,type:sp.SkeletonData},Cell4:{default:null,type:sp.SkeletonData},Cell5:{default:null,type:sp.SkeletonData},Chest:{default:null,type:cc.Prefab},DropBox:{default:null,type:cc.Prefab},HorinalProp:{default:null,type:cc.Prefab},VerticalProp:{default:null,type:cc.Prefab},DoubleHorinalProp:{default:null,type:cc.Prefab},DoubleVerticalProp:{default:null,type:cc.Prefab},DiamondBombProp:{default:null,type:cc.Prefab},CrossProp:{default:null,type:cc.Prefab},XCrossProp:{default:null,type:cc.Prefab},XXCrossProp:{default:null,type:cc.Prefab},ClearBombProp:{default:null,type:cc.Prefab},InFectsProp:{default:null,type:cc.Prefab},FlashProp:{default:null,type:cc.Prefab},SameColorProp:{default:null,type:cc.Prefab},CoverOneColorProp:{default:null,type:cc.Prefab},Salive:{default:null,type:cc.Prefab}},onLoad:function(){this.ParseCellTitles=this.node.getComponent("ParseCellTitles"),this.ProcessBoardCell=this.node.getComponent("ProcessBoardCell"),this.Board=this.node.getComponent("Board")},start:function(){},createBoardCell:function(e,t){var i=l.levelData,o=(i.StageID,i.StageType);this.createSkillCircles(),this.createCells(e,o,t)},createSkillCircles:function(){for(var e=0;e<o;e++)for(var t=0;t<n;t++){var i=new cc.Node(""),s=i.addComponent("cc.Sprite");s.spriteFrame=this.skillCircleSprite,i.parent=this.node,s.sizeMode=cc.Sprite.SizeMode.CUSTOM,s.type=cc.Sprite.Type.SLICED;var a=this.node.width/8,c=this.node.height/8;i.setContentSize(a+1,c+1);var l=a/2+t*a-this.node.width/2,r=-this.node.height/2+c/2+e*c;i.setPosition(l,r),i.zIndex=1,i.active=!1,this.ProcessBoardCell.setSkillCircle(t,e,i)}},createSideCell:function(e,t,i,o){var n=e.sideLNum,s=e.sideRNum,a=e.sideTNum,c=e.sideBNum,l=null;if(n>0||s>0||a>0||c>0){(l=new cc.Node("")).parent=this.node,l.scale=o;var r=this.node.width/8,u=this.node.height/8;l.setContentSize(r,u);var h=r/2+t*r-this.node.width/2,p=-this.node.height/2+u/2+i*u;l.setPosition(h,p),l.zIndex=10;var d=l.addComponent("SideCell");d.row=i,d.column=t,d.init(e)}return l},createCells:function(e,t,i){switch(t){case h.BossFight:case h.NormalFight:if(null!==l.LevelEditorBoardData){var o=l.LevelEditorBoardData.listCell,n=l.LevelEditorBoardData.listSideCell,s=l.LevelEditorBoardData.listCover;this.parselevelFromCreatorEditor(o,n,s),this.setGuideCell(e),i&&i()}else{var c=this;a.instance.loadLevelTitleData(e,function(t){c.parselevelFromXlS(t),c.setGuideCell(e),i&&i()})}(function(e,t,i){}).bind(this),function(){}.bind(this)}},parselevelFromXlS:function(e){},parselevelFromCreatorEditor:function(e,t,i){for(var s=0;s<o;s++)for(var a=0;a<n;a++)this.spawnCell(a,s,e,i);for(var c=0;c<o;c++)for(var l=0;l<n;l++){for(var r=null,u=0;u<t.length;u++){var h=t[u];if(h&&h.column===l&&h.row===c){r=h;break}}if(r){var p=this.createSideCell(r,l,c,.8);p&&this.ProcessBoardCell.setSideCell(l,c,p)}}},spawnCell:function(e,t,i,o){for(var n=this.spinCellType(),s=null,a=1,c=null,l=0;l<i.length;l++){var r=i[l];if(t===r.row&&e===r.column){n=r.ID,a=r.lv,c=r;break}}for(var u=0;u<o.length;u++){var h=o[u];if(h.row===t&&h.column===e){s=h;break}}var p=function(i,o){if(i){var a=i.getComponent("Cell");this.ProcessBoardCell.setCell(e,t,i),a.init(n,o),a.setDataCell(c),s&&a.addBlockCover(s),a.moveDown(.5)}}.bind(this);this.createOneCell(n,e,t,a,p)},spinCellType:function(){var e=l.LevelEditorLevelGoles.CellsSpinVal,t=[],i=[];for(var o in e){var n=e[o];t.push(n),i.push(o)}var s=i[l.computeSpin(t)];return parseInt(s)},createOneCell:function(e,t,i,o,n){switch(e){case s.NoneCell:return null;case s.Cell1:case s.Cell2:case s.Cell3:case s.Cell4:case s.Cell5:var a=this.createNormalCell(t,i,e,.8);n(a,o);break;case s.RXCellType:var c=this.spinCellType(),r=this.createNormalCell(t,i,c,.8);n(r,o);break;case s.DropBottomBox:var u=this.createPrefabCell(t,i,e,this.DropBox);n(u,o);break;case s.Chest:var h=this.createPrefabCell(t,i,e,this.Chest);n(h,o);break;case s.SolidCell:var p=this;cc.loader.loadRes("prefab/cell/SolidCell",function(s,a){var c=p.createPrefabCell(t,i,e,a);n(c,o)});break;case s.Stakes:var d=null,f=l.UISpriteAtlas;switch(o){case 1:d=f.getSpriteFrame("wood1");break;case 2:d=f.getSpriteFrame("wood2");break;case 3:d=f.getSpriteFrame("wood3")}var m=this.createSpriteCell(t,i,e,d);n(m,o);break;case s.Weeds:var v=l.UISpriteAtlas,g=null;switch(o){case 1:g=v.getSpriteFrame("weed1");break;case 2:case 3:g=v.getSpriteFrame("weed2")}var C=this.createSpriteCell(t,i,e,g);n(C,o);break;case s.Fence:var _=null,b=l.UISpriteAtlas;switch(o){case 1:_=b.getSpriteFrame("fence1");break;case 2:_=b.getSpriteFrame("fence2");break;case 3:_=b.getSpriteFrame("fence3")}var S=this.createSpriteCell(t,i,e,_);n(S,o);break;case s.BlockDiamond:var y=l.UISpriteAtlas.getSpriteFrame("blockdiamond"),k=this.createSpriteCell(t,i,e,y);n(k,o);break;case s.KeyUp:var B=l.UISpriteAtals.getSpriteFrame("keyup"),w=this.createSpriteCell(t,i,e,B);n(w,o);break;case s.KeyDown:var D=l.UISpriteAtlas.getSpriteFrame("keydown"),P=this.createSpriteCell(t,i,e,D);n(P,o);break;case s.KeyLeft:var A=l.UISpriteAtlas.getSpriteFrame("keyleft"),R=this.createSpriteCell(t,i,e,A);n(R,o);break;case s.KeyRight:var N=l.UISpriteAtlas.getSpriteFrame("keyright"),T=this.createSpriteCell(t,i,e,N);n(T,o);break;case s.HorinalProp:var F=this.createPrefabCell(t,i,e,this.HorinalProp);n(F,o);break;case s.VerticalProp:var I=this.createPrefabCell(t,i,e,this.VerticalProp);n(I,o);break;case s.DoubleHorinalProp:var L=this.createPrefabCell(t,i,e,this.DoubleHorinalProp);n(L,o);break;case s.DoubleVerticalProp:var x=this.createPrefabCell(t,i,e,this.DoubleVerticalProp);n(x,o);break;case s.CrossProp:var U=this.createPrefabCell(t,i,e,this.CrossProp);n(U,o);break;case s.XCrossProp:var E=this.createPrefabCell(t,i,e,this.XCrossProp);n(E,o);break;case s.XXCrossProp:var M=this.createPrefabCell(t,i,e,this.XXCrossProp);n(M,o);break;case s.ClearBombProp:var O=this.createPrefabCell(t,i,e,this.ClearBombProp);n(O,o);break;case s.InFectsProp:var W=this.createPrefabCell(t,i,e,this.InFectsProp);n(W,o);break;case s.FlashProp:var G=this.createPrefabCell(t,i,e,this.FlashProp);n(G,o);break;case s.SameColorProp:var z=this.createPrefabCell(t,i,e,this.SameColorProp);n(z,o);break;case s.CoverOneColorProp:var H=this.createPrefabCell(t,i,e,this.CoverOneColorProp);n(H,o);break;case s.DiamondBombProp:var V=this.createPrefabCell(t,i,e,this.DiamondBombProp);n(V,o);break;case s.Salive:var q=this.createPrefabCell(t,i,e,this.Salive);n(q,o)}},spawnPropCell:function(e,t,i){var o=null,n=null;switch(i=parseInt(i)){case s.PropFlash:n=this.PropFlashSpriteFrame}n&&((o=this.createSpriteCell(e,t,i,n)).getComponent("Cell").init(i,1),this.ProcessBoardCell.setCell(e,t,o));return o},randomSpawnCell:function(e,t){var i=this.spinCellType(),o=c.instance.requestCell(i);if(o){o.getComponent("HurtCell")||o.addComponent("HurtCell"),o.getComponent("Cell")||o.addComponent("Cell"),o.parent=this.node,o.anchorX=.5,o.anchorY=0,o.scale=.8;var n=o.getComponent("Cell");n.row=t,n.column=e,n.celltype=i,n.cellscale=o.scale,n.idle(!1);n.init(i,1),this.ProcessBoardCell.setCell(e,t,o)}return o},createNormalCell:function(e,t,i,o){var n=c.instance.requestCell(i);n.getComponent("HurtCell")||n.addComponent("HurtCell"),n.getComponent("Cell")||n.addComponent("Cell"),n.anchorX=.5,n.anchorY=0,n.scale=o;var s=n.getComponent("Cell");s.row=t,s.column=e,s.celltype=i,s.idle(!1),s.setAntiAliasTexParameters(),n.parent=this.node,n.scale=o,s.cellscale=n.scale;var a=l.pointForColumn(e,t),r=a.x-this.node.width/2,u=a.y-this.node.height/2;return n.setPosition(r,u),n},createSkeletonCell:function(e,t,i,o,n){var s=this.createSkeleton(n),a=new cc.Node("");a.addChild(s),a.anchorX=.5,a.scale=.9*o,a.parent=this.node,a.width=s.width,a.height=s.height,a.addComponent("HurtCell");var c=a.addComponent("Cell");c.row=t,c.column=e,c.celltype=i,c.cellscale=a.scale,c.cellNode=s,c.idle(!0);var r=l.pointForColumn(e,t),u=this.node.width/8,h=(this.node.height,r.x-this.node.width/2+u/2),p=r.y-this.node.height/2;return a.setPosition(h,p),a},createPrefabCell:function(e,t,i,o){var n=this.createPrefab(o);n.getComponent("HurtCell")||n.addComponent("HurtCell"),n.getComponent("Cell")||n.addComponent("Cell");var s=n.getChildByName("cellNode");n.anchorX=.5,n.anchorY=0,n.scale=.8;var a=n.getComponent("Cell");a.cellNode=s,a.row=t,a.column=e,a.celltype=i,a.setAntiAliasTexParameters(),n.parent=this.node,a.cellscale=n.scale;var c=l.pointForColumn(e,t),r=c.x-this.node.width/2,u=c.y-this.node.height/2;return n.setPosition(r,u),n},createSpriteCell:function(e,t,i,o){var n=new cc.Node("");n.anchorX=.5;var s=this.createSprite(o);n.addChild(s),n.addComponent("HurtCell");var a=n.addComponent("Cell");a.row=t,a.column=e,a.celltype=i,a.cellNode=s,n.width=s.width,n.height=s.height,n.parent=this.node,a.cellscale=n.scale;var c=l.pointForColumn(e,t);c.x+=r/2,c.y+=u/2;var h=c.x-this.node.width/2,p=c.y-this.node.height/2;return n.setPosition(h,p),n},createSprite:function(e){var t=new cc.Node(""),i=t.addComponent(cc.Sprite);i.spriteFrame=e,i.sizeMode=cc.Sprite.SizeMode.CUSTOM,i.type=cc.Sprite.Type.SLICED;var o=this.node.width/8,n=this.node.height/8;return t.setContentSize(o,n),t},createSkeleton:function(e){var t=new cc.Node("");t.addComponent("sp.Skeleton").skeletonData=e;var i=this.node.width/8,o=this.node.height/8;return t.setContentSize(i,o),t},createPrefab:function(e){var t=cc.instantiate(e);t.active=!0;var i=this.node.width/8,o=this.node.height/8;return t.setContentSize(i,o),t},setGuideCell:function(e){if(1===parseInt(e)){var t=this.ProcessBoardCell.getCell(1,1),i=this.ProcessBoardCell.getCell(2,2),o=this.ProcessBoardCell.getCell(3,2),n=this.ProcessBoardCell.getCell(4,2),a=this.ProcessBoardCell.getCell(5,2),c=this.ProcessBoardCell.getCell(6,2),l=t.getComponent("Cell");l.ChangeCell(s.Cell1,this.Cell1),(l=i.getComponent("Cell")).ChangeCell(s.Cell1,this.Cell1),(l=o.getComponent("Cell")).ChangeCell(s.Cell1,this.Cell1),(l=n.getComponent("Cell")).ChangeCell(s.Cell1,this.Cell1),(l=a.getComponent("Cell")).ChangeCell(s.Cell1,this.Cell1),(l=c.getComponent("Cell")).ChangeCell(s.Cell1,this.Cell1);var r=this.ProcessBoardCell.getCell(2,1),u=this.ProcessBoardCell.getCell(3,1),h=this.ProcessBoardCell.getCell(4,1),p=this.ProcessBoardCell.getCell(5,1),d=this.ProcessBoardCell.getCell(6,1),f=r.getComponent("Cell");f.ChangeCell(s.Cell2,this.Cell2),(f=u.getComponent("Cell")).ChangeCell(s.Cell2,this.Cell2),(f=h.getComponent("Cell")).ChangeCell(s.Cell2,this.Cell2),(f=p.getComponent("Cell")).ChangeCell(s.Cell2,this.Cell2),(f=d.getComponent("Cell")).ChangeCell(s.Cell2,this.Cell2);var m=this.ProcessBoardCell.getCell(1,2),v=this.ProcessBoardCell.getCell(1,3),g=this.ProcessBoardCell.getCell(2,3),C=this.ProcessBoardCell.getCell(3,3),_=this.ProcessBoardCell.getCell(4,3),b=this.ProcessBoardCell.getCell(5,3),S=this.ProcessBoardCell.getCell(6,3),y=m.getComponent("Cell");y.ChangeCell(s.Cell3,this.Cell3),(y=v.getComponent("Cell")).ChangeCell(s.Cell3,this.Cell3),(y=g.getComponent("Cell")).ChangeCell(s.Cell3,this.Cell3),(y=C.getComponent("Cell")).ChangeCell(s.Cell3,this.Cell3),(y=_.getComponent("Cell")).ChangeCell(s.Cell3,this.Cell3),(y=b.getComponent("Cell")).ChangeCell(s.Cell3,this.Cell3),(y=S.getComponent("Cell")).ChangeCell(s.Cell3,this.Cell3)}}}),cc._RF.pop()},{EnumDefine:"EnumDefine",JsonData:"JsonData",PoolMng:"PoolMng",Utils:"Utils"}],SpawnMonster:[function(e,t,i){"use strict";cc._RF.push(t,"afcdawfyI9Ck6iVqq1Ij18m","SpawnMonster");var o=e("RPGManager");cc.Class(function(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}({extends:cc.Component,properties:{monster1NodePos:cc.Node,monster2NodePos:cc.Node,monster3NodePos:cc.Node,monster4NodePos:cc.Node},onLoad:function(){this.monster1NodePos.active=!1,this.monster2NodePos.active=!1,this.monster3NodePos.active=!1,this.monster4NodePos.active=!1;var e=cc.v2(0,0);this.node.getComponent("SpawnActor").getActorCenterPos(e);var t=this.monster1NodePos.position,i=Math.abs(t.x-e.x);this._disx=i,this.monsterlist=[];var o=[];o.push(0),o.push(180),o.push(360),o.push(540),this.disxlist=o,this.scalelist=[1,.5,.4,.3,.2,.2]},start:function(){},removeMonster:function(e){var t=this._monserlist.indexOf(e);t>=0&&this._monserlist.shift(t,1)},spawnOneWave:function(e,t,i){i&&void 0!==i||(i=0);var o=cc.v2();o.x=t.x,o.y=t.y,o.x+=i;for(var n=0;n<e.length;n++){var s=e[n],a=this.scalelist[n],c=o.x+this._disx+this.disxlist[n],l=o.y,r=cc.v2(c,l);this.spawnMonster(s,r,a,n)}},spawnMonster:function(e,t,i,n){var s=this,a="prefab/monster/"+e.JsonData.AnimeRes;cc.loader.loadRes(a,function(a,c){var l=cc.instantiate(c);l.setAnchorPoint(.5,0),l.scale=i,l.addComponent("Monster"),l.addComponent("MonsterSkill"),l.parent=s.node;var r=l.getComponent("Monster");r.init(e),r.idle(),l.setPosition(t),o.instance.addMonster(l,n)})}},"start",function(){})),cc._RF.pop()},{RPGManager:"RPGManager"}],SpinChest:[function(e,t,i){"use strict";cc._RF.push(t,"7776eLUnDRCb4Ekhw0+YKub","SpinChest");var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=e("EnumDefine"),s=e("Utils"),a=s.ProduceType,c=e("LocalStorage"),l=(e("BaseUI"),e("JsonData"),n.SpinType),r=n.EnterKind;cc.Class({extends:cc.Component,properties:{cameraBox:cc.Node,keyTemplate:cc.Node,UIBaseNode:cc.Node,paynode:cc.Node,freenode:cc.Node,bk1:cc.Node,freelabel:cc.Label,liveKey:cc.Node,mask:cc.Node,box:cc.Node,boxTemplate:cc.Node},onLoad:function(){this.registerTouch(),this.camera=this.cameraBox.getComponent(cc.Camera),this.initZoomRatio=this.camera.zoomRatio,this.ratioZoomIn=this.camera.zoomRatio+.15,this.ratioZoomOut=this.camera.zoomRatio,this._zoomIn=!1,this._zoomOut=!1,this._zoomCallback=null,this._zoomStep=.1,this._move=!1,this._needSpinDiamond=30;var e=function(e){this.init(e)}.bind(this);this.loadSpinData(e),this.uibase=this.UIBaseNode.getComponent("UIBase");var t=c.instance.getFreeSpinVal();this.show(t),this.mask.active=!1,this.openChestCnt=0,this.openedlist={}},onDisable:function(){c.instance.setFreeSpinVal(this.freenum)},start:function(){this.zoomIn(null)},scalePayNode:function(){this.paynode.stopAllActions(),this.paynode.scale=1;var e=cc.scaleTo(.25,1.1,1.1).easing(cc.easeOut(3)),t=cc.scaleTo(.25,1,1).easing(cc.easeOut(3)),i=cc.sequence(e,t);this.paynode.runAction(i)},freeKeyAnimation:function(){this.liveKey.scale=0;var e=cc.scaleTo(.4,1.1,1.1).easing(cc.easeOut(3)),t=cc.scaleTo(.4,1,1).easing(cc.easeOut(3)),i=cc.sequence(e,t);this.liveKey.runAction(i)},show:function(e){if(this.freenum=e,this.freenum>0)this.paynode.active=!1,this.freenode.active=!0,this.freelabel.string=this.freenum+"";else{this.paynode.active=!0;var t=cc.scaleTo(.25,1.1,1.1).easing(cc.easeOut(3)),i=cc.scaleTo(.25,1,1).easing(cc.easeOut(3)),o=cc.sequence(t,i),n=cc.repeatForever(o);this.bk1.scale=1,this.bk1.stopAllActions(),this.bk1.runAction(n),this.freenode.active=!1}},updateFreeNum:function(e){this.freenum+=e,this.show(this.freenum)},onBtnDiamondClicked:function(e){if(this.uibase.getDiamondNum()>this._needSpinDiamond)return this.uibase.updateDiamond(-this._needSpinDiamond),this.updateFreeNum(3),void this.freeKeyAnimation()},init:function(e){this.spinData=e;var t=[e.R1num,e.R2num,e.R3num,e.R4num,e.R5num,e.R6num,e.R7num,e.R8num];this.nums=t},registerTouch:function(){var e=this;e.node.on(cc.Node.EventType.TOUCH_START,function(t){e.touchBegin(t)},e),e.node.on(cc.Node.EventType.TOUCH_MOVE,function(t){e.touchMove(t)},e),e.node.on(cc.Node.EventType.TOUCH_END,function(t){e.touchEnd(t)},e),e.node.on(cc.Node.EventType.TOUCH_CANCEL,function(t){e.touchEnd(t)},e)},touchBegin:function(e){for(var t=this,i=e.getTouches()[0].getLocation(),n=this.box.children,s=function(e){var o=n[e],s=o.parent.convertToNodeSpaceAR(i);if(o.getBoundingBox().contains(s)){if(t.freenum<=0)return t.scalePayNode(),{v:void 0};if(t.openedlist[o.name])return{v:void 0};t.openedlist[o.name]=!0;var a=cc.callFunc(function(){t.openChest(o)},t),c=cc.callFunc(function(){var e=o.getChildByName("BigLock");if(e){var t=cc.moveBy(.5,cc.v2(0,-50));e.runAction(cc.sequence(t,a,cc.removeSelf()))}}),l=cc.instantiate(t.keyTemplate);l.zIndex=100,l.scale=1.2,l.group="UI",l.active=!0,l.parent=t.node,l.position=t.freenode.position;var r=cc.moveTo(.5,cc.v2(o.x-o.width/2,o.y+.5*o.height)).easing(cc.easeOut(3));return l.runAction(cc.sequence(r,c,cc.removeSelf())),t.updateFreeNum(-1),{v:void 0}}},a=0;a<n.length;a++){var c=s(a);if("object"===(void 0===c?"undefined":o(c)))return c.v}},touchMove:function(e){},touchEnd:function(e){},openChest:function(e){var t=e.getComponent(cc.Animation);if(t){var i=e.parent.convertToWorldSpaceAR(e.position);i.y+=.5*e.height,i=this.UIBaseNode.convertToNodeSpaceAR(i),t.play("openChest");var o=function(){this.playReWardAudio(),this.showflashEffect(e,cc.v2(0,0)),this.openReward(i)}.bind(this);t.on("finished",this.shitcallback,this),this.openchestAnimationFinishedCallback=o;var n=cc.callFunc(function(){},this);e.runAction(cc.sequence(cc.delayTime(1),n))}},shitcallback:function(){this.openchestAnimationFinishedCallback&&this.openchestAnimationFinishedCallback()},showflashEffect:function(e,t){cc.loader.loadRes("prefab/particle/killDustParticle",function(i,o){var n=cc.instantiate(o);n&&(n.scale=1,n.parent=e,n.position=t,n.runAction(cc.sequence(cc.delayTime(2),cc.removeSelf())))});cc.loader.loadRes("prefab/flashEffect",function(i,o){var n=cc.instantiate(o);if(n){n.scale=.5,n.parent=e,n.position=t;var s=n.getComponent(cc.Animation);s&&s.play(),n.runAction(cc.sequence(cc.delayTime(1),cc.removeSelf()))}})},playReWardAudio:function(){this.audioReWard&&this.audioReWard.play()},zoomIn:function(e){if(this.camera){if(this.resetZoom(),Math.abs(this.camera.zoomRatio-this.ratioZoomIn)<=.001)return this.camera.zoomRatio=this.ratioZoomOut,void(e&&e());this._zoomCallback=e,this._zoomIn=!0}else e&&e()},zoomOut:function(e){if(this.camera){if(this.resetZoom(),Math.abs(this.camera.zoomRatio-this.ratioZoomOut)<=.001)return this.camera.zoomRatio=this.ratioZoomOut,void(e&&e());this._zoomCallback=e,this._zoomOut=!0}else e&&e()},zoomUpdate:function(e){if(this._zoomIn&&this.camera){if(Math.abs(this.camera.zoomRatio-this.ratioZoomIn)<=.001)return this.camera.zoomRatio=this.ratioZoomIn,this._zoomIn=!1,void(this._zoomCallback&&(this._zoomCallback(),this._zoomCallback=null));this.camera.zoomRatio=cc.misc.lerp(this.camera.zoomRatio,this.ratioZoomIn,this._zoomStep)}if(this._zoomOut&&this.camera){if(Math.abs(this.camera.zoomRatio-this.ratioZoomOut)<=.001)return this.camera.zoomRatio=this.ratioZoomOut,this._zoomOut=!1,void(this._zoomCallback&&(this._zoomCallback(),this._zoomCallback=null));this.camera.zoomRatio=cc.misc.lerp(this.camera.zoomRatio,this.ratioZoomOut,this._zoomStep)}},resetZoom:function(){this._zoomIn=!1,this._zoomOut=!1},update:function(e){this.zoomUpdate(e)},loadSpinData:function(e){cc.loader.loadRes("json/Spin",function(t,i){var o=i.json;e&&e(o[0])})},getSpinType:function(e){switch(e){case 0:case 1:return l.Diamond;case 2:case 3:case 4:case 5:return l.Coin;case 6:return l.Diamond;case 7:return l.Coin}},computeSpin:function(e){var t=[e.R8odds,e.R7odds,e.R6odds,e.R5odds,e.R4odds,e.R3odds,e.R2odds,e.R1odds];return s.computeSpin(t)},openReward:function(e){var t=this.computeSpin(this.spinData);this.spinIndex=t;var i=this.nums[t],o=this.getSpinType(t),n=function(){this.openChestCnt+=1,this.openChestCnt>=16&&this.spawnNewBox()}.bind(this);switch(o){case l.Coin:this.coinReward(i,e,n);break;case l.Diamond:this.diamondReward(i,e,n)}},coinReward:function(e,t,i){if(this.uibase){cc.director.getScene();var o=this.UIBaseNode,n=t,c=this.uibase.coinlabel,l=c.node.parent.convertToWorldSpaceAR(c.node.position);l=o.convertToNodeSpaceAR(l);var r=e/10,u=function(){this.uibase.updateCoin(r),this.uibase.playCoin()}.bind(this),h=s.produceRandomNodeLineMove(a.ButtonCoin,10,n,l,o,u),p=cc.callFunc(function(){i&&i()},this);this.node.runAction(cc.sequence(cc.delayTime(h),p))}},diamondReward:function(e,t,i){if(this.uibase){cc.director.getScene();var o=this.UIBaseNode,n=t,c=this.uibase.diamondlabel,l=c.node.parent.convertToWorldSpaceAR(c.node.position);l=o.convertToNodeSpaceAR(l);var r=e/10,u=function(){this.uibase.updateDiamond(r),this.uibase.playCoin()}.bind(this),h=s.produceRandomNodeLineMove(a.Diamond,10,n,l,o,u),p=cc.callFunc(function(){i&&i()},this);this.node.runAction(cc.sequence(cc.delayTime(h),p))}},spawnNewBox:function(){var e=this;this.mask.active=!0;var t=cc.v2(this.box.x,this.box.y),i=cc.moveBy(.5,cc.v2(650,0)),o=cc.callFunc(function(){var i=cc.instantiate(e.boxTemplate);i.active=!0,i.parent=e.box.parent,i.position=cc.v2(-650,0);var o=cc.moveTo(.5,t),n=cc.callFunc(function(){e.box.destroy(),e.box=i,e.mask.active=!1,e.openChestCnt=0,e.openedlist={}},e);i.runAction(cc.sequence(o,n))},this);this.box.runAction(cc.sequence(i,o))},onBtnClose:function(e){var t=r.Main,i=cc.find("Canvas").getComponent("CanvasInit");switch(i&&(t=i.enterCode),t){case r.Main:cc.director.loadScene("Main");break;case r.Map:cc.director.loadScene("Map")}}}),cc._RF.pop()},{BaseUI:"BaseUI",EnumDefine:"EnumDefine",JsonData:"JsonData",LocalStorage:"LocalStorage",Utils:"Utils"}],SpinReward:[function(e,t,i){"use strict";cc._RF.push(t,"66d08g0H5pNIr7W+KSc6/R3","SpinReward");var o=e("EnumDefine").SpinType;cc.Class({extends:cc.Component,properties:{glare:cc.Node,spinSp:cc.Sprite,numlabel:cc.Label,coinSp:{default:null,type:cc.SpriteFrame},diamondSp:{default:null,type:cc.SpriteFrame}},onLoad:function(){},show:function(e,t,i){var n=this,s=this.node.scale;switch(this.node.scale=0,t){case o.Coin:this.spinSp.spriteFrame=this.coinSp;break;case o.Diamond:this.spinSp.spriteFrame=this.diamondSp}this.numlabel.string=e+"",this.glare.active=!0;var a=cc.callFunc(function(){var e=cc.repeatForever(cc.rotateBy(3,360));n.glare.runAction(e)},this),c=cc.scaleTo(.3,s,s).easing(cc.easeOut(3));this.node.runAction(cc.sequence(c,a))},start:function(){}}),cc._RF.pop()},{EnumDefine:"EnumDefine"}],Spin:[function(e,t,i){"use strict";cc._RF.push(t,"fcbccsFuk5ATI5f575V9MTz","Spin");var o=e("EnumDefine"),n=e("Utils"),s=n.ProduceType,a=e("LocalStorage"),c=e("BaseUI"),l=(e("JsonData"),o.SpinType),r=o.EnterKind;cc.Class({extends:c,properties:{lotterys:{default:[],type:cc.Node},midbk:cc.Node,turnNode:cc.Node,colorBk:cc.Node,buttonCoinSpriteFrame:cc.SpriteFrame,buttonDiamondSpriteFrame:cc.SpriteFrame,turnBtn:cc.Button,UIBaseNode:cc.Node,freeSpinNumlabel:cc.Label,free:cc.Node,notfree:cc.Node},onLoad:function(){var e=function(e){this.init(e)}.bind(this);this.loadSpinData(e),this.mAllPrizeNum=8,this.mDegree=360/this.mAllPrizeNum,this.spinData=null,this.nums=[],this.colorBk.active=!1,this.registerTouch(),this._turnFinish=!1,this._rewardNode=null,this.uibase=this.UIBaseNode.getComponent("UIBase"),this.spinData=null,this._spinNum=0,this._spintype=l.UnKnown,this.freenum=0,this._needSpinDiamond=10,this.scaleShow(this.midbk);this.show(0)},onDisable:function(){a.instance.setFreeSpinVal(this.freenum)},show:function(e){this.freenum=e,this.freenum>0?(this.free.active=!0,this.notfree.active=!1,this.freeSpinNumlabel.string=this.freenum+""):(this.notfree.active=!0,this.free.active=!1)},canTurn:function(){return!(this.uibase.getDiamondNum()<this._needSpinDiamond)},updateFreeNum:function(e){this.freenum+=e,this.freeSpinNumlabel.string=this.freenum+"",this.freenum>0?(this.free.active=!0,this.notfree.active=!1):(this.notfree.active=!0,this.free.active=!1)},turnBtnFunc:function(e){if(this.freenum>0)this.updateFreeNum(-1),this.turn(),this.turnBtn.interactable=!1,this.turnBtn.node.color=cc.Color.GRAY;else{if(!this.canTurn())return;this.uibase.updateDiamond(-this._needSpinDiamond),this.turn(),this.turnBtn.interactable=!1,this.turnBtn.node.color=cc.Color.GRAY}},registerTouch:function(){var e=this;e.node.on(cc.Node.EventType.TOUCH_END,function(t){e.touchEnd(t)},e)},init:function(e){this.spinData=e;var t=[e.R1num,e.R2num,e.R3num,e.R4num,e.R5num,e.R6num,e.R7num,e.R8num];this.nums=t;for(var i=0;i<this.lotterys.length;i++){this.lotterys[i].getChildByName("num").getComponent("cc.Label").string=t[i]}},touchEnd:function(e){if(this._turnFinish&&this._rewardNode){this.colorBk.active=!1,this._rewardNode.removeFromParent(),this._rewardNode=null,this._turnFinish=!1;var t=function(){this.turnBtn.interactable=!0,this.turnBtn.node.color=cc.Color.WHITE}.bind(this);switch(this._spintype){case l.Coin:this.coinReward(this._spinNum,t);break;case l.Diamond:this.diamondReward(this._spinNum,t)}}},turn:function(){var e=this,t=this.computeSpin(this.spinData);this.spinIndex=t;var i=this.nums[t],o=this.getSpinType(t),n=this.buttonDiamondSpriteFrame;o===l.Coin&&(n=this.buttonCoinSpriteFrame);var s=-(this.spinIndex*this.mDegree+this.mDegree/2)-1440;this.turnNode.stopAllActions(),this.turnNode.rotation=0;var a=cc.rotateBy(1,s).easing(cc.easeOut(5)),c=cc.callFunc(function(){e.tunrEnd(i,o,n)},this),r=cc.sequence(a,c);this.turnNode.runAction(r)},tunrEnd:function(e,t,i){this.colorBk.active=!0;var o=this;this._spinNum=e,this._spintype=t;var n=cc.director.getScene()._children[0];cc.loader.loadRes("prefab/SpinReward",function(s,a){s&&cc.error(s);var c=cc.instantiate(a);c.position=cc.v2(0,-200),c.parent=n;var l=cc.callFunc(function(){var e=cc.jumpBy(.5,cc.v2(0,0),10,1).easing(cc.easeOut(2)),t=cc.jumpBy(.5,cc.v2(0,0),-10,1).easing(cc.easeOut(2)),i=cc.sequence(e,t),o=cc.repeatForever(i);c.runAction(o)}),r=cc.callFunc(function(){o._turnFinish=!0},o);c.runAction(cc.sequence(l,cc.delayTime(.5),r)),c.getComponent("SpinReward").show(e,t,i),o._rewardNode=c})},computeSpin:function(e){var t=[e.R8odds,e.R7odds,e.R6odds,e.R5odds,e.R4odds,e.R3odds,e.R2odds,e.R1odds];return n.computeSpin(t)},getSpinType:function(e){switch(e){case 0:case 1:return l.Diamond;case 2:case 3:case 4:case 5:return l.Coin;case 6:return l.Diamond;case 7:return l.Coin}},start:function(){},loadSpinData:function(e){cc.loader.loadRes("json/Spin",function(t,i){var o=i.json;e&&e(o[0])})},coinReward:function(e,t){if(this.uibase){var i=cc.director.getScene()._children[0],o=cc.v2(),a=this.uibase.coinlabel,c=a.node.parent.convertToWorldSpaceAR(a.node.position);c=i.convertToNodeSpaceAR(c);var l=e/10,r=function(){this.uibase.updateCoin(l),this.uibase.playCoin()}.bind(this),u=n.produceRandomNodeLineMove(s.ButtonCoin,10,o,c,i,r),h=cc.callFunc(function(){t&&t()},this);this.node.runAction(cc.sequence(cc.delayTime(u),h))}},diamondReward:function(e,t){if(this.uibase){var i=cc.director.getScene()._children[0],o=cc.v2(),a=this.uibase.diamondlabel,c=a.node.parent.convertToWorldSpaceAR(a.node.position);c=i.convertToNodeSpaceAR(c);var l=e/10,r=function(){this.uibase.updateDiamond(l),this.uibase.playCoin()}.bind(this),u=n.produceRandomNodeLineMove(s.Diamond,10,o,c,i,r),h=cc.callFunc(function(){t&&t()},this);this.node.runAction(cc.sequence(cc.delayTime(u),h))}},closeBtnFunc:function(e){var t=function(){var e=r.Main,t=cc.find("Canvas").getComponent("CanvasInit");switch(t&&(e=t.enterCode),e){case r.Main:cc.director.loadScene("Main");break;case r.Map:cc.director.loadScene("Map")}this.node.removeFromParent()}.bind(this),i=this.midbk;this.scaleClose(i,t)}}),cc._RF.pop()},{BaseUI:"BaseUI",EnumDefine:"EnumDefine",JsonData:"JsonData",LocalStorage:"LocalStorage",Utils:"Utils"}],StepAward:[function(e,t,i){"use strict";cc._RF.push(t,"d769dHY58xIUZIYLvw2/UuN","StepAward");e("Utils").NUMROWS,e("Utils").NUMCOLUMNS;var o=e("PoolMng"),n=(e("Utils"),e("EnumDefine").CellType,e("RPGManager")),s=e("Game");cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.processBoardCell=this.node.getComponent("ProcessBoardCell"),this.board=this.node.getComponent("Board"),this.dropCell=this.node.getComponent("DropCell")},start:function(){},stepDone:function(){var e=function(){n.instance.win()}.bind(this);this.dropCell.animateFalling(e)},shootSteps:function(e){var t=this,i=[],o=this.randomCells(e);if(o&&o.length>0)for(var n=function(e){var n=o[e];if(n&&n.parent){var a=cc.callFunc(function(){s.instance.updateStep(-1),t.shootStep(n,.4)},t);i.push(a),i.push(cc.delayTime(.2))}},a=0;a<o.length;a++)n(a);var c=cc.callFunc(function(){t.stepDone()},this);i.push(cc.delayTime(.8)),i.push(c),this.node.runAction(cc.sequence(i))},shootStep:function(e,t){var i=this,n=s.instance.getFightUI(),a=n.steplabel,c=a.node.parent.convertToWorldSpaceAR(a.node.position);c=n.node.convertToNodeSpaceAR(c);var l=e.parent.convertToWorldSpaceAR(e.position);(l=n.node.convertToNodeSpaceAR(l)).x+=e.width/2,l.y+=e.height/2;var r=o.instance;cc.loader.loadRes("prefab/step",function(o,s){o&&cc.error(o);var a=cc.instantiate(s);a.scale=1.8,a.parent=n.node,a.position=c;var u=a.getComponent(cc.Animation);u&&u.play("fireball");var h=l.sub(c),p=Math.atan2(h.y,h.x),d=-cc.misc.radiansToDegrees(p),f=d+90;a.rotation=f,a.angle=d;var m=cc.moveTo(t,l),v=cc.callFunc(function(){i.spawnCoin(l,10);var t=cc.v2();t.x=e.x+e.width/2,t.y=e.y+e.height/2,i.showflashEffect(e.parent,t),i.processBoardCell.setCellNull(e),r.returnCell(e)},i);a.runAction(cc.sequence(m,v,cc.removeSelf()))})},showflashEffect:function(e,t){cc.loader.loadRes("prefab/particle/killDustParticle",function(i,o){var n=cc.instantiate(o);n&&(n.scale=1,n.parent=e,n.position=t,n.runAction(cc.sequence(cc.delayTime(2),cc.removeSelf())))});cc.loader.loadRes("prefab/flashEffect",function(i,o){var n=cc.instantiate(o);if(n){n.scale=.5,n.parent=e,n.position=t;var s=n.getComponent(cc.Animation);s&&s.play(),n.runAction(cc.sequence(cc.delayTime(1.5),cc.removeSelf()))}})},spawnCoin:function(e,t){var i=s.instance.getFightUI();cc.loader.loadRes("prefab/SaleCoin",function(o,n){o&&cc.error(o);var s=cc.instantiate(n);s.parent=i.node,s.position=e,s.scale=0,s.getChildByName("label").getComponent(cc.Label).string=t+"";var a=cc.scaleTo(.3,1.5).easing(cc.easeOut(3)),c=cc.moveBy(.3,cc.v2(0,30)),l=cc.spawn(a,c),r=cc.moveBy(.6,cc.v2(0,50)),u=cc.callFunc(function(){i.updateCoin(t)},this),h=cc.sequence(l,r,u,cc.removeSelf());s.runAction(h)})},randomCells:function(e){return this.processBoardCell.randomGetNormalCells(e)}}),cc._RF.pop()},{EnumDefine:"EnumDefine",Game:"Game",PoolMng:"PoolMng",RPGManager:"RPGManager",Utils:"Utils"}],StepUI:[function(e,t,i){"use strict";cc._RF.push(t,"efb8aEpyOhHKKKSotWv0q3t","StepUI");var o=e("RPGManager"),n=(e("Game"),e("Utils")),s=e("LocalStorage"),a=e("BaseUI");cc.Class({extends:a,properties:{},onLoad:function(){this.scaleShow(this.node),this.uibaseData=s.instance.getUIBase()},start:function(){},onBtnCloseClicked:function(e){var t=function(){o.instance.lose(),this.node.removeFromParent()}.bind(this);this.close(t)},onBtnAddStepClicked:function(e){if(this.uibaseData.diamond>=10){this.uibaseData.diamond-=10;var t=function(){o.instance.addStepSuccess(5),this.node.removeFromParent()}.bind(this);this.close(t)}else;},onBtnLookAdsClicked:function(e){},close:function(e){var t=this.node.scale,i=cc.scaleTo(.06,1.1*t,1.1*t).easing(cc.easeBounceInOut()),o=cc.scaleTo(.06,0).easing(cc.easeBounceInOut()),n=cc.callFunc(function(){e&&e()},this),s=cc.sequence(i,o,n);this.node.runAction(s)},onDisable:function(){n.writeUIBaseData(this.uibaseData)}}),cc._RF.pop()},{BaseUI:"BaseUI",Game:"Game",LocalStorage:"LocalStorage",RPGManager:"RPGManager",Utils:"Utils"}],StoryUI:[function(e,t,i){"use strict";cc._RF.push(t,"61e6cc1kStDTai8aXniseLo","StoryUI");e("Game");cc.Class({extends:cc.Component,properties:{bossRoad:cc.Node},ctor:function(){},onLoad:function(){},start:function(){}}),cc._RF.pop()},{Game:"Game"}],UIBase:[function(e,t,i){"use strict";cc._RF.push(t,"acca85jGZVAdIP8QFiMAiFN","UIBase");e("Utils");var o=e("LocalStorage");cc.Class({extends:cc.Component,properties:{coinlabel:{default:null,type:cc.Label},diamondlabel:{default:null,type:cc.Label},audioCoin:{type:cc.AudioSource,default:null}},ctor:function(){this._coinNum=0,this._diamondNum=0},onLoad:function(){var e=o.instance.getUIBase();JSON.stringify(e);e&&(this.coinlabel.string=e.coin+"",this.diamondlabel.string=e.diamond+"",this._coinNum=parseInt(e.coin),this._diamondNum=parseInt(e.diamond))},playCoin:function(){this.audioCoin&&this.audioCoin.play()},getDiamondNum:function(){return this._diamondNum},getCoinNum:function(){return this._coinNum},updateCoin:function(e){this._coinNum+=e,this.coinlabel.string=this._coinNum+""},updateDiamond:function(e){this._diamondNum+=e,this.diamondlabel.string=this._diamondNum+""},writeData:function(){var e={};e.coin=this._coinNum,e.diamond=this._diamondNum,o.instance.setUIBase(e)},start:function(){},onDisable:function(){cc.log("on disable"),this.writeData()},onBtnAddDiamondClicked:function(){var e=this,t=cc.director.getScene()._children[0];cc.loader.loadRes("prefab/DiamondUI",function(i,o){i&&cc.error(i);var n=cc.instantiate(o),s=cc.find("UICamera",t);s&&(n.group=s.group),n.parent=t,n.position=cc.v2(),e.scaleShow(n),n.getComponent("DiamondUI").setUIBase(e)})},onBtnAddCoinClicked:function(){var e=this,t=cc.director.getScene()._children[0];cc.loader.loadRes("prefab/CoinUI",function(i,o){i&&cc.error(i);var n=cc.instantiate(o),s=cc.find("UICamera",t);s&&(n.group=s.group),n.parent=t,n.position=cc.v2(),e.scaleShow(n),n.getComponent("CoinUI").setUIBase(e)})},scaleShow:function(e,t){var i=this.node.scale,o=cc.scaleTo(.08,1.08*i,1.08*i).easing(cc.easeBounceInOut()),n=cc.scaleTo(.08,1*i,1*i).easing(cc.easeBounceInOut()),s=cc.scaleTo(.08,1.05*i,1.05*i).easing(cc.easeBounceInOut()),a=cc.scaleTo(.08,1*i,1*i).easing(cc.easeBounceInOut()),c=cc.callFunc(function(){t&&t()},this),l=cc.sequence(o,n,s,a,c,null);e.runAction(l)}}),cc._RF.pop()},{LocalStorage:"LocalStorage",Utils:"Utils"}],UISoundAudio:[function(e,t,i){"use strict";cc._RF.push(t,"b02a26BbqBKwI/GqkU6zk4V","UISoundAudio"),cc.Class({extends:cc.Component,properties:{levelup:{type:cc.AudioClip,default:null},Coin:{type:cc.AudioClip,default:null},petlevelup:{type:cc.AudioClip,default:null},ButtonClick:{type:cc.AudioClip,default:null}},start:function(){}}),cc._RF.pop()},{}],UpGradeActorUI:[function(e,t,i){"use strict";cc._RF.push(t,"6e2edUZPeZGOqMXy+1rdrvE","UpGradeActorUI");var o=e("JsonData"),n=e("LocalStorage"),s=e("EnumDefine").ActorType,a=e("Utils"),c=e("BaseUI");cc.Class({extends:c,properties:{upGradeNode:cc.Node,DiamondSpriteFrame:{default:null,type:cc.SpriteFrame},CoinSpriteFrame:{default:null,type:cc.SpriteFrame},roleName:cc.Label,role:cc.Node,attackLabel:cc.Label,levelLabel:cc.Label,buyWord:cc.Label,buyNum:cc.Label,coin:cc.Sprite,progressBar:cc.ProgressBar,role1:cc.Node,role2:cc.Node,role3:cc.Node,role4:cc.Node,gou1:cc.Node,gou2:cc.Node,gou3:cc.Node,gou4:cc.Node,link1:cc.Node,link2:cc.Node,link3:cc.Node,link4:cc.Node,midbk:cc.Node,audioLevelUp:{type:cc.AudioSource,default:null},Cell:{default:null,type:sp.Skeleton},attackBk:cc.Node,levelBk:cc.Node,title:cc.Label},ctor:function(){this.maxlevel=120,this.level=1,this.roletype=0,this.lock=!0,this._buyRoleDiamond=0,this._levelUpCoin=0},onLoad:function(){this.scaleShow(this.node),this._pageView=cc.find("Canvas/midbk/ActorUI/PageView").getComponent(cc.PageView)},darknode:function(e){cc.log("lock",e),e?(this.role.color=cc.Color.BLACK,this.role1.color=cc.Color.BLACK):(this.role.color=cc.Color.WHITE,this.role1.color=cc.Color.WHITE)},start:function(){},init:function(e,t){this._uibase=t,this.roletype=e;var i=n.instance.getRoleData(e),c=!0;i&&(this.level=i.level,this.lock=c=!1),this.darknode(this.lock);var l=this;switch(o.instance.loadRoleUpgradeData(this.roletype+1,this.level,function(e){l.updateInfo(e,c)}),this.roleName.string=a.getRoleName(e),this.title.string=this.roleName.string,this.level>=this.maxlevel?this.upGradeNode.active=!1:this.upGradeNode.active=!0,e){case s.Actor1:var r=this.Cell;cc.loader.loadRes("spine/fruite/tomatoes",sp.SkeletonData,function(e,t){e&&cc.error(e),r.skeletonData=t}),this.levelBk.color=cc.color(213,60,31,255);break;case s.Actor2:var u=this.Cell;cc.loader.loadRes("spine/fruite/eggplant",sp.SkeletonData,function(e,t){e&&cc.error(e),u.skeletonData=t}),this.levelBk.color=cc.color(83,101,195,255);break;case s.Actor3:var h=this.Cell;cc.loader.loadRes("spine/fruite/orange",sp.SkeletonData,function(e,t){e&&cc.error(e),h.skeletonData=t}),this.levelBk.color=cc.color(224,155,66,255);break;case s.Actor4:var p=this.Cell;cc.loader.loadRes("spine/fruite/apple",sp.SkeletonData,function(e,t){e&&cc.error(e),p.skeletonData=t}),this.levelBk.color=cc.color(72,224,66,255);break;case s.Actor5:var d=this.Cell;cc.loader.loadRes("spine/fruite/radish",sp.SkeletonData,function(e,t){e&&cc.error(e),d.skeletonData=t}),this.levelBk.color=cc.color(230,205,233,255)}},updateInfo:function(e,t){if(e){if(t){this.activNode(!1),this.buyWord.string="\u8d2d\u4e70",this.coin.getComponent("cc.Sprite").spriteFrame=this.DiamondSpriteFrame;var i=this;o.instance.getBuyRoleData(this.roletype+1,function(e){e&&(i.buyNum.string=e.BuyPrice+"",i._buyRoleDiamond=parseInt(e.BuyPrice))})}else{if(this.levelLabel.string=e.level+"",this.attackLabel.string=e.attack+"",this.buyWord.string="\u8fdb\u5316",this.coin.getComponent("cc.Sprite").spriteFrame=this.CoinSpriteFrame,this.level=e.level,this.level<this.maxlevel){var n=this;o.instance.loadRoleUpgradeData(this.roletype+1,this.level+1,function(e){n.buyNum.string=e.upgradecoin+"",n._levelUpCoin=parseInt(e.upgradecoin)})}}this.initRole(),this.upDateProgressBar()}},upDateProgressBar:function(){var e=100*this.level/this.maxlevel/100;this.progressBar.progress=e},initRole:function(){var e=this.roletype,t=this.role,i=a.getActorSpineName(e,this.level);if(this.loadRole(t,i,!0),this.lock)this.darknode(this.lock);else{this.darknode(!1);var o=this.level;o<40?(this.role1.color=cc.Color.WHITE,this.role2.color=cc.Color.BLACK,this.role3.color=cc.Color.BLACK,this.role4.color=cc.Color.BLACK,this.link1.active=!1,this.link2.active=!0,this.link3.active=!0,this.link4.active=!0,this.gou1.active=!0,this.gou2.active=!1,this.gou3.active=!1,this.gou4.active=!1,this.loadRoles(e)):o>=40&&o<80?(this.loadRoles(e),this.role1.color=cc.Color.WHITE,this.role2.color=cc.Color.WHITE,this.role3.color=cc.Color.BLACK,this.role4.color=cc.Color.BLACK,this.link1.active=!1,this.link2.active=!1,this.link3.active=!0,this.link4.active=!0,this.gou1.active=!0,this.gou2.active=!0,this.gou3.active=!1,this.gou4.active=!1):o>=80&&o<120?(this.loadRoles(e),this.role1.color=cc.Color.WHITE,this.role2.color=cc.Color.WHITE,this.role3.color=cc.Color.WHITE,this.role4.color=cc.Color.BLACK,this.link1.active=!1,this.link2.active=!1,this.link3.active=!1,this.link4.active=!0,this.gou1.active=!0,this.gou2.active=!0,this.gou3.active=!0,this.gou4.active=!1):o>=120&&(this.loadRoles(e),this.role1.color=cc.Color.WHITE,this.role2.color=cc.Color.WHITE,this.role3.color=cc.Color.WHITE,this.role4.color=cc.Color.WHITE,this.link1.active=!1,this.link2.active=!1,this.link3.active=!1,this.link4.active=!1,this.gou1.active=!0,this.gou2.active=!0,this.gou3.active=!0,this.gou4.active=!0)}},loadRoles:function(e){var t=a.getActorSpineName(e,1);this.loadRole(this.role1,t),t=a.getActorSpineName(e,40),this.loadRole(this.role2,t),t=a.getActorSpineName(e,80),this.loadRole(this.role3,t),t=a.getActorSpineName(e,120),this.loadRole(this.role4,t)},loadRole:function(e,t,i){var o="spine/actor/"+t,n=e.getComponent("sp.Skeleton"),s=this;cc.loader.loadRes(o,sp.SkeletonData,function(e,t){e&&cc.error(e),n.skeletonData=t,!s.lock&&i&&n.setAnimation(0,"idle",!0)})},onBtnCloseSubActorUI:function(){var e=this,t=this.node.scale,i=cc.scaleTo(.1,1.1*t,1.1*t).easing(cc.easeBounceInOut()),o=cc.scaleTo(.1,0).easing(cc.easeBounceInOut()),n=cc.callFunc(function(){e.node.active=!1,e._pageView.getPages()[e.roletype].getComponent("ActorUIPage").init(e.roletype)},this),s=cc.sequence(i,o,n);this.node.runAction(s)},activNode:function(e){this.levelLabel.node.active=e,this.attackLabel.node.active=e},onBtnUpdate:function(){if(this.lock){if(!this.buyRoleDiamond(this._buyRoleDiamond))return;this.lock=!1,this.activNode(!0),this.darknode(this.lock);var e=this;o.instance.loadRoleUpgradeData(this.roletype+1,this.level,function(t){e.updateInfo(t,e.lock);var i={};i.roletype=e.roletype,i.level=t.level,i.attack=t.attack,n.instance.setRoleData(i),e._levelUpCoin=parseInt(t.upgradecoin)})}else this.levelUp()},roleUpdate:function(e){var t=this.roletype,i=this.role,o=a.getActorSpineName(t,e);this.loadRole(i,o,!0),i.scale=0;var n=cc.scaleTo(.2,1.2,1.2).easing(cc.easeBounceInOut()),s=cc.scaleTo(.2,1,1).easing(cc.easeBounceInOut()),c=cc.sequence(n,s);i.runAction(c);cc.loader.loadRes("prefab/roleUp",function(e,t){var o=cc.instantiate(t);o.scale=2,o.parent=i.parent,o.position=i.position;var n=cc.sequence(cc.delayTime(1),cc.removeSelf());o.runAction(n)})},levelUp:function(){var e=this.roletype;if(this.level>this.maxlevel)this.upGradeNode.active=!1;else if(this.levelupCoin(this._levelUpCoin)){this.level+=1;var t=this.level,i=this;o.instance.loadRoleUpgradeData(e+1,t,function(o){if(o){var s={};s.roletype=e,s.level=o.level,s.attack=o.attack,n.instance.setRoleData(s),i.upDateProgressBar(),i.levelLabel.string=o.level+"",i.attackLabel.string=o.attack+"",i.scaleUp(i.levelBk),i.scaleUp(i.attackBk);var a=i.levelLabel.node,c=cc.v2(0,0);i.showflashEffect(a,c),a=i.attackLabel.node,c=cc.v2(0,0),i.showflashEffect(a,c),i.buyWord.string="\u8fdb\u5316",i.buyNum.string=o.upgradecoin+"",i._levelUpCoin=parseInt(o.upgradecoin),i.coin.getComponent("cc.Sprite").spriteFrame=i.CoinSpriteFrame,i.audioLevelUp.play(),40===t?(i.roleUpdate(t),i.loadRoles(e),i.role1.color=cc.Color.WHITE,i.role2.color=cc.Color.WHITE,i.role3.color=cc.Color.BLACK,i.role4.color=cc.Color.BLACK,i.link1.active=!1,i.link2.active=!1,i.link3.active=!0,i.link4.active=!0,i.gou1.active=!0,i.gou2.active=!0,i.gou3.active=!1,i.gou4.active=!1):80===t?(i.roleUpdate(t),i.role1.color=cc.Color.WHITE,i.role2.color=cc.Color.WHITE,i.role3.color=cc.Color.WHITE,i.role4.color=cc.Color.BLACK,i.link1.active=!1,i.link2.active=!1,i.link3.active=!1,i.link4.active=!0,i.gou1.active=!0,i.gou2.active=!0,i.gou3.active=!0,i.gou4.active=!1):t>=120&&(i.roleUpdate(t),i.role1.color=cc.Color.WHITE,i.role2.color=cc.Color.WHITE,i.role3.color=cc.Color.WHITE,i.role4.color=cc.Color.WHITE,i.link1.active=!1,i.link2.active=!1,i.link3.active=!1,i.link4.active=!1,i.gou1.active=!0,i.gou2.active=!0,i.gou3.active=!0,i.gou4.active=!0)}})}},levelupCoin:function(e){var t=!1;this._uibase&&(this._uibase.getCoinNum()>=e&&(t=!0,this._uibase.updateCoin(-e)));return t},buyRoleDiamond:function(e){var t=!1;this._uibase&&(this._uibase.getDiamondNum()>=e&&(t=!0,this._uibase.updateDiamond(-e)));return t},showflashEffect:function(e,t){cc.loader.loadRes("prefab/particle/killDustParticle",function(i,o){var n=cc.instantiate(o);n&&(n.scale=1,n.parent=e,n.position=t,n.runAction(cc.sequence(cc.delayTime(2),cc.removeSelf())))})},scaleUp:function(e){e.stopAllActions(),e.scale=1;var t=e.scale,i=cc.scaleTo(.25,1.2*t,1.2*t).easing(cc.easeOut(3)),o=cc.scaleTo(.25,1*t,1*t).easing(cc.easeOut(3)),n=cc.sequence(i,o);e.runAction(n)}}),cc._RF.pop()},{BaseUI:"BaseUI",EnumDefine:"EnumDefine",JsonData:"JsonData",LocalStorage:"LocalStorage",Utils:"Utils"}],Utils:[function(e,t,i){"use strict";cc._RF.push(t,"6e36794TgdII6mwO8NKhw60","Utils");var o=75,n=75,s=(e("PoolMng"),Math.random,e("EnumDefine")),a=s.ActorType,c=s.CellType,l=s.CellsRelativeDir,r=(s.LevelResult,e("LocalStorage")),u=cc.Enum({ButtonCoin:0,SaleCoin:1,Diamond:2,Star:3,UnKnown:-1});function h(e,t){return Math.random()*(t-e)+e}function p(e,t){return Math.floor(h(e,t))}function d(e,t){var i=e*o,s=t*n;return cc.v2(i,s)}function f(e,t,i){if(1===t)e.push(i);else for(var o=0;o<t;o++){var n=h(i.x-50,i.x+50),s=h(i.y-50,i.y+50);e.push(cc.v2(n,s))}}t.exports={NUMROWS:8,NUMCOLUMNS:8,TITLE_WIDTH:o,TITLE_HEIGHT:n,pointForColumn:d,DropCellPosition:function(e,t,i,s,a){var l=null;switch(e){case c.KeyUp:case c.KeyDown:case c.KeyLeft:case c.KeyRight:case c.PropFlash:case c.BlockDiamond:(l=d(t,i)).x=l.x-s/2,l.y=l.y-a/2,l.x+=o/2,l.y+=n/2;break;default:(l=d(t,i)).x=l.x-s/2,l.y=l.y-a/2}return l},randomRangeInt:p,randomRange:h,produceRandomNodeMove:function(e,t,i,o,n,s){if(!(t<=0)){var a=0,c=[],l=[];f(c,t,i);for(var r=function(t){var i="";switch(e){case u.ButtonCoin:i="prefab/buttonCoin";break;case u.ScaleCoin:i="prefab/SaleCoin";break;case u.Diamond:i="prefab/buttonDiamond"}cc.loader.loadRes(i,function(e,i){e&&cc.error(e);var r=cc.instantiate(i),u=c[t];r.position=u,l.push(r),r.scale=0,r.parent=n;var p=o.sub(r.position).mag()/100*2;a=a<p?p:a,function(){var e=r.position,i=cc.v2();i.x=e.x-h(60,150),i.y=e.y,i.y+=h(200,400);var n=cc.v2();n.x=i.x-h(50,100),n.y=e.y;var a=[e,i,n],c=cc.bezierTo(.35,a),l=cc.moveTo(.35,o).easing(cc.easeOut(3)),u=cc.scaleTo(.1,1.2).easing(cc.easeOut(3)),p=cc.callFunc(function(){s&&s(),r.destroy()}),d=cc.sequence(cc.delayTime(.02*t),u,c,l,p);r.runAction(d)}()})},p=0;p<t;p++)r(p)}},produceRandomNodeLineMove:function(e,t,i,o,n,s){if(!(t<=0)){var a=0,c=[],l=[];f(c,t,i);for(var r=0;r<t;r++){var h=c[r],p=o.sub(h).mag()/100*.2;a=a<p?p:a}for(var d=function(t){var i="",a=1;switch(e){case u.ButtonCoin:i="prefab/buttonCoin",a=2;break;case u.ScaleCoin:i="prefab/SaleCoin",a=2;break;case u.Diamond:i="prefab/buttonDiamond",a=2;break;case u.Star:i="prefab/star",a=.45}cc.loader.loadRes(i,function(e,i){e&&cc.error(e);var r=cc.instantiate(i),u=c[t];r.position=u,l.push(r),r.scale=0,r.zIndex=10,r.parent=n;var h=o.sub(r.position).mag()/100*.2;(function(){var e=r.position,i=cc.v2();i.x=(e.x+o.x)/2,i.y=(e.y+o.y)/2;var n=[e,i,o],c=cc.bezierTo(h,n),l=cc.scaleTo(.1,a).easing(cc.easeOut(3)),u=cc.callFunc(function(){s&&s(),r.destroy()}),p=cc.sequence(cc.delayTime(.02*t),l,c,u);r.runAction(p)})()})},m=0;m<t;m++)d(m);return a+.02*t+.1+.5}},ProduceType:u,getActorSpineName:function(e,t){var i=["kaokao","kaokao_2","kaokao_3","kaokao_4"],o=["mika","mika_2","mika_3","mika_4"],n=["ricky","ricky_2","ricky_3","ricky_4"],s=["tutu","tutu_2","tutu_3","tutu_4"],c=["actor1","actor2","actor2","actor4"];switch(e){case a.Actor1:return t<40?i[0]:t>=40&&t<80?i[1]:t<=80&&t<120?i[2]:i[3];case a.Actor2:return t<40?o[0]:t>=40&&t<80?o[1]:t<=80&&t<120?o[2]:o[3];case a.Actor3:return t<40?n[0]:t>=40&&t<80?n[1]:t<=80&&t<120?n[2]:n[3];case a.Actor4:return t<40?s[0]:t>=40&&t<80?s[1]:t<=80&&t<120?s[2]:s[3];case a.Actor5:return t<40?c[0]:t>=40&&t<80?c[1]:t<=80&&t<120?c[2]:c[3]}},getPetFileName:function(e){return["cattle","chicken","dog","duck","frog","hippo","horse","monkey","mouse","orangutan","owl","panda","pig","rabbit","sheep","tiger"][e]},getGhostPetFileName:function(e){return["cattle_ghost","chicken_ghost","dog_ghost","duck_ghost","frog_ghost","hippo_ghost","horse_ghost","monkey_ghost","mouse_ghost","orangutan_ghost","owl_ghost","panda_ghost","pig_ghost","rabbit_ghost","sheep_ghost","tiger_ghost"][e]},computeSpin:function(e){for(var t=e.length,i=0,o=0;o<t;o++)i+=e[o],e[o]=i;for(var n=h(0,i),s=0;s<t-1;s++)if(n>=e[s]&&n<e[s+1])return s+1;return 0},getStageName:function(e){switch(e){case 10001:name="Farm1";break;case 10002:name="Farm2";break;case 10003:name="Farm3";break;case 20001:name="Forest1";break;case 20002:name="Forest2";break;case 20003:name="Forest3";break;case 30001:name="Snow1";break;case 30002:name="Snow2";break;case 30003:name="Snow3";break;case 40001:name="Volcano1";break;case 40002:name="Volcano2";break;case 40003:name="Volcano3"}return name},getCellName:function(e){switch(e){case c.Cell1:return"tomatoes";case c.Cell2:return"eggplant";case c.Cell3:return"orange";case c.Cell4:return"apple";case c.Cell5:return"radish"}},getRoleName:function(e){switch(e){case a.Actor1:return"\u7c73\u5494";case a.Actor2:return"\u9760\u9760";case a.Actor3:return"\u745e\u5947";case a.Actor4:return"\u7a81\u7a81";case a.Actor5:return"\u718a\u732b";default:return""}},writeUIBaseData:function(e){r.instance.setUIBase(e)},showBaby:function(e,t,i){var o=["baby01","baby02","baby03","baby04","baby05","baby06"],n="spine/baby/";n+=o[p(0,o.length)],cc.loader.loadRes(n,sp.SkeletonData,function(o,n){o&&cc.error(o);var s=new cc.Node;s.setAnchorPoint(.5,0),s.parent=e,s.position=t;var a=s.addComponent("sp.Skeleton");a.skeletonData=n,a.setAnimation(0,"idle",!0),s.scale=0;var c=cc.scaleTo(.3,1).easing(cc.easeOut(3)),l=cc.moveBy(.3,cc.v2(0,50)),r=cc.spawn(c,l),u=cc.moveBy(.6,cc.v2(0,200)),h=cc.callFunc(function(){i&&i()},this),p=cc.sequence(r,u,h,cc.removeSelf());s.runAction(p)})},showDiamond:function(e,t,i,o){cc.loader.loadRes("prefab/blockDiamond",function(n,s){n&&cc.error(n);var a=cc.instantiate(s),c=a.getChildByName("num");c&&(c.getComponent("cc.Label").string=i+""),a.parent=e,a.position=t,a.scale=0;var l=cc.scaleTo(.3,1).easing(cc.easeOut(3)),r=cc.moveBy(.3,cc.v2(0,50)),u=cc.spawn(l,r),h=cc.moveBy(1.2,cc.v2(0,100)),p=cc.callFunc(function(){o&&o()},this),d=cc.sequence(u,h,p,cc.removeSelf());a.runAction(d)})},ReadyGo:function(e){var t=cc.director.getScene()._children[0],i=cc.callFunc(function(){cc.loader.loadRes("texture/UI",cc.SpriteAtlas,function(e,i){var o=i.getSpriteFrame("ready"),n=new cc.Node("");n.group="UI",n.addComponent("cc.Sprite").spriteFrame=o,n.scale=0;var s=cc.scaleTo(.1,1.2).easing(cc.easeOut(3)),a=cc.scaleTo(.1,1.1).easing(cc.easeOut(3)),c=cc.sequence(s,a,cc.fadeOut(.5),cc.removeSelf());n.runAction(c),n.parent=t,n.position=cc.v2(0,0)})},this),o=cc.callFunc(function(){cc.loader.loadRes("texture/UI",cc.SpriteAtlas,function(e,i){var o=i.getSpriteFrame("go"),n=new cc.Node("");n.group="UI",n.addComponent("cc.Sprite").spriteFrame=o,n.scale=0;var s=cc.scaleTo(.1,1.2).easing(cc.easeOut(3)),a=cc.scaleTo(.1,1.1).easing(cc.easeOut(3)),c=cc.sequence(s,a,cc.fadeOut(.5),cc.removeSelf());n.runAction(c),n.parent=t,n.position=cc.v2(0,0)})},this),n=cc.callFunc(function(){e&&e()},this),s=cc.sequence(i,cc.delayTime(.7),o,cc.delayTime(1.2),n);t.runAction(s)},cellDirWithCell:function(e,t){if(!e||!t)return l.UnKnown;var i=e.getComponent("Cell"),o=t.getComponent("Cell"),n=i.column,s=i.row,a=o.column,c=o.row;if(n===a){if(s===c+1)return l.Top;if(s===c-1)return l.Bottom}if(s===c){if(n===a+1)return l.Right;if(n===a-1)return l.Left}return n===a-1&&s===c+1?l.LeftUpper:n===a+1&&s===c+1?l.RightUpper:n===a-1&&s===c-1?l.LeftLower:n===a+1&&s===c-1?l.RightLower:l.UnKnown},SetUISpriteFrame:function(e,t,i){cc.loader.loadRes("texture/UI",cc.SpriteAtlas,function(o,n){var s=n.getSpriteFrame(t);e.spriteFrame=s,i&&i()})},levelData:null,levelID:1,passLevelStars:0,levelResultData:{},mainSceneAudioID:-1,DayReWardRoleID:1,FreeSpinVal:0,PropFlashCnt:0,LevelEditorBoardData:null,LevelEditorLevelGoles:null,UISpriteAtlas:null,StageSpriteAtlas:null},cc._RF.pop()},{EnumDefine:"EnumDefine",LocalStorage:"LocalStorage",PoolMng:"PoolMng"}],Win:[function(e,t,i){"use strict";cc._RF.push(t,"dde8awDcs1Cs6/Rwo1asviQ","Win"),cc.Class({extends:cc.Component,properties:{shine:cc.Node,tip:cc.Node,left:cc.Node,right:cc.Node,isWin:0},ctor:function(){this.show=!1},onLoad:function(){},showLose:function(){var e=cc.moveBy(.5,cc.v2(0,820)).easing(cc.easeBounceInOut());this.tip.runAction(cc.sequence(e,null)),e=cc.moveBy(.5,cc.v2(0,820)).easing(cc.easeBounceInOut()),this.shine.runAction(cc.sequence(e,null));var t=cc.repeatForever(cc.rotateBy(5,360));this.shine.runAction(t);var i=cc.callFunc(function(){},this);this.node.runAction(cc.sequence(cc.delayTime(.5),i))},showWin:function(){var e=this,t=this.left.getComponent("sp.Skeleton");t.setAnimation(0,"idle",!1),t.timeScale=1.2,(t=this.right.getComponent("sp.Skeleton")).setAnimation(0,"idle",!1),t.timeScale=1.2;var i=cc.callFunc(function(){e.showTip()},this);this.node.runAction(cc.sequence(cc.delayTime(.2),i));var o=this;t.setCompleteListener(function(e,t){o.left.active=!1,o.right.active=!1})},showTip:function(){var e=cc.moveBy(.5,cc.v2(0,820)).easing(cc.easeOut(3));this.tip.runAction(cc.sequence(e,null)),e=cc.moveBy(.5,cc.v2(0,820)).easing(cc.easeOut(3)),this.shine.runAction(cc.sequence(e,null));var t=cc.repeatForever(cc.rotateBy(5,360));this.shine.runAction(t);var i=cc.callFunc(function(){},this);this.node.runAction(cc.sequence(cc.delayTime(.5),i))},start:function(){}}),cc._RF.pop()},{}],en:[function(e,t,i){"use strict";cc._RF.push(t,"920c5VLzJxKjYCAoIUwUHym","en"),t.exports={example_case_tips_content:"The example case not support the current platform",example_case_nonsupport_native_desktop_tips:"The example case nonsupport the Mac platform and Windows platform",example_case_nonsupport_runtime_tips:"The example case does not support the runtime platform",example_case_nonsupport_mobile_tips:"The example case nonsupport mobile platforms",example_case_nonsupport_web_canvas_tips:"The example case nonsupport Canvas mode",example_case_support_webGl_tips:"The example case only supports WebGL mode",example_case_support_mobile_tips:"The example case only supports mobile platforms",example_case_support_mobile_android_tips:"The example case only supports Android mobile platform",example_case_support_native_chrome_tips:"The example case only supports Chrome browser (Native)",example_case_support_native_desktop_tips:"The example case only supports the Mac platform and Windows platform",example_case_nonsupport_preview_tips:"The example case nonsupport Preview",example_case_nonsupport_qqplay_tips:"The example case nonsupport QQplay",example_case_nonsupport_Wechatgame_tips:"The example case nonsupport Wechatgame","cases/01_graphics/01_sprite/AtlasSprite.fire.7":"This is Spirte Single.","cases/01_graphics/01_sprite/AtlasSprite.fire.11":"This is Spirte From Atlas.","cases/01_graphics/01_sprite/FilledSprite.fire.9":"Fill Type: HORIZONTAL","cases/01_graphics/01_sprite/FilledSprite.fire.15":"Fill Type: VERTICAL","cases/01_graphics/01_sprite/FilledSprite.fire.23":"FILL Type: RADIAL","cases/01_graphics/01_sprite/SimpleSprite.fire.7":"This is Simple Sprite.","cases/01_graphics/01_sprite/SlicedSprite.fire.7":"This is Sliced Sprite.","cases/01_graphics/01_sprite/TiledSprite.fire.6":"This is Tiled Sprite.","cases/01_graphics/01_sprite/ChangeColor.fire.1":"Draw Call should be changed when change color.","cases/01_graphics/01_sprite/TrimmedSprite.fire.7":"TRIMMED ","cases/01_graphics/01_sprite/TrimmedSprite.fire.12":"No TRIMMED","cases/01_graphics/02_particle/AutoRemoveParticle.fire.9":'Particle 1\n"Auto Remove On Finish" disabled',"cases/01_graphics/02_particle/AutoRemoveParticle.fire.13":'Particle 2\n"Auto Remove On Finish" enabled',"cases/01_graphics/02_particle/ToggleParticle.fire.6":'Press "Button" to toggle particle play',"cases/02_ui/01_widget/AdvancedWidget.fire.7":"Top Left","cases/02_ui/01_widget/AdvancedWidget.fire.9":"top: 10% left: 6%","cases/02_ui/01_widget/AdvancedWidget.fire.14":"Top Left","cases/02_ui/01_widget/AdvancedWidget.fire.16":"top: -34px","cases/02_ui/01_widget/AdvancedWidget.fire.21":"Top Right","cases/02_ui/01_widget/AdvancedWidget.fire.23":"top: 10% right: 6%","cases/02_ui/01_widget/AdvancedWidget.fire.28":"Left","cases/02_ui/01_widget/AdvancedWidget.fire.30":"left: -50px","cases/02_ui/01_widget/AdvancedWidget.fire.35":"Right","cases/02_ui/01_widget/AdvancedWidget.fire.37":"right: -50px","cases/02_ui/01_widget/AdvancedWidget.fire.42":"Bottom Left","cases/02_ui/01_widget/AdvancedWidget.fire.44":"bottom: 10% left: 6%","cases/02_ui/01_widget/AdvancedWidget.fire.49":"Bottom","cases/02_ui/01_widget/AdvancedWidget.fire.51":"bottom: -34px","cases/02_ui/01_widget/AdvancedWidget.fire.56":"Bottom Right","cases/02_ui/01_widget/AdvancedWidget.fire.58":"bottom:10% right:6%","cases/02_ui/01_widget/AdvancedWidget.fire.63":"This is Advanced WIdget.","cases/02_ui/01_widget/AlignOnceWidget.fire.1":"AlignOne is false, It is always aligns","cases/02_ui/01_widget/AlignOnceWidget.fire.2":"AlignOne is true, It aligns only once","cases/02_ui/01_widget/AnimatedWidget.fire.9":"This is Animation Widget.","cases/02_ui/01_widget/AutoResize.fire.13":"This is Widget Auto Resize.","cases/02_ui/01_widget/WidgetAlign.fire.18":"This is Widget Align.","cases/02_ui/02_label/GoldBeatingAnime.js.1":"0","cases/02_ui/02_label/AlignFontLabel.fire.6":"Align Label","cases/02_ui/02_label/AlignFontLabel.fire.9":"Horizontal Align","cases/02_ui/02_label/AlignFontLabel.fire.14":"Hello! \nWelcome Come To \nCocos Creator","cases/02_ui/02_label/AlignFontLabel.fire.16":"Align: LEFT","cases/02_ui/02_label/AlignFontLabel.fire.21":"Hello! \nWelcome Come To \nCocos Creator","cases/02_ui/02_label/AlignFontLabel.fire.23":"Align: CENTER","cases/02_ui/02_label/AlignFontLabel.fire.28":"Hello! \nWelcome Come To \nCocos Creator","cases/02_ui/02_label/AlignFontLabel.fire.30":"Align: RIGHT","cases/02_ui/02_label/AlignFontLabel.fire.33":"Vertical Align","cases/02_ui/02_label/AlignFontLabel.fire.38":"Welcome Come To \nCocos Creator","cases/02_ui/02_label/AlignFontLabel.fire.40":"Align: TOP","cases/02_ui/02_label/AlignFontLabel.fire.45":"Welcome Come To \nCocos Creator","cases/02_ui/02_label/AlignFontLabel.fire.47":"Align: CENTER","cases/02_ui/02_label/AlignFontLabel.fire.52":"Welcome Come To \nCocos Creator","cases/02_ui/02_label/AlignFontLabel.fire.54":"Align: BOTTOM","cases/02_ui/02_label/SystemFontLabel.fire.6":"System Font","cases/02_ui/02_label/SystemFontLabel.fire.9":"Wrap","cases/02_ui/02_label/SystemFontLabel.fire.14":"This is System Font","cases/02_ui/02_label/SystemFontLabel.fire.16":"Overflow: CLAMP","cases/02_ui/02_label/SystemFontLabel.fire.21":"This is System Font","cases/02_ui/02_label/SystemFontLabel.fire.23":"Overflow: SHRINK","cases/02_ui/02_label/SystemFontLabel.fire.26":"No Wrap","cases/02_ui/02_label/SystemFontLabel.fire.31":"This is System Font","cases/02_ui/02_label/SystemFontLabel.fire.33":"Overflow: CLAMP","cases/02_ui/02_label/SystemFontLabel.fire.38":"This is System Font","cases/02_ui/02_label/SystemFontLabel.fire.40":"Overflow: SHRINK","cases/02_ui/02_label/SystemFontLabel.fire.45":"Hello! Welcome Come To Cocos Creator","cases/02_ui/02_label/SystemFontLabel.fire.47":"Overflow: RESZIE_HEIGHT","cases/02_ui/03_button/ButtonInScroll.js.1":"Top button clicked!","cases/02_ui/03_button/ButtonInScroll.js.2":"Bottom button clicked!","cases/02_ui/03_button/ButtonInScroll.fire.21":"Which button is clicked?","cases/02_ui/03_button/ButtonInScroll.fire.27":"drag to reveal more buttons","cases/02_ui/03_button/SimpleButton.js.1":"Left button clicked!","cases/02_ui/03_button/SimpleButton.js.2":"Right button clicked!","cases/02_ui/03_button/ButtonInteractable.fire.7":"PLAY","cases/02_ui/03_button/ButtonInteractable.fire.16":"STOP","cases/02_ui/03_button/ButtonInteractable.fire.21":"interactable: true","cases/02_ui/03_button/ButtonInteractable.fire.23":"interactable: false","cases/02_ui/03_button/ButtonInteractable.js.1":"interactable: ","cases/02_ui/03_button/ButtonInteractable.js.2":"interactable: ","cases/02_ui/03_button/SimpleButton.fire.6":"Which button is clicked?","cases/02_ui/04_progressbar/progressbar.fire.7":"Horizontal bar with progress 0.3","cases/02_ui/04_progressbar/progressbar.fire.11":"Horizontal bar reverse with progress 1.0","cases/02_ui/04_progressbar/progressbar.fire.15":"Vertical bar \nfrom bottom","cases/02_ui/04_progressbar/progressbar.fire.19":"Vertical bar \nfrom top","cases/02_ui/04_progressbar/progressbar.fire.23":"Progress bar with sprite","cases/02_ui/04_progressbar/progressbar.fire.28":"Progress bar with child sprite","cases/02_ui/05_scrollView/Item.js.1":"Tmpl#","cases/02_ui/05_scrollView/ListView.fire.23":"Item #00","cases/02_ui/05_scrollView/ScrollView.fire.7":"Scrollview full functionality","cases/02_ui/05_scrollView/ScrollView.fire.30":"Scrollview without inertia","cases/02_ui/05_scrollView/ScrollView.fire.53":"Scrollview without elastic","cases/02_ui/05_scrollView/ScrollView.fire.76":"Scrollview horizontal scroll only","cases/02_ui/05_scrollView/ScrollView.fire.93":"Scrollview vertical only","cases/02_ui/05_scrollView/ScrollView.fire.110":"Scrollview no scrollbar","cases/02_ui/06_layout/LayoutResizeContainer.fire.6":"Basic","cases/02_ui/06_layout/LayoutResizeContainer.fire.31":"Horizontal","cases/02_ui/06_layout/LayoutResizeContainer.fire.36":"Vertical","cases/02_ui/06_layout/LayoutResizeContainer.fire.41":"Grid Layout Axis horizontal","cases/02_ui/06_layout/LayoutResizeContainer.fire.46":"Grid Layout Axis vertical","cases/02_ui/06_layout/LayoutResizeChildren.fire.6":"Horizontal layout none","cases/02_ui/06_layout/LayoutResizeChildren.fire.31":"Vertical layout none","cases/02_ui/06_layout/LayoutResizeChildren.fire.48":"Grid start axis horizontal none","cases/02_ui/06_layout/LayoutResizeChildren.fire.85":"Grid start axis vertical none","cases/02_ui/06_layout/LayoutInScrollView.fire.6":"ScrollView with vertical  layout","cases/02_ui/06_layout/LayoutInScrollView.fire.40":"ScrollView with horizontal layout","cases/02_ui/06_layout/LayoutInScrollView.fire.74":"ScrollView with Grid Layout\nstart axis: horizontal ","cases/02_ui/06_layout/LayoutInScrollView.fire.144":"ScrollView with Grid Layout\nstart axis: vertical ","cases/02_ui/06_layout/LayoutNone.fire.6":"Basic layout, Type: None\nResize container","cases/02_ui/06_layout/LayoutNone.fire.35":"Horizontal layout None\nNo resize","cases/02_ui/06_layout/LayoutNone.fire.60":"Vertical layout, Type: None\nNo resize","cases/02_ui/06_layout/LayoutNone.fire.77":"Grid start axis: horizontal, Type: None\nNo resize","cases/02_ui/06_layout/LayoutNone.fire.142":"Grid start axis: vertical, Type: None\nNo resize","cases/02_ui/07_change_canvas_anchor/BottomLeftAnchor.fire.8":"x:0, y:0","cases/02_ui/07_change_canvas_anchor/BottomLeftAnchor.fire.12":"x:480, y:320","cases/02_ui/07_change_canvas_anchor/BottomLeftAnchor.fire.16":"x:960, y:640","cases/02_ui/07_editBox/editbox.js.1":"Enter Text: ","cases/02_ui/07_editBox/EditBox.fire.25":"Single Line Password:","cases/02_ui/07_editBox/EditBox.fire.27":"Single Line Text:","cases/02_ui/07_editBox/EditBox.fire.29":"Mutiple Line Text:","cases/02_ui/07_editBox/EditBox.fire.32":"Click","cases/02_ui/07_editBox/EditBox.fire.38":"Button must be on top of EditBox, \nand it should enable click.","cases/02_ui/09_videoplayer/fullscreenVideo.fire":"When you touch the screen, video will be played. \n It will be removed when video complete.","cases/02_ui/09_videoplayer/videoPlayer.nonsupport_fullscreen":"currect device does nonsupport fullscreen.","cases/03_gameplay/01_player_control/EventManager/KeyboardInput.fire.6":"Press 'A' or 'D' to control sheep","cases/03_gameplay/01_player_control/On/OnTouchCtrl.js.1":"touch (","cases/03_gameplay/01_player_control/On/OnTouchInput.fire.10":"Try touching anywhere.","cases/03_gameplay/01_player_control/On/OnMultiTouchInput.fire.20":"The sample can only be effective on mobile platforms!","cases/03_gameplay/01_player_control/On/OnMultiTouchInput.fire.21":"Use your fingers to zoom image!","cases/03_gameplay/01_player_control/On/DeviceMotion.fire.1":"Open Accelerometer","cases/03_gameplay/01_player_control/On/DeviceMotion.fire.2":"Close Accelerometer","cases/03_gameplay/02_actions/SimpleAction.fire.13":"This is Simple Action.","cases/03_gameplay/03_animation/AnimateCustomProperty.fire.14":"Label","cases/03_gameplay/03_animation/AnimateCustomProperty.fire.18":"This is Animate Custom Property.","cases/03_gameplay/03_animation/AnimationEvent.fire.6":"Start the first animation","cases/03_gameplay/03_animation/AnimationEvent.fire.14":"This is Animation Event.","cases/03_gameplay/03_animation/AnimationEvent.js.1":"Start the","cases/03_gameplay/03_animation/MoveAnimation.fire.11":"Linear","cases/03_gameplay/03_animation/MoveAnimation.fire.17":"Case In Expo","cases/03_gameplay/03_animation/MoveAnimation.fire.23":"Case Out Expo","cases/03_gameplay/03_animation/MoveAnimation.fire.29":"Case Out In Expo","cases/03_gameplay/03_animation/MoveAnimation.fire.35":"Back Forward","cases/03_gameplay/03_animation/MoveAnimation.fire.41":"This is Move Animation.","cases/03_gameplay/03_animation/SpriteAnimation.fire.9":"This is SprieFrame Animation.","cases/03_gameplay/03_animation/CreateClip.fire.1":"Dynamic Creating AnimationClip","cases/04_audio/SimpleAudio.fire.6":"Enjoy the music!","cases/05_scripting/01_properties/NodeArray.fire.14":"This is Node Array.","cases/05_scripting/01_properties/NonSerialized.fire.6":"Label","cases/05_scripting/01_properties/NonSerialized.fire.8":"Label","cases/05_scripting/01_properties/NonSerialized.fire.10":"This is Non Serialized.","cases/05_scripting/01_properties/ReferenceType.fire.8":"Label","cases/05_scripting/01_properties/ReferenceType.fire.11":"This example does not include the runtime demonstration","cases/05_scripting/01_properties/ValueType.fire.6":"This example does not include the runtime demonstration","cases/05_scripting/02_prefab/InstantiatePrefab.fire.7":"This is Instantiate Prefab.","cases/05_scripting/03_events/EventInMask.fire.23":"Change order of nodes","cases/05_scripting/03_events/SimpleEvent.fire.19":"Touch event can support click","cases/05_scripting/03_events/SimpleEvent.fire.21":"Mouse event can support click, hover, wheel","cases/05_scripting/03_events/SimpleEvent.fire.23":"Custom event can be triggered manually\n(Click button above)","cases/05_scripting/03_events/SimpleEvent.fire.25":"This is Simple Event.","cases/05_scripting/03_events/TouchPropagation.fire.15":"This is Touch Propagation.","cases/05_scripting/03_events/MousePropagation.fire.1":"This is Mouse Propagation.","cases/05_scripting/04_scheduler/scheduleCallbacks.js.1":"5.00 s","cases/05_scripting/04_scheduler/scheduler.fire.9":"5.00 s","cases/05_scripting/04_scheduler/scheduler.fire.12":"Repeat Schedule","cases/05_scripting/04_scheduler/scheduler.fire.18":"Cancel Schedules","cases/05_scripting/04_scheduler/scheduler.fire.24":"Schedule Once","cases/05_scripting/04_scheduler/scheduler.fire.29":"Counter use update function to change string value each frame","cases/05_scripting/04_scheduler/scheduler.fire.31":"This is Scheduler.","cases/05_scripting/04_scheduler/recursiveScheduler.fire.0":"Click button to start recursive tasks, you should see task2 invoked at last.","cases/05_scripting/04_scheduler/recursiveScheduler.fire.1":"Task1 invoked","cases/05_scripting/04_scheduler/recursiveScheduler.fire.2":"Task2 invoked","cases/05_scripting/04_scheduler/recursiveScheduler.fire.3":"Start tasks","cases/05_scripting/05_cross_reference/CrossReference.fire.7":"Label","cases/05_scripting/05_cross_reference/CrossReference.fire.12":"Label","cases/05_scripting/05_cross_reference/CrossReference.fire.14":"This is Cross Reference.","cases/05_scripting/06_life_cycle/life_cycle.fire.6":"This is Life cycle.","cases/05_scripting/07_asset_loading/AssetLoading.fire.5":"Asset Loading","cases/05_scripting/07_asset_loading/AssetLoading.fire.9":"Load SpriteFrame","cases/05_scripting/07_asset_loading/AssetLoading.fire.15":"Load Texture","cases/05_scripting/07_asset_loading/AssetLoading.fire.21":"Load Audio","cases/05_scripting/07_asset_loading/AssetLoading.fire.27":"Load Txt","cases/05_scripting/07_asset_loading/AssetLoading.fire.33":"Load Font","cases/05_scripting/07_asset_loading/AssetLoading.fire.39":"Load Plist","cases/05_scripting/07_asset_loading/AssetLoading.fire.45":"Load Prefab","cases/05_scripting/07_asset_loading/AssetLoading.fire.51":"Load Scene","cases/05_scripting/07_asset_loading/AssetLoading.fire.57":"Load Animation","cases/05_scripting/07_asset_loading/AssetLoading.fire.59":"Load Spine","cases/05_scripting/07_asset_loading/AssetLoading.fire.65":"Not currently loaded Entity.","cases/05_scripting/07_asset_loading/AssetLoading.js.1":"Loaded ","cases/05_scripting/07_asset_loading/AssetLoading.js.2":"Play ","cases/05_scripting/07_asset_loading/AssetLoading.js.3":"Create ","cases/05_scripting/07_asset_loading/AssetLoading.js.4":"Playing Music.","cases/05_scripting/07_asset_loading/AssetLoading.js.5":"This is Font!","cases/05_scripting/07_asset_loading/LoadRes.fire.7":"By Type","cases/05_scripting/07_asset_loading/LoadRes.fire.10":"Load SpriteFrame","cases/05_scripting/07_asset_loading/LoadRes.fire.17":"By Url","cases/05_scripting/07_asset_loading/LoadRes.fire.20":"Load Prefab","cases/05_scripting/07_asset_loading/LoadResAll.fire.6":"LoadResDir","cases/05_scripting/07_asset_loading/LoadResAll.fire.24":"Load All","cases/05_scripting/07_asset_loading/LoadResAll.fire.30":"Load SpriteFrame All","cases/05_scripting/07_asset_loading/LoadResAll.fire.36":"Clear All","cases/05_scripting/08_module/load_module.fire.6":"Load Module","cases/05_scripting/08_module/load_module.fire.10":"Create Monster","cases/05_scripting/09_singleton/Singleton.fire.6":"This example does not include the runtime demonstration","cases/05_scripting/10_loadingBar/LoadingBarCtrl.js.1":"download complete!!","cases/05_scripting/10_loadingBar/LoadingBarCtrl.js.2":"dowloading: ","cases/05_scripting/10_loadingBar/LoadingBarCtrl.js.3":"click anywhere to download...","cases/05_scripting/10_loadingBar/loadingBar.fire.7":"Loading Completed","cases/05_scripting/10_loadingBar/loadingBar.fire.18":"Dowloading","cases/05_scripting/11_network/NetworkCtrl.js.1":"waiting...","cases/05_scripting/11_network/NetworkCtrl.js.2":"waiting...","cases/05_scripting/11_network/NetworkCtrl.js.3":"waiting...","cases/05_scripting/11_network/NetworkCtrl.js.4":"waiting...","cases/05_scripting/11_network/NetworkCtrl.js.5":"WebSocket\\nSend Binary WS was opened.","cases/05_scripting/11_network/NetworkCtrl.js.6":"WebSocket\\nResponse get.","cases/05_scripting/11_network/NetworkCtrl.js.7":"WebSocket\\nsendBinary Error was fired.","cases/05_scripting/11_network/NetworkCtrl.js.8":"WebSocket\\nwebsocket instance closed.","cases/05_scripting/11_network/NetworkCtrl.js.9":"WebSocket\\nSend Binary WS is waiting...","cases/05_scripting/11_network/NetworkCtrl.js.10":"WebSocket\\n","cases/05_scripting/11_network/NetworkCtrl.js.11":"SocketIO\\n","cases/05_scripting/11_network/NetworkCtrl.js.12":"SocketIO\\n","cases/05_scripting/11_network/NetworkCtrl.js.13":"SocketIO\\n","cases/05_scripting/11_network/NetworkCtrl.js.14":"SocketIO\\n","cases/05_scripting/11_network/network.fire.7":"Label","cases/05_scripting/11_network/network.fire.6":"XMLHttpRequest","cases/05_scripting/11_network/network.fire.11":"Label","cases/05_scripting/11_network/network.fire.10":"XMLHttpRequest (ArrayBuffer)","cases/05_scripting/11_network/network.fire.15":"Label","cases/05_scripting/11_network/network.fire.14":"WebSocket","cases/05_scripting/11_network/network.fire.19":"Label","cases/05_scripting/11_network/network.fire.18":"SocketIO","cases/05_scripting/11_network/download-web.fire.1.1":"Remote Audio DownLoad","cases/05_scripting/11_network/download-web.fire.1.2":"Remote Picture DownLoad","cases/05_scripting/11_network/download-web.fire.2":"Wait For DownLoading...","cases/05_scripting/11_network/download-web.fire.3":"DownLoad Process\uff1a","cases/05_scripting/11_network/download-web.fire.4.1":"Audio DownLoad Completed","cases/05_scripting/11_network/download-web.fire.4.2":"Picture DownLoad Completed","cases/05_scripting/11_network/download-web.fire.5.1":"Audio DownLoad Failed","cases/05_scripting/11_network/download-web.fire.5.2":"Picture DownLoad Failed","cases/05_scripting/11_network/download-web.fire.6":"Remote Url:","cases/05_scripting/11_network/download-web.fire.7":"download","cases/05_scripting/11_network/download-web.fire.8":"SlideToNext","cases/05_scripting/11_network/download-web.fire.9":"SlideToPreview","cases/05_scripting/11_network/download-web.fire.10":"Url Is Unavailable","cases/native_call/native_call.fire.1":"JS to JAVA reflection only works Android mobile platform!","cases/native_call/native_call.fire.2":"Click on the button calls the static method!","cases/native_call/native_call.fire.3":"Click","cases/collider/Category.fire.3":"Group: Collider","cases/collider/Category.fire.5":"Group: Collider","cases/collider/Category.fire.7":"Group: Collider","cases/collider/Category.fire.9":"Group: Default","cases/collider/Shape.fire.20":"Show Polygon","cases/collider/Shape.fire.27":"Show Circle","cases/collider/Shape.fire.34":"Show Box","cases/collider/Shape.fire.43":"Show Polygon","cases/collider/Shape.fire.50":"Show Circle","cases/collider/Shape.fire.57":"Show Box","cases/motionStreak/MotionStreak.fire.1":"Change MotionStreak","cases/spine/SpineBoy.fire.11":"Debug Slots","cases/spine/SpineBoy.fire.18":"Debug Bones","cases/spine/SpineBoy.fire.25":"Time Scale","cases/spine/SpineBoy.fire.36":"Stop","cases/spine/SpineBoy.fire.43":"Walk","cases/spine/SpineBoy.fire.50":"Run","cases/spine/SpineBoy.fire.58":"Jump","cases/spine/SpineBoy.fire.65":"Shoot","cases/tiledmap/Puzzle.fire.18":"You Win","cases/tiledmap/Puzzle.fire.21":"Restart","cases/tiledmap/Dynamic-Tiledmap.fire.22":"Dynamically created TiledMap","res/prefabs/ListItem.prefab.2":"Label ssss","res/prefabs/Monster.prefab.3":"Name:","res/prefabs/Monster.prefab.11":"Level :","res/prefabs/Monster.prefab.19":"Hp :","res/prefabs/Monster.prefab.27":"Attack :","res/prefabs/Monster.prefab.35":"Defense :","res/prefabs/loadItem.prefab.1":"Label","resources/test_assets/prefab.prefab.2":"This is Prefab","resources/test_assets/scene.fire.3":"Return Asset Loading Scene","resources/test_assets/scene.fire.6":"Return","scripts/Global/Menu.js.1":"Temporary lack of introduction","cases/subpackage":"Load Subpackage","cases/subpackage.loaded":"Subpackage is loaded","cases/subpackage.failed":"Failed to load the package, please check the console for details","scripts/AudioCtrl_Play":"Play","scripts/AUdioCtrl_Stop":"Stop","scripts/AUdioCtrl_Pause":"Pause","scripts/AUdioCtrl_Resume":"Resume","scripts/AUdioCtrl_StopAll":"StopAll","scripts/AUdioCtrl_PauseAll":"PauseAll","scripts/AUdioCtrl_ResumeAll":"ResumeAll",sprite_loadRes_asset_success:"Load Success",sprite_loadRes_asset_failed:"Load Failed"},cc._RF.pop()},{}],i18n:[function(e,t,i){"use strict";cc._RF.push(t,"93789C/shtIL6entYsZPjee","i18n");var o=e("polyglot"),n="zh"===cc.sys.language?e("zh"):e("en"),s=new o({phrases:n,allowMissing:!0});t.exports={init:function(t){lang=t,n=e("zh"===t?"zh":"en"),s.replace(n)},t:function(e,t){return s.t(e,t)}},cc._RF.pop()},{en:"en",polyglot:"polyglot",zh:"zh"}],levelEditor:[function(e,t,i){"use strict";cc._RF.push(t,"2c85fTr7H1Pj6xUh68zFNUp","levelEditor");var o=e("EnumDefine").CellType,n=e("EnumDefine").LevelEditorID,s=e("EnumDefine").ChestType,a=e("Utils").NUMROWS,c=(e("Utils").NUMCOLUMNS,e("JsonData"),e("PoolMng"),e("Utils"),92*a),l=92*a;cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.leveltarget=this.node.getChildByName("\u5173\u5361\u76ee\u6807"),this.levelProbability=this.node.getChildByName("\u4e0b\u843d\u6982\u7387"),this.levelBoard=this.node.getChildByName("\u5143\u7d20\u5e03\u5c40"),this.levelMonsters=this.node.getChildByName("\u602a\u7269\u5e03\u5c40"),this._map={};var e={},t="\u5143\u7d201",i={celltype:o.Cell1,lv:1};e[t]=i,t="\u5143\u7d202",i={celltype:o.Cell2,lv:1},e[t]=i,t="\u5143\u7d203",i={celltype:o.Cell3,lv:1},e[t]=i,t="\u5143\u7d204",i={celltype:o.Cell4,lv:1},e[t]=i,t="\u5143\u7d205",i={celltype:o.Cell5,lv:1},e[t]=i,t="\u7a7a\u5143\u7d20",i={celltype:o.NoneCell,lv:1},e[t]=i,t="\u56fa\u6001\u5143\u7d20",i={celltype:o.SolidCell,lv:1},e[t]=i,t="\u6e05\u5c4f\u70b8\u5f39",i={celltype:o.ClearBombProp,lv:1},e[t]=i,t="\u4e0b\u843d\u7269\u4f53",i={celltype:o.DropBottomBox,lv:1},e[t]=i,t="\u6742\u83491",i={celltype:o.Weeds,lv:1},e[t]=i,t="\u6742\u83492",i={celltype:o.Weeds,lv:2},e[t]=i,t="\u6742\u83493",i={celltype:o.Weeds,lv:3},e[t]=i,t="\u6811\u68691",i={celltype:o.Stakes,lv:1},e[t]=i,t="\u6811\u68692",i={celltype:o.Stakes,lv:2},e[t]=i,t="\u6811\u68693",i={celltype:o.Stakes,lv:3},e[t]=i,t="\u7bf1\u7b061",i={celltype:o.Fence,lv:1},e[t]=i,t="\u7bf1\u7b062",i={celltype:o.Fence,lv:2},e[t]=i,t="\u7bf1\u7b063",i={celltype:o.Fence,lv:3},e[t]=i,t="\u7c98\u6db2\u8986\u76d6\u72691",i={celltype:o.BlockCover,lv:1},e[t]=i,t="\u7c98\u6db2\u8986\u76d6\u72692",i={celltype:o.BlockCover,lv:2},e[t]=i,t="\u7c98\u6db2\u8986\u76d6\u72693",i={celltype:o.BlockCover,lv:3},e[t]=i,t="\u94a5\u5319\u4e0a",i={celltype:o.KeyUp,lv:1},e[t]=i,t="\u94a5\u5319\u4e0b",i={celltype:o.KeyDown,lv:1},e[t]=i,t="\u94a5\u5319\u5de6",i={celltype:o.KeyLeft,lv:1},e[t]=i,t="\u94a5\u5319\u53f3",i={celltype:o.KeyRight,lv:1},e[t]=i,t="\u9053\u5177\u5b9d\u7bb1",i={celltype:o.Chest,lv:1,type:s.Prop},e[t]=i,t="\u6280\u80fd\u5b9d\u7bb1",i={celltype:o.Chest,lv:1,type:s.Skill},e[t]=i,t="\u91d1\u5e01\u5b9d\u7bb1",i={celltype:o.Chest,lv:1,type:s.Coin},e[t]=i,t="\u94bb\u77f3\u5b9d\u7bb1",i={celltype:o.Chest,lv:1,type:s.Diamond},e[t]=i,t="\u94bb\u77f3",i={celltype:o.BlockDiamond,lv:1},e[t]=i,t="\u9694\u79bb\u6761\u4e0a1\u7ea7",i={celltype:o.BlockSide,lcnt:0,rcnt:0,tcnt:1,bcnt:0},e[t]=i,t="\u9694\u79bb\u6761\u4e0a2\u7ea7",i={celltype:o.BlockSide,lcnt:0,rcnt:0,tcnt:2,bcnt:0},e[t]=i,t="\u9694\u79bb\u6761\u4e0a3\u7ea7",i={celltype:o.BlockSide,lcnt:0,rcnt:0,tcnt:3,bcnt:0},e[t]=i,t="\u9694\u79bb\u6761\u4e0b1\u7ea7",i={celltype:o.BlockSide,lcnt:0,rcnt:0,tcnt:0,bcnt:1},e[t]=i,t="\u9694\u79bb\u6761\u4e0b2\u7ea7",i={celltype:o.BlockSide,lcnt:0,rcnt:0,tcnt:0,bcnt:2},e[t]=i,t="\u9694\u79bb\u6761\u4e0b3\u7ea7",i={celltype:o.BlockSide,lcnt:0,rcnt:0,tcnt:0,bcnt:3},e[t]=i,t="\u9694\u79bb\u6761\u5de61\u7ea7",i={celltype:o.BlockSide,lcnt:1,rcnt:0,tcnt:0,bcnt:0},e[t]=i,t="\u9694\u79bb\u6761\u5de62\u7ea7",i={celltype:o.BlockSide,lcnt:2,rcnt:0,tcnt:0,bcnt:0},e[t]=i,t="\u9694\u79bb\u6761\u5de63\u7ea7",i={celltype:o.BlockSide,lcnt:3,rcnt:0,tcnt:0,bcnt:0},e[t]=i,t="\u9694\u79bb\u6761\u53f31\u7ea7",i={celltype:o.BlockSide,lcnt:0,rcnt:1,tcnt:0,bcnt:0},e[t]=i,t="\u9694\u79bb\u6761\u53f32\u7ea7",i={celltype:o.BlockSide,lcnt:0,rcnt:2,tcnt:0,bcnt:0},e[t]=i,t="\u9694\u79bb\u6761\u53f33\u7ea7",i={celltype:o.BlockSide,lcnt:0,rcnt:3,tcnt:0,bcnt:0},e[t]=i,this._map=e},start:function(){},readBoardCells:function(){var e=[],t=[],i=[];if(this.levelBoard)for(var n=this.levelBoard.children,s=0;s<n.length;s++){var a=n[s],r=a.name,u=this._map[r];if(u){var h={},p=a.position,d=(p.x+c/2-46)/92,f=(p.y+l/2-46)/92;switch(d=Math.round(d),f=Math.round(f),h.ID=u.celltype,h.ID){case o.Chest:h.column=d,h.row=f,h.lv=u.lv,h.ChestType=u.type,this.pushCellData(h,e);break;case o.BlockCover:h.column=d,h.row=f,h.lv=u.lv,this.pushCellData(h,i);break;case o.BlockSide:if(this.checkSameID(d,f,t))for(var m=0;m<t.length;m++){var v=t[m];v.row===f&&v.column===d&&(v.sideLNum+=u.lcnt,v.sideRNum+=u.rcnt,v.sideTNum+=u.tcnt,v.sideBNum+=u.bcnt,v.sideLNum=v.sideLNum>=3?3:v.sideLNum,v.sideRNum=v.sideRNum>=3?3:v.sideRNum,v.sideTNum=v.sideTNum>=3?3:v.sideTNum,v.sideBNum=v.sideBNum>=3?3:v.sideBNum)}else h.column=d,h.row=f,h.sideLNum=u.lcnt,h.sideRNum=u.rcnt,h.sideTNum=u.tcnt,h.sideBNum=u.bcnt,t.push(h);break;default:h.column=d,h.row=f,h.lv=u.lv,this.pushCellData(h,e)}}}var g={};return g.listCell=e,g.listSideCell=t,g.listCover=i,g},readGoles:function(){if(this.leveltarget){var e,t,i,o,s,a,c,l,r,u,h=this.leveltarget.getChildByName("\u6b65\u6570").getComponent("cc.Label").string;u=parseInt(h),a=this.getCellNum(this.leveltarget,"\u5ba0\u7269\u76d2\u5b50"),c=this.getCellNum(this.leveltarget,"\u5168\u5c4f\u70b8\u5f39"),l=this.getCellNum(this.leveltarget,"\u5b9d\u7bb1"),s=this.getCellNum(this.leveltarget,"\u6a59\u5b50"),e=this.getCellNum(this.leveltarget,"\u82f9\u679c"),i=this.getCellNum(this.leveltarget,"\u8304\u5b50"),o=this.getCellNum(this.leveltarget,"\u841d\u535c"),t=this.getCellNum(this.leveltarget,"\u897f\u7ea2\u67ff"),r=this.getCellNum(this.leveltarget,"\u963b\u6321\u7269\u4f53");var p={};p[n.Cell1]=t,p[n.Cell2]=i,p[n.Cell3]=s,p[n.Cell4]=e,p[n.Cell5]=o,p[n.DropBox]=a,p[n.Chest]=l,p[n.ClearBomb]=c,p[n.Step]=u,p[n.Block]=r;for(var d=[],f=[],m=["wave1","wave2","wave3","wave4","wave5"],v=0;v<m.length;v++){var g=this.levelMonsters.getChildByName(m[v]);g&&f.push(g)}for(var C=0;C<f.length;C++){var _=f[C];if(_&&_.active){var b=this.readWave(_);b&&d.push(b)}}var S={};return S.WaveDatas=d,S.WaveNum=d.length,S.GoleCells=p,S.CellsSpinVal=this.readDropCellsSpinVal(),S}},getCellNum:function(e,t){if(!e)return 0;var i=e.getChildByName(t),o=0;if(i&&i.active){var n=i.getChildByName("num").getComponent("cc.Label").string;o=parseInt(n)}return o},readDropCellsSpinVal:function(){var e=this.getCellNum(this.levelProbability,"\u897f\u7ea2\u67ff"),t=this.getCellNum(this.levelProbability,"\u8304\u5b50"),i=this.getCellNum(this.levelProbability,"\u6a59\u5b50"),n=this.getCellNum(this.levelProbability,"\u82f9\u679c"),s=this.getCellNum(this.levelProbability,"\u841d\u535c"),a={};return a[o.Cell1]=e,a[o.Cell2]=t,a[o.Cell3]=i,a[o.Cell4]=n,a[o.Cell5]=s,a},readWave:function(e){for(var t=[],i=e.children,n=0;n<i.length;n++){var s=i[n],a={};a.MonsterName=s.name;var c,l,r=o.UnKnown,u=o.UnKnown,h=this.readOneMonster(s);c=h[0],l=h[1];var p=h[2];"\u5143\u7d201"===c?r=o.Cell1:"\u5143\u7d202"===c?r=o.Cell2:"\u5143\u7d203"===c?r=o.Cell3:"\u5143\u7d204"===c?r=o.Cell4:"\u5143\u7d205"===c&&(r=o.Cell5),"\u5143\u7d201"===l?u=o.Cell1:"\u5143\u7d202"===l?u=o.Cell2:"\u5143\u7d203"===l?u=o.Cell3:"\u5143\u7d204"===l?u=o.Cell4:"\u5143\u7d205"===l&&(u=o.Cell5),a.addtionCellType=r,a.defenceCellType=u,a.saliveSkill=p,t.push(a)}return 0===t.length?null:t},readOneMonster:function(e){for(var t=e.children,i=-1,o=-1,n=!1,s=0;s<t.length;s++){var a=t[s],c=a.name;if("\u52a0\u6210"===c){if(a.children)i=a.children[0].name}else if("\u9632\u5fa1"===c){if(a.children)o=a.children[0].name}else"\u553e\u6db2\u6280\u80fd"===c&&(n=!0)}return[i,o,n]},pushCellData:function(e,t){this.checkSameID(e.column,e.row,t)||t.push(e)},checkSameID:function(e,t,i){for(var o=0;o<i.length;o++){var n=i[o];if(n.row===t&&n.column===e)return!0}return!1}}),cc._RF.pop()},{EnumDefine:"EnumDefine",JsonData:"JsonData",PoolMng:"PoolMng",Utils:"Utils"}],loadStory:[function(e,t,i){"use strict";cc._RF.push(t,"2b04aQTSB1JWKhc8i6/9oaO","loadStory");e("Utils");cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){}}),cc._RF.pop()},{Utils:"Utils"}],moveAction:[function(e,t,i){"use strict";cc._RF.push(t,"6cbe1a/8lVIeahA043aMiv9","moveAction"),cc.Class({extends:cc.Component,properties:{midbk:cc.Node},onLoad:function(){var e=cc.moveTo(.8,cc.v2(0,0)).easing(cc.easeBounceOut(3)),t=cc.callFunc(function(){},this);this.midbk.runAction(cc.sequence(e,t))},start:function(){}}),cc._RF.pop()},{}],moveNode:[function(e,t,i){"use strict";cc._RF.push(t,"be07bR9MQJAM6c+i+Ae/Znz","moveNode");var o=!1,n=cc.v2(),s=cc.v2();cc.Class({extends:cc.Component,properties:{cameraNode:{default:null,type:cc.Node},NodesWidth:0},onLoad:function(){this.camera=this.cameraNode.getComponent(cc.Camera),this.pos1=cc.v2(),this.pos2=cc.v2()},start:function(){this.node.getContentSize(),cc.view.getVisibleOrigin(),cc.view.getVisibleSize();this.pos1=this.pos2=this.node.parent.convertToWorldSpace(this.node.getPosition())},moveNode:function(){this.camera.getWorldToCameraPoint(this.pos1,n),0==o&&(this.camera.getWorldToCameraPoint(this.pos2,s),o=!0);cc.visibleRect.width,this.camera.zoomRatio,this.node.getContentSize().width;this.node.x=this.node.x+2880,o=!1,log("pass left"),this.pos1=this.pos2=this.node.parent.convertToWorldSpace(this.node.getPosition())},moveLeft:function(){var e=this.node.getContentSize(),t=this.node.parent.convertToWorldSpace(this.node.getPosition());t.x=t.x+e.width/2;var i=cc.v2();this.camera.getWorldToCameraPoint(t,i),i.x<0&&(this.node.x+=this.NodesWidth)},moveRight:function(){var e=cc.view.getVisibleOrigin(),t=cc.view.getVisibleSize(),i=this.node.getContentSize(),o=this.node.parent.convertToWorldSpace(this.node.getPosition());o.x=o.x-i.width/2;var n=cc.v2();this.camera.getWorldToCameraPoint(o,n),n.x>e.x+t.width&&(this.node.x-=this.NodesWidth)},lateUpdate:function(e){this.moveLeft(),this.moveRight()}}),cc._RF.pop()},{}],polyglot:[function(e,t,i){(function(e){"use strict";cc._RF.push(t,"69decSgpRlE1rzEKp0RzG3V","polyglot");var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};(function(e,n){"function"==typeof define&&define.amd?define([],function(){return n(e)}):"object"===(void 0===i?"undefined":o(i))?t.exports=n(e):e.Polyglot=n(e)})(void 0!==e?e:void 0,function(e){var t=String.prototype.replace;function i(e){e=e||{},this.phrases={},this.extend(e.phrases||{}),this.currentLocale=e.locale||"en",this.allowMissing=!!e.allowMissing,this.warn=e.warn||u}i.VERSION="1.0.0",i.prototype.locale=function(e){return e&&(this.currentLocale=e),this.currentLocale},i.prototype.extend=function(e,t){var i;for(var n in e)e.hasOwnProperty(n)&&(i=e[n],t&&(n=t+"."+n),"object"===(void 0===i?"undefined":o(i))?this.extend(i,n):this.phrases[n]=i)},i.prototype.unset=function(e,t){var i;if("string"==typeof e)delete this.phrases[e];else for(var n in e)e.hasOwnProperty(n)&&(i=e[n],t&&(n=t+"."+n),"object"===(void 0===i?"undefined":o(i))?this.unset(i,n):delete this.phrases[n])},i.prototype.clear=function(){this.phrases={}},i.prototype.replace=function(e){this.clear(),this.extend(e)},i.prototype.t=function(e,i){var o,u;return"number"==typeof(i=null==i?{}:i)&&(i={smart_count:i}),"string"==typeof this.phrases[e]?o=this.phrases[e]:"string"==typeof i._?o=i._:this.allowMissing?o=e:(this.warn('Missing translation for key: "'+e+'"'),u=e),"string"==typeof o&&(i=function(e){var t={};for(var i in e)t[i]=e[i];return t}(i),u=function(e,i){for(var o in i)if("_"!==o&&i.hasOwnProperty(o)){var n=i[o];"string"==typeof n&&(n=t.call(i[o],l,r)),e=t.call(e,new RegExp("%\\{"+o+"\\}","g"),n)}return e}(u=function(e,i,o){var l,r,u;null!=o&&e?(r=e.split(n),u=r[function(e,t){return s[function(e){var t=function(e){var t,i,o,n={};for(t in e)if(e.hasOwnProperty(t))for(o in i=e[t])n[i[o]]=t;return n}(a);return t[e]||t.en}(e)](t)}(i,o)]||r[0],l=function(e){return t.call(e,c,"")}(u)):l=e;return l}(o,this.currentLocale,i.smart_count),i)),u},i.prototype.has=function(e){return e in this.phrases};var n="||||",s={chinese:function(e){return 0},german:function(e){return 1!==e?1:0},french:function(e){return e>1?1:0},russian:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},czech:function(e){return 1===e?0:e>=2&&e<=4?1:2},polish:function(e){return 1===e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},icelandic:function(e){return e%10!=1||e%100==11?1:0}},a={chinese:["fa","id","ja","ko","lo","ms","th","tr","zh"],german:["da","de","en","es","fi","el","he","hu","it","nl","no","pt","sv"],french:["fr","tl","pt-br"],russian:["hr","ru"],czech:["cs","sk"],polish:["pl"],icelandic:["is"]};var c=/^\s+|\s+$/g;var l=/\$/g,r="$$$$";function u(t){e.console&&e.console.warn&&e.console.warn("WARNING: "+t)}return i}),cc._RF.pop()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],zh:[function(e,t,i){"use strict";cc._RF.push(t,"87f1fs0gohHDIfNg4aePXbt","zh"),t.exports={example_case_tips_content:"\u8be5\u6d4b\u8bd5\u7528\u4f8b\u4e0d\u652f\u6301\u5f53\u524d\u5e73\u53f0",example_case_nonsupport_native_desktop_tips:"\u8be5\u6d4b\u8bd5\u7528\u4f8b\u4e0d\u652f\u6301 Mac \u5e73\u53f0\u548c Windows \u5e73\u53f0",example_case_nonsupport_runtime_tips:"\u8be5\u6d4b\u8bd5\u7528\u4f8b\u4e0d\u652f\u6301 Runtime \u5e73\u53f0",example_case_nonsupport_mobile_tips:"\u8be5\u6d4b\u8bd5\u7528\u4f8b\u4e0d\u652f\u6301\u79fb\u52a8\u5e73\u53f0",example_case_nonsupport_web_canvas_tips:"\u8be5\u6d4b\u8bd5\u7528\u4f8b\u4e0d\u652f\u6301 Canvas \u6a21\u5f0f",example_case_nonsupport_wechat_game_tips:"\u8be5\u6d4b\u8bd5\u7528\u4f8b\u4e0d\u652f\u6301 wechatGame \u5e73\u53f0",example_case_support_webGl_tips:"\u8be5\u6d4b\u8bd5\u7528\u4f8b\u53ea\u652f\u6301 WebGL \u6a21\u5f0f",example_case_support_mobile_tips:"\u8be5\u6d4b\u8bd5\u7528\u4f8b\u53ea\u652f\u6301\u79fb\u52a8\u5e73\u53f0",example_case_support_mobile_android_tips:"\u8be5\u6d4b\u8bd5\u7528\u4f8b\u53ea\u652f\u6301 Android \u79fb\u52a8\u5e73\u53f0",example_case_support_native_chrome_tips:"\u8be5\u6d4b\u8bd5\u7528\u4f8b\u53ea\u652f\u6301 PC \u5e73\u53f0\u4e0a\u7684 Chrome \u6d4f\u89c8\u5668",example_case_support_native_desktop_tips:"\u8be5\u6d4b\u8bd5\u7528\u4f8b\u53ea\u652f\u6301 Mac \u5e73\u53f0\u548c Windows \u5e73\u53f0",example_case_support_wechat_game_tips:"\u8be5\u6d4b\u8bd5\u7528\u4f8b\u652f\u6301 wechatGame \u5e73\u53f0",example_case_nonsupport_qqplay_tips:"\u8be5\u6d4b\u8bd5\u7528\u4f8b\u4e0d\u652f\u6301 QQplay \u5e73\u53f0",example_case_nonsupport_Wechatgame_tips:"\u8be5\u6d4b\u8bd5\u7528\u4f8b\u4e0d\u652f\u6301 Wechatgame \u5e73\u53f0","cases/01_graphics/01_sprite/AtlasSprite.fire.7":"\u8fd9\u4e2a\u7cbe\u7075\u6765\u81ea\u5355\u5f20\u56fe\u7247","cases/01_graphics/01_sprite/AtlasSprite.fire.11":"\u8fd9\u4e2a\u7cbe\u7075\u6765\u81ea\u56fe\u96c6","cases/01_graphics/01_sprite/FilledSprite.fire.9":"\u586b\u5145\u7c7b\u578b\uff1a\u6c34\u5e73","cases/01_graphics/01_sprite/FilledSprite.fire.15":"\u586b\u5145\u7c7b\u578b\uff1a\u5782\u76f4","cases/01_graphics/01_sprite/FilledSprite.fire.23":"\u586b\u5145\u7c7b\u578b\uff1a\u5706\u5f62","cases/01_graphics/01_sprite/SimpleSprite.fire.7":"\u8fd9\u662f\u666e\u901a\u7cbe\u7075","cases/01_graphics/01_sprite/SlicedSprite.fire.7":"\u8fd9\u662f\u4e5d\u5bab\u683c\u7cbe\u7075","cases/01_graphics/01_sprite/TiledSprite.fire.6":"\u8fd9\u662f\u5e73\u94fa\u7cbe\u7075","cases/01_graphics/01_sprite/ChangeColor.fire.1":"\u6539\u53d8\u989c\u8272\u5c06\u4f1a\u6539\u53d8 Draw Call","cases/01_graphics/01_sprite/TrimmedSprite.fire.7":"\u81ea\u52a8\u526a\u88c1 ","cases/01_graphics/01_sprite/TrimmedSprite.fire.12":"\u672a\u81ea\u52a8\u526a\u88c1","cases/01_graphics/02_particle/AutoRemoveParticle.fire.9":'\u7c92\u5b50 1\n"\u5b8c\u6210\u65f6\u81ea\u52a8\u79fb\u9664" \u7981\u6b62',"cases/01_graphics/02_particle/AutoRemoveParticle.fire.13":'\u7c92\u5b50 2\n"\u5b8c\u6210\u65f6\u81ea\u52a8\u79fb\u9664" \u5f00\u542f',"cases/01_graphics/02_particle/ToggleParticle.fire.6":'\u6309 "\u6309\u94ae" \u8fdb\u884c\u5f00\u5173\u7c92\u5b50\u64ad\u653e',"cases/02_ui/01_widget/AdvancedWidget.fire.7":"\u5de6\u4e0a","cases/02_ui/01_widget/AdvancedWidget.fire.9":"top: 10% left: 6%","cases/02_ui/01_widget/AdvancedWidget.fire.14":"\u4e0a","cases/02_ui/01_widget/AdvancedWidget.fire.16":"top: -34px","cases/02_ui/01_widget/AdvancedWidget.fire.21":"\u53f3\u4e0a","cases/02_ui/01_widget/AdvancedWidget.fire.23":"top: 10% right: 6%","cases/02_ui/01_widget/AdvancedWidget.fire.28":"\u5de6","cases/02_ui/01_widget/AdvancedWidget.fire.30":"left: -50px","cases/02_ui/01_widget/AdvancedWidget.fire.35":"\u53f3","cases/02_ui/01_widget/AdvancedWidget.fire.37":"right: -50px","cases/02_ui/01_widget/AdvancedWidget.fire.42":"\u5de6\u4e0b","cases/02_ui/01_widget/AdvancedWidget.fire.44":"bottom: 10% left: 6%","cases/02_ui/01_widget/AdvancedWidget.fire.49":"\u4e0b","cases/02_ui/01_widget/AdvancedWidget.fire.51":"bottom: -34px","cases/02_ui/01_widget/AdvancedWidget.fire.56":"\u53f3\u4e0b","cases/02_ui/01_widget/AdvancedWidget.fire.58":"bottom:10% right:6%","cases/02_ui/01_widget/AdvancedWidget.fire.63":"\u9ad8\u7ea7\u6302\u4ef6","cases/02_ui/01_widget/AlignOnceWidget.fire.1":"AlignOne \u4e3a false \u65f6\uff0c\u4f1a\u4e00\u76f4\u4fdd\u6301\u5bf9\u9f50","cases/02_ui/01_widget/AlignOnceWidget.fire.2":"AlignOne \u4e3a true \u65f6\uff0c\u53ea\u5728 Widget \u751f\u6548\u65f6\u5bf9\u9f50\u4e00\u6b21","cases/02_ui/01_widget/AnimatedWidget.fire.9":"\u52a8\u753b\u6302\u4ef6\u3002","cases/02_ui/01_widget/WidgetAlign.fire.18":"\u6302\u4ef6\u5bf9\u9f50\u65b9\u5f0f\u3002","cases/02_ui/01_widget/AutoResize.fire.13":"\u6302\u4ef6\u81ea\u52a8\u8c03\u6574\u5927\u5c0f\u3002","cases/02_ui/02_label/GoldBeatingAnime.js.1":"0","cases/02_ui/02_label/AlignFontLabel.fire.6":"\u6587\u672c\u5bf9\u9f50","cases/02_ui/02_label/AlignFontLabel.fire.9":"\u6c34\u5e73\u5bf9\u9f50","cases/02_ui/02_label/AlignFontLabel.fire.14":"\u54c8\u5570\uff01\n\u6b22\u8fce\u4f7f\u7528 \nCocos Creator","cases/02_ui/02_label/AlignFontLabel.fire.16":"\u5bf9\u9f50: \u9760\u5de6","cases/02_ui/02_label/AlignFontLabel.fire.21":"\u54c8\u5570\uff01\n\u6b22\u8fce\u4f7f\u7528 \nCocos Creator","cases/02_ui/02_label/AlignFontLabel.fire.23":"\u5bf9\u9f50: \u5c45\u4e2d","cases/02_ui/02_label/AlignFontLabel.fire.28":"\u54c8\u5570\uff01\n\u6b22\u8fce\u4f7f\u7528 \nCocos Creator","cases/02_ui/02_label/AlignFontLabel.fire.30":"\u5bf9\u9f50: \u9760\u53f3","cases/02_ui/02_label/AlignFontLabel.fire.33":"\u5782\u76f4\u5bf9\u9f50","cases/02_ui/02_label/AlignFontLabel.fire.38":"\u6b22\u8fce\u4f7f\u7528 \nCocos Creator","cases/02_ui/02_label/AlignFontLabel.fire.40":"\u5bf9\u9f50: \u9876\u90e8","cases/02_ui/02_label/AlignFontLabel.fire.45":"\u6b22\u8fce\u4f7f\u7528 \nCocos Creator","cases/02_ui/02_label/AlignFontLabel.fire.47":"\u5bf9\u9f50: \u5c45\u4e2d","cases/02_ui/02_label/AlignFontLabel.fire.52":"\u6b22\u8fce\u4f7f\u7528 \nCocos Creator","cases/02_ui/02_label/AlignFontLabel.fire.54":"\u5bf9\u9f50: \u5e95\u90e8","cases/02_ui/02_label/SystemFontLabel.fire.6":"\u7cfb\u7edf\u5b57\u4f53","cases/02_ui/02_label/SystemFontLabel.fire.9":"\u6362\u884c","cases/02_ui/02_label/SystemFontLabel.fire.14":"\u8fd9\u662f\u7cfb\u7edf\u9ed8\u8ba4\u5b57\u4f53","cases/02_ui/02_label/SystemFontLabel.fire.16":"Overflow: CLAMP","cases/02_ui/02_label/SystemFontLabel.fire.21":"\u8fd9\u662f\u7cfb\u7edf\u9ed8\u8ba4\u5b57\u4f53","cases/02_ui/02_label/SystemFontLabel.fire.23":"Overflow: SHRINK","cases/02_ui/02_label/SystemFontLabel.fire.26":"\u4e0d\u6362\u884c","cases/02_ui/02_label/SystemFontLabel.fire.31":"\u8fd9\u662f\u7cfb\u7edf\u9ed8\u8ba4\u5b57\u4f53","cases/02_ui/02_label/SystemFontLabel.fire.33":"Overflow: CLAMP","cases/02_ui/02_label/SystemFontLabel.fire.38":"\u8fd9\u662f\u7cfb\u7edf\u9ed8\u8ba4\u5b57\u4f53","cases/02_ui/02_label/SystemFontLabel.fire.40":"Overflow: SHRINK","cases/02_ui/02_label/SystemFontLabel.fire.45":"\u54c8\u55bd! \u6b22\u8fce\u4f7f\u7528 Cocos Creator","cases/02_ui/02_label/SystemFontLabel.fire.47":"Overflow: RESZIE_HEIGHT","cases/02_ui/03_button/ButtonInScroll.js.1":"\u9876\u90e8\u6309\u94ae\u88ab\u70b9\u51fb\uff01","cases/02_ui/03_button/ButtonInScroll.js.2":"\u5e95\u90e8\u6309\u94ae\u88ab\u70b9\u51fb\uff01","cases/02_ui/03_button/ButtonInScroll.fire.21":"\u54ea\u4e2a\u6309\u94ae\u88ab\u70b9\u51fb\uff1f","cases/02_ui/03_button/ButtonInScroll.fire.27":"\u62d6\u52a8\u663e\u793a\u66f4\u591a\u6309\u94ae","cases/02_ui/03_button/SimpleButton.js.1":"\u5de6\u8fb9\u7684\u6309\u94ae\u88ab\u70b9\u51fb\uff01","cases/02_ui/03_button/SimpleButton.js.2":"\u53f3\u8fb9\u7684\u6309\u94ae\u88ab\u70b9\u51fb\uff01","cases/02_ui/03_button/ButtonInteractable.fire.7":"\u64ad\u653e","cases/02_ui/03_button/ButtonInteractable.fire.16":"\u505c\u6b62","cases/02_ui/03_button/ButtonInteractable.fire.21":"\u4ea4\u4e92(interactable): true","cases/02_ui/03_button/ButtonInteractable.fire.23":"\u4ea4\u4e92(interactable): false","cases/02_ui/03_button/ButtonInteractable.js.1":"\u4ea4\u4e92(interactable): ","cases/02_ui/03_button/ButtonInteractable.js.2":"\u4ea4\u4e92(interactable): ","cases/02_ui/03_button/SimpleButton.fire.6":"\u54ea\u4e2a\u6309\u94ae\u88ab\u70b9\u51fb\uff1f","cases/02_ui/05_scrollView/Item.js.1":"Tmpl#","cases/02_ui/04_progressbar/progressbar.fire.7":"\u6c34\u5e73\u8fdb\u5ea6\u6761\uff0c\u8fdb\u5ea6 0.3","cases/02_ui/04_progressbar/progressbar.fire.11":"\u53cd\u5411\u6c34\u5e73\u8fdb\u5ea6\u6761\uff0c\u8fdb\u5ea6 1.0","cases/02_ui/04_progressbar/progressbar.fire.15":"\u5782\u76f4\u8fdb\u5ea6\u6761 \n\u4ece\u4e0b\u5411\u4e0a","cases/02_ui/04_progressbar/progressbar.fire.19":"\u5782\u76f4\u8fdb\u5ea6\u6761 \n\u4ece\u4e0a\u5411\u4e0b","cases/02_ui/04_progressbar/progressbar.fire.23":"\u8bbe\u7f6e\u4e86\u7cbe\u7075\u7684\u8fdb\u5ea6\u6761","cases/02_ui/04_progressbar/progressbar.fire.28":"\u8bbe\u7f6e\u4e86\u7cbe\u7075\uff08\u5b50\u63a7\u4ef6\uff09\u7684\u8fdb\u5ea6\u6761","cases/02_ui/05_scrollView/ListView.fire.23":"Item #00","cases/02_ui/05_scrollView/ScrollView.fire.7":"Scrollview \u5b8c\u6574\u529f\u80fd","cases/02_ui/05_scrollView/ScrollView.fire.30":"Scrollview \u6ca1\u6709\u60ef\u6027","cases/02_ui/05_scrollView/ScrollView.fire.53":"Scrollview \u6ca1\u6709\u5f39\u6027","cases/02_ui/05_scrollView/ScrollView.fire.76":"Scrollview \u53ea\u80fd\u6c34\u5e73\u6eda\u52a8","cases/02_ui/05_scrollView/ScrollView.fire.93":"Scrollview \u53ea\u80fd\u5782\u76f4\u6eda\u52a8","cases/02_ui/05_scrollView/ScrollView.fire.110":"Scrollview \u6ca1\u6709\u6eda\u52a8\u6761","cases/02_ui/06_layout/LayoutInScrollView.fire.6":"ScrollView \u548c\u5782\u76f4\u5e03\u5c40\u5bb9\u5668","cases/02_ui/06_layout/LayoutInScrollView.fire.40":"ScrollView \u548c\u6c34\u5e73\u5e03\u5c40\u5bb9\u5668","cases/02_ui/06_layout/LayoutInScrollView.fire.74":"ScrollView \u548c\u6a2a\u5411\u7f51\u683c\u5e03\u5c40\u5bb9\u5668 ","cases/02_ui/06_layout/LayoutInScrollView.fire.144":"ScrollView \u548c\u7eb5\u5411\u7f51\u683c\u5e03\u5c40\u5bb9\u5668 ","cases/02_ui/06_layout/LayoutResizeChildren.fire.6":"\u6c34\u5e73\u5e03\u5c40\u5bb9\u5668","cases/02_ui/06_layout/LayoutResizeChildren.fire.31":"\u5782\u76f4\u5e03\u5c40\u5bb9\u5668","cases/02_ui/06_layout/LayoutResizeChildren.fire.48":"\u6a2a\u5411\u7f51\u683c\u5e03\u5c40\u5bb9\u5668","cases/02_ui/06_layout/LayoutResizeChildren.fire.85":"\u7eb5\u5411\u7f51\u683c\u5e03\u5c40\u5bb9\u5668","cases/02_ui/06_layout/LayoutResizeContainer.fire.6":"\u57fa\u672c","cases/02_ui/06_layout/LayoutResizeContainer.fire.31":"\u6c34\u5e73","cases/02_ui/06_layout/LayoutResizeContainer.fire.36":"\u5782\u76f4","cases/02_ui/06_layout/LayoutResizeContainer.fire.41":"\u6a2a\u5411\u7f51\u683c\u5e03\u5c40\u5bb9\u5668","cases/02_ui/06_layout/LayoutResizeContainer.fire.46":"\u7eb5\u5411\u7f51\u683c\u5e03\u5c40\u5bb9\u5668","cases/02_ui/07_change_canvas_anchor/BottomLeftAnchor.fire.8":"x:0, y:0","cases/02_ui/07_change_canvas_anchor/BottomLeftAnchor.fire.12":"x:480, y:320","cases/02_ui/07_change_canvas_anchor/BottomLeftAnchor.fire.16":"x:960, y:640","cases/02_ui/07_editBox/editbox.js.1":"\u8f93\u5165\u6587\u672c: ","cases/02_ui/06_layout/LayoutNone.fire.6":"\u57fa\u672c\u5e03\u5c40\u5bb9\u5668, \u7c7b\u578b: None\n\u81ea\u52a8\u8c03\u6574\u5927\u5c0f","cases/02_ui/06_layout/LayoutNone.fire.35":"\u6c34\u5e73\u5e03\u5c40\u5bb9\u5668\uff0c\u7c7b\u578b: None\n\u4e0d\u81ea\u52a8\u8c03\u6574\u5927\u5c0f","cases/02_ui/06_layout/LayoutNone.fire.60":"\u5782\u76f4\u5e03\u5c40\u5bb9\u5668\uff0c\u7c7b\u578b: None\n\u4e0d\u81ea\u52a8\u8c03\u6574\u5927\u5c0f","cases/02_ui/06_layout/LayoutNone.fire.77":"\u6a2a\u5411\u7f51\u683c\u5e03\u5c40\u5bb9\u5668\uff0c\u7c7b\u578b: None\n\u4e0d\u81ea\u52a8\u8c03\u6574\u5927\u5c0f","cases/02_ui/06_layout/LayoutNone.fire.142":"\u7eb5\u5411\u7f51\u683c\u5e03\u5c40\u5bb9\u5668\uff0c\u7c7b\u578b: None\n\u4e0d\u81ea\u52a8\u8c03\u6574\u5927\u5c0f","cases/02_ui/07_editBox/EditBox.fire.25":"\u5355\u884c\u5bc6\u7801\u6846:","cases/02_ui/07_editBox/EditBox.fire.27":"\u5355\u884c\u6587\u672c\u6846:","cases/02_ui/07_editBox/EditBox.fire.29":"\u591a\u884c\u6587\u672c\u6846:","cases/02_ui/07_editBox/EditBox.fire.32":"\u70b9\u51fb","cases/02_ui/07_editBox/EditBox.fire.38":"\u6309\u94ae\u5fc5\u987b\u5728 EditBox \u7684\u4e0a\u9762, \n\u5e76\u4e14\u5b83\u5e94\u8be5\u5141\u8bb8\u70b9\u51fb.","cases/02_ui/09_videoplayer/fullscreenVideo.fire":"\u5f53\u60a8\u89e6\u6478\u5c4f\u5e55\u65f6\uff0c\u5c06\u64ad\u653e\u89c6\u9891\u3002\n \u89c6\u9891\u5b8c\u6210\u540e\uff0c\u5b83\u5c06\u88ab\u5220\u9664\u3002","cases/02_ui/09_videoplayer/videoPlayer.nonsupport_fullscreen":"\u5f53\u524d\u8bbe\u5907\u4e0d\u652f\u6301\u5168\u5c4f\u64ad\u653e","cases/03_gameplay/01_player_control/EventManager/KeyboardInput.fire.6":"\u6309 'A' \u6216 'D' \u952e\u63a7\u5236\u5c0f\u7ef5\u7f8a","cases/03_gameplay/01_player_control/On/OnTouchCtrl.js.1":"touch (","cases/03_gameplay/01_player_control/On/OnTouchInput.fire.10":"\u8bf7\u89e6\u6478\u4efb\u610f\u4f4d\u7f6e\u8bd5\u8bd5","cases/03_gameplay/01_player_control/On/OnMultiTouchInput.fire.20":"\u7528\u4f60\u7684\u624b\u6307\u653e\u7f29\u56fe\u7247\uff01","cases/03_gameplay/01_player_control/On/DeviceMotion.fire.1":"\u5f00\u542f \u91cd\u529b\u611f\u5e94","cases/03_gameplay/01_player_control/On/DeviceMotion.fire.2":"\u5173\u95ed \u91cd\u529b\u611f\u5e94","cases/03_gameplay/02_actions/SimpleAction.fire.13":"\u7b80\u5355\u7684\u52a8\u4f5c","cases/03_gameplay/03_animation/AnimateCustomProperty.fire.14":"Label","cases/03_gameplay/03_animation/AnimateCustomProperty.fire.18":"\u81ea\u5b9a\u4e49\u52a8\u753b\u5c5e\u6027","cases/03_gameplay/03_animation/AnimationEvent.js.1":"\u5f00\u59cb\u7b2c","cases/03_gameplay/03_animation/AnimationEvent.fire.6":"\u5f00\u59cb\u7b2c1\u4e2a\u52a8\u753b","cases/03_gameplay/03_animation/AnimationEvent.fire.14":"\u52a8\u753b\u4e8b\u4ef6","cases/03_gameplay/03_animation/MoveAnimation.fire.11":"Linear","cases/03_gameplay/03_animation/MoveAnimation.fire.17":"Case In Expo","cases/03_gameplay/03_animation/MoveAnimation.fire.23":"Case Out Expo","cases/03_gameplay/03_animation/MoveAnimation.fire.29":"Case Out In Expo","cases/03_gameplay/03_animation/MoveAnimation.fire.35":"Back Forward","cases/03_gameplay/03_animation/MoveAnimation.fire.41":"\u8fd9\u662f\u4e00\u4e2a\u79fb\u52a8\u52a8\u753b\u3002","cases/03_gameplay/03_animation/SpriteAnimation.fire.9":"\u8fd9\u662f\u7cbe\u7075\u5e27\u52a8\u753b","cases/03_gameplay/03_animation/CreateClip.fire.1":"\u52a8\u6001\u521b\u5efa\u52a8\u753b\u526a\u8f91","cases/04_audio/SimpleAudio.fire.6":"\u4eab\u53d7\u97f3\u4e50!","cases/05_scripting/01_properties/NodeArray.fire.14":"\u8fd9\u662f\u8282\u70b9\u6570\u7ec4","cases/05_scripting/01_properties/NonSerialized.fire.6":"Label","cases/05_scripting/01_properties/NonSerialized.fire.8":"Label","cases/05_scripting/01_properties/NonSerialized.fire.10":"\u8fd9\u662f\u975e\u5e8f\u5217\u5316","cases/05_scripting/01_properties/ReferenceType.fire.8":"Label","cases/05_scripting/01_properties/ReferenceType.fire.11":"\u8fd9\u4e2a\u4f8b\u5b50\u4e0d\u5305\u62ec\u8fd0\u884c\u65f6\u6f14\u793a","cases/05_scripting/01_properties/ValueType.fire.6":"\u8fd9\u4e2a\u4f8b\u5b50\u4e0d\u5305\u62ec\u8fd0\u884c\u65f6\u6f14\u793a","cases/05_scripting/02_prefab/InstantiatePrefab.fire.7":"\u5b9e\u4f8b\u5316\u9884\u5236\u8d44\u6e90","cases/05_scripting/03_events/EventInMask.fire.23":"\u66f4\u6539\u8282\u70b9\u6392\u5e8f","cases/05_scripting/03_events/SimpleEvent.fire.19":"\u89e6\u6478\u4e8b\u4ef6\u53ef\u4ee5\u652f\u6301\u70b9\u51fb","cases/05_scripting/03_events/SimpleEvent.fire.21":"\u9f20\u6807\u4e8b\u4ef6\u53ef\u4ee5\u652f\u6301\u5355\u51fb\u3001\u60ac\u505c\u3001\u6eda\u8f6e","cases/05_scripting/03_events/SimpleEvent.fire.23":"\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u53ef\u4ee5\u624b\u52a8\u89e6\u53d1\n(\u70b9\u51fb\u4e0a\u9762\u7684\u6309\u94ae)","cases/05_scripting/03_events/SimpleEvent.fire.25":"\u57fa\u672c\u4e8b\u4ef6","cases/05_scripting/03_events/TouchPropagation.fire.15":"\u89e6\u6478\u4e8b\u4ef6\u5192\u6ce1","cases/05_scripting/03_events/MousePropagation.fire.1":"\u9f20\u6807\u4e8b\u4ef6\u5192\u6ce1","cases/05_scripting/04_scheduler/scheduleCallbacks.js.1":"5.00 s","cases/05_scripting/04_scheduler/scheduler.fire.9":"5.00 s","cases/05_scripting/04_scheduler/scheduler.fire.12":"\u91cd\u590d\u5b9a\u65f6\u5668","cases/05_scripting/04_scheduler/scheduler.fire.18":"\u53d6\u6d88\u5b9a\u65f6\u5668","cases/05_scripting/04_scheduler/scheduler.fire.24":"\u5b9a\u65f6\u6267\u884c1\u6b21","cases/05_scripting/04_scheduler/scheduler.fire.29":"\u4f7f\u7528 update \u51fd\u6570\u6bcf\u5e27\u66f4\u65b0\u8ba1\u6570","cases/05_scripting/04_scheduler/scheduler.fire.31":"\u5b9a\u65f6\u5668","cases/05_scripting/04_scheduler/recursiveScheduler.fire.0":"\u70b9\u51fb\u6309\u94ae\u5f00\u59cb\u6267\u884c\u9012\u5f52\u4efb\u52a1\uff0c\u4f60\u6700\u7ec8\u5e94\u8be5\u770b\u5230'\u4efb\u52a12\u6267\u884c\u5b8c\u6210'","cases/05_scripting/04_scheduler/recursiveScheduler.fire.1":"\u4efb\u52a11\u6267\u884c\u5b8c\u6210","cases/05_scripting/04_scheduler/recursiveScheduler.fire.2":"\u4efb\u52a12\u6267\u884c\u5b8c\u6210","cases/05_scripting/04_scheduler/recursiveScheduler.fire.3":"\u5f00\u59cb\u4efb\u52a1","cases/05_scripting/05_cross_reference/CrossReference.fire.7":"Label","cases/05_scripting/05_cross_reference/CrossReference.fire.12":"Label","cases/05_scripting/05_cross_reference/CrossReference.fire.14":"\u4ea4\u53c9\u5f15\u7528","cases/05_scripting/06_life_cycle/life_cycle.fire.6":"\u751f\u547d\u5468\u671f","cases/05_scripting/07_asset_loading/AssetLoading.fire.5":"\u8d44\u6e90\u52a0\u8f7d","cases/05_scripting/07_asset_loading/AssetLoading.fire.9":"\u52a0\u8f7d SpriteFrame","cases/05_scripting/07_asset_loading/AssetLoading.fire.15":"\u52a0\u8f7d Texture","cases/05_scripting/07_asset_loading/AssetLoading.fire.21":"\u52a0\u8f7d Audio","cases/05_scripting/07_asset_loading/AssetLoading.fire.27":"\u52a0\u8f7d Txt","cases/05_scripting/07_asset_loading/AssetLoading.fire.33":"\u52a0\u8f7d Font","cases/05_scripting/07_asset_loading/AssetLoading.fire.39":"\u52a0\u8f7d Plist","cases/05_scripting/07_asset_loading/AssetLoading.fire.45":"\u52a0\u8f7d Prefab","cases/05_scripting/07_asset_loading/AssetLoading.fire.51":"\u52a0\u8f7d Scene","cases/05_scripting/07_asset_loading/AssetLoading.fire.57":"\u52a0\u8f7d Animation","cases/05_scripting/07_asset_loading/AssetLoading.fire.59":"\u52a0\u8f7d Spine","cases/05_scripting/07_asset_loading/AssetLoading.fire.65":"\u5f53\u524d\u5c1a\u65e0\u52a0\u8f7d\u3002","cases/05_scripting/07_asset_loading/AssetLoading.js.1":"\u5df2\u52a0\u8f7d ","cases/05_scripting/07_asset_loading/AssetLoading.js.2":"\u64ad\u653e ","cases/05_scripting/07_asset_loading/AssetLoading.js.3":"\u521b\u5efa ","cases/05_scripting/07_asset_loading/AssetLoading.js.4":"\u64ad\u653e\u97f3\u4e50\u3002","cases/05_scripting/07_asset_loading/AssetLoading.js.5":"\u8fd9\u662f\u5b57\u4f53\uff01","cases/05_scripting/07_asset_loading/LoadRes.fire.7":"\u6309\u7c7b\u578b","cases/05_scripting/07_asset_loading/LoadRes.fire.10":"\u52a0\u8f7d SpriteFrame","cases/05_scripting/07_asset_loading/LoadRes.fire.17":"\u6309 Url","cases/05_scripting/07_asset_loading/LoadRes.fire.20":"\u52a0\u8f7d\u9884\u5236\u8d44\u6e90","cases/05_scripting/07_asset_loading/LoadResAll.fire.6":"\u8fd9\u4e2a\u4f8b\u5b50\u4e0d\u5305\u62ec\u8fd0\u884c\u65f6\u6f14\u793a","cases/05_scripting/07_asset_loading/LoadResAll.fire.24":"\u5168\u90e8\u52a0\u8f7d","cases/05_scripting/07_asset_loading/LoadResAll.fire.30":"\u52a0\u8f7d\u5168\u90e8\u7684SpriteFrame","cases/05_scripting/07_asset_loading/LoadResAll.fire.36":"\u6e05\u7a7a","cases/05_scripting/08_module/load_module.fire.6":"\u52a0\u8f7d\u6a21\u5757","cases/05_scripting/08_module/load_module.fire.10":"\u521b\u5efa\u602a\u7269","cases/05_scripting/09_singleton/Singleton.fire.6":"\u8fd9\u4f8b\u5b50\u4e0d\u5305\u542b\u8fd0\u884c\u65f6\u6f14\u793a","cases/05_scripting/10_loadingBar/LoadingBarCtrl.js.1":"\u4e0b\u8f7d\u5b8c\u6210!!","cases/05_scripting/10_loadingBar/LoadingBarCtrl.js.2":"\u6b63\u5728\u4e0b\u8f7d: ","cases/05_scripting/10_loadingBar/LoadingBarCtrl.js.3":"\u70b9\u51fb\u4efb\u610f\u5730\u65b9\u8fdb\u884c\u4e0b\u8f7d...","cases/05_scripting/10_loadingBar/loadingBar.fire.7":"\u52a0\u8f7d\u5b8c\u6210","cases/05_scripting/10_loadingBar/loadingBar.fire.18":"\u6b63\u5728\u4e0b\u8f7d","cases/05_scripting/11_network/NetworkCtrl.js.1":"\u8bf7\u7a0d\u7b49...","cases/05_scripting/11_network/NetworkCtrl.js.2":"\u8bf7\u7a0d\u7b49...","cases/05_scripting/11_network/NetworkCtrl.js.3":"\u8bf7\u7a0d\u7b49...","cases/05_scripting/11_network/NetworkCtrl.js.4":"\u8bf7\u7a0d\u7b49...","cases/05_scripting/11_network/NetworkCtrl.js.5":"WebSocket\n\u53d1\u9001\u4e8c\u8fdb\u5236WS\u5df2\u6253\u5f00.","cases/05_scripting/11_network/NetworkCtrl.js.6":"WebSocket\n\u6536\u5230\u54cd\u5e94.","cases/05_scripting/11_network/NetworkCtrl.js.7":"WebSocket\n\u53d1\u9001\u4e8c\u8fdb\u5236\u9047\u5230\u9519\u8bef.","cases/05_scripting/11_network/NetworkCtrl.js.8":"WebSocket\nwebsocket \u5b9e\u4f8b\u5df2\u5173\u95ed.","cases/05_scripting/11_network/NetworkCtrl.js.9":"WebSocket\n\u53d1\u9001\u4e8c\u8fdb\u5236WS\u7b49\u5f85\u4e2d...","cases/05_scripting/11_network/NetworkCtrl.js.10":"WebSocket\n","cases/05_scripting/11_network/NetworkCtrl.js.11":"SocketIO\n","cases/05_scripting/11_network/NetworkCtrl.js.12":"SocketIO\n","cases/05_scripting/11_network/NetworkCtrl.js.13":"SocketIO\n","cases/05_scripting/11_network/NetworkCtrl.js.14":"SocketIO\n","cases/05_scripting/11_network/network.fire.7":"Label","cases/05_scripting/11_network/network.fire.6":"XMLHttpRequest","cases/05_scripting/11_network/network.fire.11":"Label","cases/05_scripting/11_network/network.fire.10":"XMLHttpRequest (ArrayBuffer)","cases/05_scripting/11_network/network.fire.15":"Label","cases/05_scripting/11_network/network.fire.14":"WebSocket","cases/05_scripting/11_network/network.fire.19":"Label","cases/05_scripting/11_network/network.fire.18":"SocketIO","cases/05_scripting/11_network/download-web.fire.1.1":"\u8fdc\u7a0b\u97f3\u9891\u8d44\u6e90\u4e0b\u8f7d","cases/05_scripting/11_network/download-web.fire.1.2":"\u8fdc\u7a0b\u56fe\u7247\u8d44\u6e90\u4e0b\u8f7d","cases/05_scripting/11_network/download-web.fire.2":"\u7b49\u5f85\u4e0b\u8f7d\u4e2d...","cases/05_scripting/11_network/download-web.fire.3":"\u4e0b\u8f7d\u8fdb\u5ea6\uff1a","cases/05_scripting/11_network/download-web.fire.4.1":"\u8fdc\u7a0b\u97f3\u9891\u8d44\u6e90\u4e0b\u8f7d\u5b8c\u6210","cases/05_scripting/11_network/download-web.fire.4.2":"\u8fdc\u7a0b\u56fe\u7247\u8d44\u6e90\u4e0b\u8f7d\u5b8c\u6210","cases/05_scripting/11_network/download-web.fire.5.1":"\u8fdc\u7a0b\u97f3\u9891\u8d44\u6e90\u4e0b\u8f7d\u5931\u8d25","cases/05_scripting/11_network/download-web.fire.5.2":"\u8fdc\u7a0b\u56fe\u7247\u8d44\u6e90\u4e0b\u8f7d\u5931\u8d25","cases/05_scripting/11_network/download-web.fire.6":"\u8d44\u6e90\u5730\u5740\uff1a","cases/05_scripting/11_network/download-web.fire.7":"\u4e0b\u8f7d","cases/05_scripting/11_network/download-web.fire.8":"\u6ed1\u52a8\u5230\u4e0b\u4e00\u9875","cases/05_scripting/11_network/download-web.fire.9":"\u6ed1\u52a8\u5230\u4e0a\u4e00\u9875","cases/05_scripting/11_network/download-web.fire.10":"\u52a0\u8f7d\u5730\u5740\u65e0\u6548","cases/native_call/native_call.fire.1":"\u70b9\u51fb\u6309\u94ae\u8c03\u7528\u9759\u6001\u65b9\u6cd5\uff01","cases/native_call/native_call.fire.2":"\u70b9\u51fb","cases/collider/Category.fire.3":"\u7ec4: \u78b0\u649e","cases/collider/Category.fire.5":"\u7ec4: \u78b0\u649e","cases/collider/Category.fire.7":"\u7ec4: \u78b0\u649e","cases/collider/Category.fire.9":"\u7ec4: \u9ed8\u8ba4","cases/collider/Shape.fire.20":"\u663e\u793a\u591a\u8fb9\u5f62","cases/collider/Shape.fire.27":"\u663e\u793a\u5706","cases/collider/Shape.fire.34":"\u663e\u793a\u76d2\u5b50","cases/collider/Shape.fire.43":"\u663e\u793a\u591a\u8fb9\u5f62","cases/collider/Shape.fire.50":"\u663e\u793a\u5706","cases/collider/Shape.fire.57":"\u663e\u793a\u76d2\u5b50","cases/motionStreak/MotionStreak.fire.1":"\u6539\u53d8\u62d6\u5c3e","cases/spine/SpineBoy.fire.11":"\u8c03\u8bd5\u63d2\u69fd","cases/spine/SpineBoy.fire.18":"\u8c03\u8bd5\u5173\u8282","cases/spine/SpineBoy.fire.25":"\u65f6\u95f4\u7f29\u653e","cases/spine/SpineBoy.fire.36":"\u505c\u6b62","cases/spine/SpineBoy.fire.43":"\u8d70","cases/spine/SpineBoy.fire.50":"\u8dd1","cases/spine/SpineBoy.fire.58":"\u8df3","cases/spine/SpineBoy.fire.65":"\u5c04\u51fb","cases/tiledmap/Puzzle.fire.18":"\u4f60\u8d62\u4e86","cases/tiledmap/Puzzle.fire.21":"\u91cd\u65b0\u5f00\u59cb","cases/tiledmap/Dynamic-Tiledmap.fire.22":"\u52a8\u6001\u521b\u5efa TiledMap","res/prefabs/ListItem.prefab.2":"Label ssss","res/prefabs/Monster.prefab.3":"\u540d\u5b57:","res/prefabs/Monster.prefab.11":"\u7b49\u7ea7 :","res/prefabs/Monster.prefab.19":"\u8840\u91cf :","res/prefabs/Monster.prefab.27":"\u653b\u51fb :","res/prefabs/Monster.prefab.35":"\u9632\u5fa1 :","res/prefabs/loadItem.prefab.1":"Label","resources/test_assets/prefab.prefab.2":"\u8fd9\u662f\u4e00\u4e2a\u9884\u5236","resources/test_assets/scene.fire.3":"\u8fd4\u56de\u8d44\u6e90\u52a0\u8f7d\u573a\u666f","resources/test_assets/scene.fire.6":"\u8fd4\u56de","scripts/Global/Menu.js.1":"\u8bf4\u660e\u6682\u7f3a","cases/subpackage":"\u52a0\u8f7d\u5b50\u5305","cases/subpackage.loaded":"\u5b50\u5305\u5df2\u7ecf\u6210\u529f\u52a0\u8f7d","scripts/AudioCtrl_Play":"\u64ad\u653e","scripts/AUdioCtrl_Stop":"\u505c\u6b62","scripts/AUdioCtrl_Pause":"\u6682\u505c","scripts/AUdioCtrl_Resume":"\u6062\u590d","scripts/AUdioCtrl_StopAll":"\u505c\u6b62\u6240\u6709","scripts/AUdioCtrl_PauseAll":"\u6682\u505c\u6240\u6709","scripts/AUdioCtrl_ResumeAll":"\u6062\u590d\u6240\u6709",sprite_loadRes_asset_success:"\u8d44\u6e90\u52a0\u8f7d\u6210\u529f",sprite_loadRes_asset_failed:"\u8d44\u6e90\u52a0\u8f7d\u5931\u8d25"},cc._RF.pop()},{}]},{},["LabelLocalized","en","zh","i18n","polyglot","LoadingBarCtrl","AudioEngineControl","AudioSourceControl","PlayBkAudios","PlayFightAudio","UISoundAudio","BlockCover","BlockSide","Board","Boxes","Cell","CellAttack","CellBlood","CellsAnimation","DrawLine","DropCell","DropFromSide","HurtCell","Portal","ProcessBoardCell","PropCellAttackArea","PropHVSkill","RemoveCells","Rocket","SideCell","SidePropSkill","SpawnCells","StepAward","BossRoad","CameraControl","CanvasInit","CloudMove","EnumDefine","Game","BattleGuide","BossFightGuide","OpenBox","RoleBattleGuide","JsonData","JsonDataType","LoadingBar","LoadlevelEditor","ChestReWard","LevelBtn","LevelGole","Map","MapUI","MoveCameraShot","PlayAnimation","BombEffectPool","BulletPool","CellBloodPool","CellPool","CoinPool","PoolMng","Actor","Bullet","Monster","MonsterMove","MonsterSkill","PetSkill","RPG","RoleMove","Singleton","SpawnActor","SpawnMonster","CameraManager","LocalStorage","RPGManager","Spin","SpinChest","SpinReward","ProcessStory","ShowFloatWord","Win","Achievement","ActorUI","ActorUIPage","ActorUIX","PageViewCtrl","UpGradeActorUI","AddTime","BaseUI","CoinUI","DayReWard","DiamondUI","EveryDayLogin","FightUI","MainUI","PauseUI","PetSkillUI","BattlePets","PetExtraction","PetInfo","PetPage","PetUI","Set","StepUI","StoryUI","UIBase","moveAction","Utils","levelEditor","loadStory","moveNode","ShaderComponent","ShaderLab","ShaderManager","ShaderMaterial"]);